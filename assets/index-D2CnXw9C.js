(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function mw(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var fg={exports:{}},zu={};var b2;function FN(){if(b2)return zu;b2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:r,key:c,ref:a!==void 0?a:null,props:l}}return zu.Fragment=e,zu.jsx=t,zu.jsxs=t,zu}var S2;function BN(){return S2||(S2=1,fg.exports=FN()),fg.exports}var g=BN(),hg={exports:{}},ot={};var A2;function VN(){if(A2)return ot;A2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function w(ee){return ee===null||typeof ee!="object"?null:(ee=_&&ee[_]||ee["@@iterator"],typeof ee=="function"?ee:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,b={};function j(ee,F,J){this.props=ee,this.context=F,this.refs=b,this.updater=J||C}j.prototype.isReactComponent={},j.prototype.setState=function(ee,F){if(typeof ee!="object"&&typeof ee!="function"&&ee!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ee,F,"setState")},j.prototype.forceUpdate=function(ee){this.updater.enqueueForceUpdate(this,ee,"forceUpdate")};function R(){}R.prototype=j.prototype;function M(ee,F,J){this.props=ee,this.context=F,this.refs=b,this.updater=J||C}var G=M.prototype=new R;G.constructor=M,E(G,j.prototype),G.isPureReactComponent=!0;var te=Array.isArray;function re(){}var N={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function I(ee,F,J){var W=J.ref;return{$$typeof:n,type:ee,key:F,ref:W!==void 0?W:null,props:J}}function D(ee,F){return I(ee.type,F,ee.props)}function L(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===n}function B(ee){var F={"=":"=0",":":"=2"};return"$"+ee.replace(/[=:]/g,function(J){return F[J]})}var V=/\/+/g;function $e(ee,F){return typeof ee=="object"&&ee!==null&&ee.key!=null?B(""+ee.key):F.toString(36)}function Ue(ee){switch(ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason;default:switch(typeof ee.status=="string"?ee.then(re,re):(ee.status="pending",ee.then(function(F){ee.status==="pending"&&(ee.status="fulfilled",ee.value=F)},function(F){ee.status==="pending"&&(ee.status="rejected",ee.reason=F)})),ee.status){case"fulfilled":return ee.value;case"rejected":throw ee.reason}}throw ee}function de(ee,F,J,W,K){var pe=typeof ee;(pe==="undefined"||pe==="boolean")&&(ee=null);var Re=!1;if(ee===null)Re=!0;else switch(pe){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(ee.$$typeof){case n:case e:Re=!0;break;case p:return Re=ee._init,de(Re(ee._payload),F,J,W,K)}}if(Re)return K=K(ee),Re=W===""?"."+$e(ee,0):W,te(K)?(J="",Re!=null&&(J=Re.replace(V,"$&/")+"/"),de(K,F,J,"",function(ke){return ke})):K!=null&&(L(K)&&(K=D(K,J+(K.key==null||ee&&ee.key===K.key?"":(""+K.key).replace(V,"$&/")+"/")+Re)),F.push(K)),1;Re=0;var Be=W===""?".":W+":";if(te(ee))for(var Oe=0;Oe<ee.length;Oe++)W=ee[Oe],pe=Be+$e(W,Oe),Re+=de(W,F,J,pe,K);else if(Oe=w(ee),typeof Oe=="function")for(ee=Oe.call(ee),Oe=0;!(W=ee.next()).done;)W=W.value,pe=Be+$e(W,Oe++),Re+=de(W,F,J,pe,K);else if(pe==="object"){if(typeof ee.then=="function")return de(Ue(ee),F,J,W,K);throw F=String(ee),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(ee).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Re}function be(ee,F,J){if(ee==null)return ee;var W=[],K=0;return de(ee,W,"","",function(pe){return F.call(J,pe,K++)}),W}function qe(ee){if(ee._status===-1){var F=ee._result;F=F(),F.then(function(J){(ee._status===0||ee._status===-1)&&(ee._status=1,ee._result=J)},function(J){(ee._status===0||ee._status===-1)&&(ee._status=2,ee._result=J)}),ee._status===-1&&(ee._status=0,ee._result=F)}if(ee._status===1)return ee._result.default;throw ee._result}var Ze=typeof reportError=="function"?reportError:function(ee){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ee=="object"&&ee!==null&&typeof ee.message=="string"?String(ee.message):String(ee),error:ee});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ee);return}console.error(ee)},Je={map:be,forEach:function(ee,F,J){be(ee,function(){F.apply(this,arguments)},J)},count:function(ee){var F=0;return be(ee,function(){F++}),F},toArray:function(ee){return be(ee,function(F){return F})||[]},only:function(ee){if(!L(ee))throw Error("React.Children.only expected to receive a single React element child.");return ee}};return ot.Activity=y,ot.Children=Je,ot.Component=j,ot.Fragment=t,ot.Profiler=a,ot.PureComponent=M,ot.StrictMode=r,ot.Suspense=h,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,ot.__COMPILER_RUNTIME={__proto__:null,c:function(ee){return N.H.useMemoCache(ee)}},ot.cache=function(ee){return function(){return ee.apply(null,arguments)}},ot.cacheSignal=function(){return null},ot.cloneElement=function(ee,F,J){if(ee==null)throw Error("The argument must be a React element, but you passed "+ee+".");var W=E({},ee.props),K=ee.key;if(F!=null)for(pe in F.key!==void 0&&(K=""+F.key),F)!O.call(F,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&F.ref===void 0||(W[pe]=F[pe]);var pe=arguments.length-2;if(pe===1)W.children=J;else if(1<pe){for(var Re=Array(pe),Be=0;Be<pe;Be++)Re[Be]=arguments[Be+2];W.children=Re}return I(ee.type,K,W)},ot.createContext=function(ee){return ee={$$typeof:c,_currentValue:ee,_currentValue2:ee,_threadCount:0,Provider:null,Consumer:null},ee.Provider=ee,ee.Consumer={$$typeof:l,_context:ee},ee},ot.createElement=function(ee,F,J){var W,K={},pe=null;if(F!=null)for(W in F.key!==void 0&&(pe=""+F.key),F)O.call(F,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(K[W]=F[W]);var Re=arguments.length-2;if(Re===1)K.children=J;else if(1<Re){for(var Be=Array(Re),Oe=0;Oe<Re;Oe++)Be[Oe]=arguments[Oe+2];K.children=Be}if(ee&&ee.defaultProps)for(W in Re=ee.defaultProps,Re)K[W]===void 0&&(K[W]=Re[W]);return I(ee,pe,K)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(ee){return{$$typeof:f,render:ee}},ot.isValidElement=L,ot.lazy=function(ee){return{$$typeof:p,_payload:{_status:-1,_result:ee},_init:qe}},ot.memo=function(ee,F){return{$$typeof:d,type:ee,compare:F===void 0?null:F}},ot.startTransition=function(ee){var F=N.T,J={};N.T=J;try{var W=ee(),K=N.S;K!==null&&K(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(re,Ze)}catch(pe){Ze(pe)}finally{F!==null&&J.types!==null&&(F.types=J.types),N.T=F}},ot.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},ot.use=function(ee){return N.H.use(ee)},ot.useActionState=function(ee,F,J){return N.H.useActionState(ee,F,J)},ot.useCallback=function(ee,F){return N.H.useCallback(ee,F)},ot.useContext=function(ee){return N.H.useContext(ee)},ot.useDebugValue=function(){},ot.useDeferredValue=function(ee,F){return N.H.useDeferredValue(ee,F)},ot.useEffect=function(ee,F){return N.H.useEffect(ee,F)},ot.useEffectEvent=function(ee){return N.H.useEffectEvent(ee)},ot.useId=function(){return N.H.useId()},ot.useImperativeHandle=function(ee,F,J){return N.H.useImperativeHandle(ee,F,J)},ot.useInsertionEffect=function(ee,F){return N.H.useInsertionEffect(ee,F)},ot.useLayoutEffect=function(ee,F){return N.H.useLayoutEffect(ee,F)},ot.useMemo=function(ee,F){return N.H.useMemo(ee,F)},ot.useOptimistic=function(ee,F){return N.H.useOptimistic(ee,F)},ot.useReducer=function(ee,F,J){return N.H.useReducer(ee,F,J)},ot.useRef=function(ee){return N.H.useRef(ee)},ot.useState=function(ee){return N.H.useState(ee)},ot.useSyncExternalStore=function(ee,F,J){return N.H.useSyncExternalStore(ee,F,J)},ot.useTransition=function(){return N.H.useTransition()},ot.version="19.2.1",ot}var C2;function C1(){return C2||(C2=1,hg.exports=VN()),hg.exports}var Z=C1();const cl=mw(Z);var dg={exports:{}},Hu={},mg={exports:{}},pg={};var N2;function UN(){return N2||(N2=1,(function(n){function e(de,be){var qe=de.length;de.push(be);e:for(;0<qe;){var Ze=qe-1>>>1,Je=de[Ze];if(0<a(Je,be))de[Ze]=be,de[qe]=Je,qe=Ze;else break e}}function t(de){return de.length===0?null:de[0]}function r(de){if(de.length===0)return null;var be=de[0],qe=de.pop();if(qe!==be){de[0]=qe;e:for(var Ze=0,Je=de.length,ee=Je>>>1;Ze<ee;){var F=2*(Ze+1)-1,J=de[F],W=F+1,K=de[W];if(0>a(J,qe))W<Je&&0>a(K,J)?(de[Ze]=K,de[W]=qe,Ze=W):(de[Ze]=J,de[F]=qe,Ze=F);else if(W<Je&&0>a(K,qe))de[Ze]=K,de[W]=qe,Ze=W;else break e}}return be}function a(de,be){var qe=de.sortIndex-be.sortIndex;return qe!==0?qe:de.id-be.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var h=[],d=[],p=1,y=null,_=3,w=!1,C=!1,E=!1,b=!1,j=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;function G(de){for(var be=t(d);be!==null;){if(be.callback===null)r(d);else if(be.startTime<=de)r(d),be.sortIndex=be.expirationTime,e(h,be);else break;be=t(d)}}function te(de){if(E=!1,G(de),!C)if(t(h)!==null)C=!0,re||(re=!0,B());else{var be=t(d);be!==null&&Ue(te,be.startTime-de)}}var re=!1,N=-1,O=5,I=-1;function D(){return b?!0:!(n.unstable_now()-I<O)}function L(){if(b=!1,re){var de=n.unstable_now();I=de;var be=!0;try{e:{C=!1,E&&(E=!1,R(N),N=-1),w=!0;var qe=_;try{t:{for(G(de),y=t(h);y!==null&&!(y.expirationTime>de&&D());){var Ze=y.callback;if(typeof Ze=="function"){y.callback=null,_=y.priorityLevel;var Je=Ze(y.expirationTime<=de);if(de=n.unstable_now(),typeof Je=="function"){y.callback=Je,G(de),be=!0;break t}y===t(h)&&r(h),G(de)}else r(h);y=t(h)}if(y!==null)be=!0;else{var ee=t(d);ee!==null&&Ue(te,ee.startTime-de),be=!1}}break e}finally{y=null,_=qe,w=!1}be=void 0}}finally{be?B():re=!1}}}var B;if(typeof M=="function")B=function(){M(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,$e=V.port2;V.port1.onmessage=L,B=function(){$e.postMessage(null)}}else B=function(){j(L,0)};function Ue(de,be){N=j(function(){de(n.unstable_now())},be)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(de){de.callback=null},n.unstable_forceFrameRate=function(de){0>de||125<de?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<de?Math.floor(1e3/de):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(de){switch(_){case 1:case 2:case 3:var be=3;break;default:be=_}var qe=_;_=be;try{return de()}finally{_=qe}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(de,be){switch(de){case 1:case 2:case 3:case 4:case 5:break;default:de=3}var qe=_;_=de;try{return be()}finally{_=qe}},n.unstable_scheduleCallback=function(de,be,qe){var Ze=n.unstable_now();switch(typeof qe=="object"&&qe!==null?(qe=qe.delay,qe=typeof qe=="number"&&0<qe?Ze+qe:Ze):qe=Ze,de){case 1:var Je=-1;break;case 2:Je=250;break;case 5:Je=1073741823;break;case 4:Je=1e4;break;default:Je=5e3}return Je=qe+Je,de={id:p++,callback:be,priorityLevel:de,startTime:qe,expirationTime:Je,sortIndex:-1},qe>Ze?(de.sortIndex=qe,e(d,de),t(h)===null&&de===t(d)&&(E?(R(N),N=-1):E=!0,Ue(te,qe-Ze))):(de.sortIndex=Je,e(h,de),C||w||(C=!0,re||(re=!0,B()))),de},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(de){var be=_;return function(){var qe=_;_=be;try{return de.apply(this,arguments)}finally{_=qe}}}})(pg)),pg}var R2;function zN(){return R2||(R2=1,mg.exports=UN()),mg.exports}var gg={exports:{}},gr={};var I2;function HN(){if(I2)return gr;I2=1;var n=C1();function e(h){var d="https://react.dev/errors/"+h;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,d,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:d,implementation:p}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,d){if(h==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return gr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,gr.createPortal=function(h,d){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return l(h,d,null,p)},gr.flushSync=function(h){var d=c.T,p=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=d,r.p=p,r.d.f()}},gr.preconnect=function(h,d){typeof h=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(h,d))},gr.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},gr.preinit=function(h,d){if(typeof h=="string"&&d&&typeof d.as=="string"){var p=d.as,y=f(p,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,w=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;p==="style"?r.d.S(h,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:w}):p==="script"&&r.d.X(h,{crossOrigin:y,integrity:_,fetchPriority:w,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},gr.preinitModule=function(h,d){if(typeof h=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var p=f(d.as,d.crossOrigin);r.d.M(h,{crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(h)},gr.preload=function(h,d){if(typeof h=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var p=d.as,y=f(p,d.crossOrigin);r.d.L(h,p,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},gr.preloadModule=function(h,d){if(typeof h=="string")if(d){var p=f(d.as,d.crossOrigin);r.d.m(h,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:p,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(h)},gr.requestFormReset=function(h){r.d.r(h)},gr.unstable_batchedUpdates=function(h,d){return h(d)},gr.useFormState=function(h,d,p){return c.H.useFormState(h,d,p)},gr.useFormStatus=function(){return c.H.useHostTransitionStatus()},gr.version="19.2.1",gr}var O2;function qN(){if(O2)return gg.exports;O2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),gg.exports=HN(),gg.exports}var D2;function GN(){if(D2)return Hu;D2=1;var n=zN(),e=C1(),t=qN();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,u=s;;){var v=o.return;if(v===null)break;var x=v.alternate;if(x===null){if(u=v.return,u!==null){o=u;continue}break}if(v.child===x.child){for(x=v.child;x;){if(x===o)return h(v),i;if(x===u)return h(v),s;x=x.sibling}throw Error(r(188))}if(o.return!==u.return)o=v,u=x;else{for(var S=!1,P=v.child;P;){if(P===o){S=!0,o=v,u=x;break}if(P===u){S=!0,u=v,o=x;break}P=P.sibling}if(!S){for(P=x.child;P;){if(P===o){S=!0,o=x,u=v;break}if(P===u){S=!0,u=x,o=v;break}P=P.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function $e(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case E:return"Fragment";case j:return"Profiler";case b:return"StrictMode";case te:return"Suspense";case re:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case C:return"Portal";case M:return i.displayName||"Context";case R:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case N:return s=i.displayName||null,s!==null?s:$e(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return $e(i(s))}catch{}}return null}var Ue=Array.isArray,de=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,be=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,qe={pending:!1,data:null,method:null,action:null},Ze=[],Je=-1;function ee(i){return{current:i}}function F(i){0>Je||(i.current=Ze[Je],Ze[Je]=null,Je--)}function J(i,s){Je++,Ze[Je]=i.current,i.current=s}var W=ee(null),K=ee(null),pe=ee(null),Re=ee(null);function Be(i,s){switch(J(pe,s),J(K,i),J(W,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?X_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=X_(s),i=W_(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}F(W),J(W,i)}function Oe(){F(W),F(K),F(pe)}function ke(i){i.memoizedState!==null&&J(Re,i);var s=W.current,o=W_(s,i.type);s!==o&&(J(K,i),J(W,o))}function gt(i){K.current===i&&(F(W),F(K)),Re.current===i&&(F(Re),Fu._currentValue=qe)}var lt,en;function ut(i){if(lt===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);lt=s&&s[1]||"",en=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lt+i+en}var Xn=!1;function Ct(i,s){if(!i||Xn)return"";Xn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ve){var me=ve}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(ve){me=ve}i.call(Te.prototype)}}else{try{throw Error()}catch(ve){me=ve}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ve){if(ve&&me&&typeof ve.stack=="string")return[ve.stack,me.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=u.DetermineComponentFrameRoot(),S=x[0],P=x[1];if(S&&P){var Q=S.split(`
`),ue=P.split(`
`);for(v=u=0;u<Q.length&&!Q[u].includes("DetermineComponentFrameRoot");)u++;for(;v<ue.length&&!ue[v].includes("DetermineComponentFrameRoot");)v++;if(u===Q.length||v===ue.length)for(u=Q.length-1,v=ue.length-1;1<=u&&0<=v&&Q[u]!==ue[v];)v--;for(;1<=u&&0<=v;u--,v--)if(Q[u]!==ue[v]){if(u!==1||v!==1)do if(u--,v--,0>v||Q[u]!==ue[v]){var _e=`
`+Q[u].replace(" at new "," at ");return i.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",i.displayName)),_e}while(1<=u&&0<=v);break}}}finally{Xn=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?ut(o):""}function ze(i,s){switch(i.tag){case 26:case 27:case 5:return ut(i.type);case 16:return ut("Lazy");case 13:return i.child!==s&&s!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Ct(i.type,!1);case 11:return Ct(i.type.render,!1);case 1:return Ct(i.type,!0);case 31:return ut("Activity");default:return""}}function bn(i){try{var s="",o=null;do s+=ze(i,o),o=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Nt=Object.prototype.hasOwnProperty,Pt=n.unstable_scheduleCallback,Wn=n.unstable_cancelCallback,wr=n.unstable_shouldYield,$r=n.unstable_requestPaint,Yt=n.unstable_now,Dr=n.unstable_getCurrentPriorityLevel,Di=n.unstable_ImmediatePriority,ki=n.unstable_UserBlockingPriority,$n=n.unstable_NormalPriority,ds=n.unstable_LowPriority,mi=n.unstable_IdlePriority,na=n.log,Ia=n.unstable_setDisableYieldValue,se=null,Me=null;function He(i){if(typeof na=="function"&&Ia(i),Me&&typeof Me.setStrictMode=="function")try{Me.setStrictMode(se,i)}catch{}}var Ie=Math.clz32?Math.clz32:br,ft=Math.log,tn=Math.LN2;function br(i){return i>>>=0,i===0?32:31-(ft(i)/tn|0)|0}var Sr=256,Mi=262144,cn=4194304;function Kn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function kr(i,s,o){var u=i.pendingLanes;if(u===0)return 0;var v=0,x=i.suspendedLanes,S=i.pingedLanes;i=i.warmLanes;var P=u&134217727;return P!==0?(u=P&~x,u!==0?v=Kn(u):(S&=P,S!==0?v=Kn(S):o||(o=P&~i,o!==0&&(v=Kn(o))))):(P=u&~x,P!==0?v=Kn(P):S!==0?v=Kn(S):o||(o=u&~i,o!==0&&(v=Kn(o)))),v===0?0:s!==0&&s!==v&&(s&x)===0&&(x=v&-v,o=s&-s,x>=o||x===32&&(o&4194048)!==0)?s:v}function hr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ra(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mr(){var i=cn;return cn<<=1,(cn&62914560)===0&&(cn=4194304),i}function Qn(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function dr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Cl(i,s,o,u,v,x){var S=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var P=i.entanglements,Q=i.expirationTimes,ue=i.hiddenUpdates;for(o=S&~o;0<o;){var _e=31-Ie(o),Te=1<<_e;P[_e]=0,Q[_e]=-1;var me=ue[_e];if(me!==null)for(ue[_e]=null,_e=0;_e<me.length;_e++){var ve=me[_e];ve!==null&&(ve.lane&=-536870913)}o&=~Te}u!==0&&Pi(i,u,0),x!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=x&~(S&~s))}function Pi(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-Ie(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Li(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var u=31-Ie(o),v=1<<u;v&s|i[u]&s&&(i[u]|=s),o&=~v}}function Oa(i,s){var o=s&-s;return o=(o&42)!==0?1:ia(o),(o&(i.suspendedLanes|s))!==0?0:o}function ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pr(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function k(){var i=be.p;return i!==0?i:(i=window.event,i===void 0?32:v2(i.type))}function q(i,s){var o=be.p;try{return be.p=i,s()}finally{be.p=o}}var U=Math.random().toString(36).slice(2),H="__reactFiber$"+U,Y="__reactProps$"+U,X="__reactContainer$"+U,oe="__reactEvents$"+U,ye="__reactListeners$"+U,ce="__reactHandles$"+U,he="__reactResources$"+U,fe="__reactMarker$"+U;function Ne(i){delete i[H],delete i[Y],delete i[oe],delete i[ye],delete i[ce]}function De(i){var s=i[H];if(s)return s;for(var o=i.parentNode;o;){if(s=o[X]||o[H]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=t2(i);i!==null;){if(o=i[H])return o;i=t2(i)}return s}i=o,o=i.parentNode}return null}function Ve(i){if(i=i[H]||i[X]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ce(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Fe(i){var s=i[he];return s||(s=i[he]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function We(i){i[fe]=!0}var jt=new Set,Ft={};function Jt(i,s){mr(i,s),mr(i+"Capture",s)}function mr(i,s){for(Ft[i]=s,i=0;i<s.length;i++)jt.add(s[i])}var ji=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fi={},Kr={};function ms(i){return Nt.call(Kr,i)?!0:Nt.call(Fi,i)?!1:ji.test(i)?Kr[i]=!0:(Fi[i]=!0,!1)}function pr(i,s,o){if(ms(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function Qr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Sn(i,s,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+u)}}function Vn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ps(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kc(i,s,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var v=u.get,x=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return v.call(this)},set:function(S){o=""+S,x.call(this,S)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Bt(i){if(!i._valueTracker){var s=ps(i)?"checked":"value";i._valueTracker=Kc(i,s,""+i[s])}}function Nl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return i&&(u=ps(i)?i.checked?"true":"false":i.value),i=u,i!==o?(s.setValue(i),!0):!1}function aa(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rl=/[\n"\\]/g;function Lr(i){return i.replace(Rl,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function bo(i,s,o,u,v,x,S,P){i.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?i.type=S:i.removeAttribute("type"),s!=null?S==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Vn(s)):i.value!==""+Vn(s)&&(i.value=""+Vn(s)):S!=="submit"&&S!=="reset"||i.removeAttribute("value"),s!=null?Qc(i,S,Vn(s)):o!=null?Qc(i,S,Vn(o)):u!=null&&i.removeAttribute("value"),v==null&&x!=null&&(i.defaultChecked=!!x),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?i.name=""+Vn(P):i.removeAttribute("name")}function eh(i,s,o,u,v,x,S,P){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(i.type=x),s!=null||o!=null){if(!(x!=="submit"&&x!=="reset"||s!=null)){Bt(i);return}o=o!=null?""+Vn(o):"",s=s!=null?""+Vn(s):o,P||s===i.value||(i.value=s),i.defaultValue=s}u=u??v,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=P?i.checked:!!u,i.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(i.name=S),Bt(i)}function Qc(i,s,o){s==="number"&&aa(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function gs(i,s,o,u){if(i=i.options,s){s={};for(var v=0;v<o.length;v++)s["$"+o[v]]=!0;for(o=0;o<i.length;o++)v=s.hasOwnProperty("$"+i[o].value),i[o].selected!==v&&(i[o].selected=v),v&&u&&(i[o].defaultSelected=!0)}else{for(o=""+Vn(o),s=null,v=0;v<i.length;v++){if(i[v].value===o){i[v].selected=!0,u&&(i[v].defaultSelected=!0);return}s!==null||i[v].disabled||(s=i[v])}s!==null&&(s.selected=!0)}}function th(i,s,o){if(s!=null&&(s=""+Vn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Vn(o):""}function vs(i,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Ue(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Vn(s),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),Bt(i)}function jr(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jc(i,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,o):typeof o!="number"||o===0||nh.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Zc(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var v in s)u=s[v],s.hasOwnProperty(v)&&o[v]!==u&&Jc(i,v,u)}else for(var x in s)s.hasOwnProperty(x)&&Jc(i,x,s[x])}function So(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ao(i){return xs.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Bi(){}var eu=null;function pi(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ys=null,sa=null;function Il(i){var s=Ve(i);if(s&&(i=s.stateNode)){var o=i[Y]||null;e:switch(i=s.stateNode,s.type){case"input":if(bo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lr(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==i&&u.form===i.form){var v=u[Y]||null;if(!v)throw Error(r(90));bo(u,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===i.form&&Nl(u)}break e;case"textarea":th(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&gs(i,!!o.multiple,s,!1)}}}var Co=!1;function _s(i,s,o){if(Co)return i(s,o);Co=!0;try{var u=i(s);return u}finally{if(Co=!1,(ys!==null||sa!==null)&&(Kh(),ys&&(s=ys,i=sa,sa=ys=null,Il(s),i)))for(s=0;s<i.length;s++)Il(i[s])}}function Vi(i,s){var o=i.stateNode;if(o===null)return null;var u=o[Y]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ol=!1;if(gi)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){Ol=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{Ol=!1}var la=null,tu=null,Dl=null;function nu(){if(Dl)return Dl;var i,s=tu,o=s.length,u,v="value"in la?la.value:la.textContent,x=v.length;for(i=0;i<o&&s[i]===v[i];i++);var S=o-i;for(u=1;u<=S&&s[o-u]===v[x-u];u++);return Dl=v.slice(i,1<u?1-u:void 0)}function kl(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Da(){return!0}function Ui(){return!1}function Jn(i){function s(o,u,v,x,S){this._reactName=o,this._targetInst=v,this.type=u,this.nativeEvent=x,this.target=S,this.currentTarget=null;for(var P in i)i.hasOwnProperty(P)&&(o=i[P],this[P]=o?o(x):x[P]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Da:Ui,this.isPropagationStopped=Ui,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),s}var ka={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oa=Jn(ka),Es=y({},ka,{view:0,detail:0}),ru=Jn(Es),Ts,No,ca,Ro=y({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ca&&(ca&&i.type==="mousemove"?(Ts=i.screenX-ca.screenX,No=i.screenY-ca.screenY):No=Ts=0,ca=i),Ts)},movementY:function(i){return"movementY"in i?i.movementY:No}}),iu=Jn(Ro),Ml=y({},Ro,{dataTransfer:0}),ih=Jn(Ml),ah=y({},Es,{relatedTarget:0}),Pl=Jn(ah),au=y({},ka,{animationName:0,elapsedTime:0,pseudoElement:0}),sh=Jn(au),Io=y({},ka,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),lh=Jn(Io),oh=y({},ka,{data:0}),ua=Jn(oh),ch={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hh(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=fh[i])?!!s[i]:!1}function ws(){return hh}var Ar=y({},Es,{key:function(i){if(i.key){var s=ch[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=kl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?uh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(i){return i.type==="keypress"?kl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?kl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),dh=Jn(Ar),mh=y({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=Jn(mh),m=y({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),T=Jn(m),A=y({},ka,{propertyName:0,elapsedTime:0,pseudoElement:0}),z=Jn(A),ae=y({},Ro,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ge=Jn(ae),je=y({},ka,{newState:0,oldState:0}),ht=Jn(je),_n=[9,13,27,32],Dt=gi&&"CompositionEvent"in window,un=null;gi&&"documentMode"in document&&(un=document.documentMode);var vi=gi&&"TextEvent"in window&&!un,fa=gi&&(!Dt||un&&8<un&&11>=un),zi=" ",Hi=!1;function Ll(i,s){switch(i){case"keyup":return _n.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Do=!1;function oC(i,s){switch(i){case"compositionend":return Oo(s);case"keypress":return s.which!==32?null:(Hi=!0,zi);case"textInput":return i=s.data,i===zi&&Hi?null:i;default:return null}}function cC(i,s){if(Do)return i==="compositionend"||!Dt&&Ll(i,s)?(i=nu(),Dl=tu=la=null,Do=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return fa&&s.locale!=="ko"?null:s.data;default:return null}}var uC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ix(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!uC[i.type]:s==="textarea"}function ax(i,s,o,u){ys?sa?sa.push(u):sa=[u]:ys=u,s=r0(s,"onChange"),0<s.length&&(o=new oa("onChange","change",null,o,u),i.push({event:o,listeners:s}))}var su=null,lu=null;function fC(i){U_(i,0)}function ph(i){var s=Ce(i);if(Nl(s))return i}function sx(i,s){if(i==="change")return s}var lx=!1;if(gi){var xm;if(gi){var ym="oninput"in document;if(!ym){var ox=document.createElement("div");ox.setAttribute("oninput","return;"),ym=typeof ox.oninput=="function"}xm=ym}else xm=!1;lx=xm&&(!document.documentMode||9<document.documentMode)}function cx(){su&&(su.detachEvent("onpropertychange",ux),lu=su=null)}function ux(i){if(i.propertyName==="value"&&ph(lu)){var s=[];ax(s,lu,i,pi(i)),_s(fC,s)}}function hC(i,s,o){i==="focusin"?(cx(),su=s,lu=o,su.attachEvent("onpropertychange",ux)):i==="focusout"&&cx()}function dC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ph(lu)}function mC(i,s){if(i==="click")return ph(s)}function pC(i,s){if(i==="input"||i==="change")return ph(s)}function gC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Jr=typeof Object.is=="function"?Object.is:gC;function ou(i,s){if(Jr(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var v=o[u];if(!Nt.call(s,v)||!Jr(i[v],s[v]))return!1}return!0}function fx(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hx(i,s){var o=fx(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=s&&u>=s)return{node:o,offset:s-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=fx(o)}}function dx(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?dx(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mx(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=aa(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=aa(i.document)}return s}function _m(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var vC=gi&&"documentMode"in document&&11>=document.documentMode,ko=null,Em=null,cu=null,Tm=!1;function px(i,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Tm||ko==null||ko!==aa(u)||(u=ko,"selectionStart"in u&&_m(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),cu&&ou(cu,u)||(cu=u,u=r0(Em,"onSelect"),0<u.length&&(s=new oa("onSelect","select",null,s,o),i.push({event:s,listeners:u}),s.target=ko)))}function jl(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Mo={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionrun:jl("Transition","TransitionRun"),transitionstart:jl("Transition","TransitionStart"),transitioncancel:jl("Transition","TransitionCancel"),transitionend:jl("Transition","TransitionEnd")},wm={},gx={};gi&&(gx=document.createElement("div").style,"AnimationEvent"in window||(delete Mo.animationend.animation,delete Mo.animationiteration.animation,delete Mo.animationstart.animation),"TransitionEvent"in window||delete Mo.transitionend.transition);function Fl(i){if(wm[i])return wm[i];if(!Mo[i])return i;var s=Mo[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in gx)return wm[i]=s[o];return i}var vx=Fl("animationend"),xx=Fl("animationiteration"),yx=Fl("animationstart"),xC=Fl("transitionrun"),yC=Fl("transitionstart"),_C=Fl("transitioncancel"),_x=Fl("transitionend"),Ex=new Map,bm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bm.push("scrollEnd");function qi(i,s){Ex.set(i,s),Jt(s,[i])}var gh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xi=[],Po=0,Sm=0;function vh(){for(var i=Po,s=Sm=Po=0;s<i;){var o=xi[s];xi[s++]=null;var u=xi[s];xi[s++]=null;var v=xi[s];xi[s++]=null;var x=xi[s];if(xi[s++]=null,u!==null&&v!==null){var S=u.pending;S===null?v.next=v:(v.next=S.next,S.next=v),u.pending=v}x!==0&&Tx(o,v,x)}}function xh(i,s,o,u){xi[Po++]=i,xi[Po++]=s,xi[Po++]=o,xi[Po++]=u,Sm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Am(i,s,o,u){return xh(i,s,o,u),yh(i)}function Bl(i,s){return xh(i,null,null,s),yh(i)}function Tx(i,s,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var v=!1,x=i.return;x!==null;)x.childLanes|=o,u=x.alternate,u!==null&&(u.childLanes|=o),x.tag===22&&(i=x.stateNode,i===null||i._visibility&1||(v=!0)),i=x,x=x.return;return i.tag===3?(x=i.stateNode,v&&s!==null&&(v=31-Ie(o),i=x.hiddenUpdates,u=i[v],u===null?i[v]=[s]:u.push(s),s.lane=o|536870912),x):null}function yh(i){if(50<Ou)throw Ou=0,Pp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Lo={};function EC(i,s,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zr(i,s,o,u){return new EC(i,s,o,u)}function Cm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pa(i,s){var o=i.alternate;return o===null?(o=Zr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function wx(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function _h(i,s,o,u,v,x){var S=0;if(u=i,typeof i=="function")Cm(i)&&(S=1);else if(typeof i=="string")S=AN(i,o,W.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Zr(31,o,s,v),i.elementType=I,i.lanes=x,i;case E:return Vl(o.children,v,x,s);case b:S=8,v|=24;break;case j:return i=Zr(12,o,s,v|2),i.elementType=j,i.lanes=x,i;case te:return i=Zr(13,o,s,v),i.elementType=te,i.lanes=x,i;case re:return i=Zr(19,o,s,v),i.elementType=re,i.lanes=x,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case M:S=10;break e;case R:S=9;break e;case G:S=11;break e;case N:S=14;break e;case O:S=16,u=null;break e}S=29,o=Error(r(130,i===null?"null":typeof i,"")),u=null}return s=Zr(S,o,s,v),s.elementType=i,s.type=u,s.lanes=x,s}function Vl(i,s,o,u){return i=Zr(7,i,u,s),i.lanes=o,i}function Nm(i,s,o){return i=Zr(6,i,null,s),i.lanes=o,i}function bx(i){var s=Zr(18,null,null,0);return s.stateNode=i,s}function Rm(i,s,o){return s=Zr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Sx=new WeakMap;function yi(i,s){if(typeof i=="object"&&i!==null){var o=Sx.get(i);return o!==void 0?o:(s={value:i,source:s,stack:bn(s)},Sx.set(i,s),s)}return{value:i,source:s,stack:bn(s)}}var jo=[],Fo=0,Eh=null,uu=0,_i=[],Ei=0,bs=null,ha=1,da="";function La(i,s){jo[Fo++]=uu,jo[Fo++]=Eh,Eh=i,uu=s}function Ax(i,s,o){_i[Ei++]=ha,_i[Ei++]=da,_i[Ei++]=bs,bs=i;var u=ha;i=da;var v=32-Ie(u)-1;u&=~(1<<v),o+=1;var x=32-Ie(s)+v;if(30<x){var S=v-v%5;x=(u&(1<<S)-1).toString(32),u>>=S,v-=S,ha=1<<32-Ie(s)+v|o<<v|u,da=x+i}else ha=1<<x|o<<v|u,da=i}function Im(i){i.return!==null&&(La(i,1),Ax(i,1,0))}function Om(i){for(;i===Eh;)Eh=jo[--Fo],jo[Fo]=null,uu=jo[--Fo],jo[Fo]=null;for(;i===bs;)bs=_i[--Ei],_i[Ei]=null,da=_i[--Ei],_i[Ei]=null,ha=_i[--Ei],_i[Ei]=null}function Cx(i,s){_i[Ei++]=ha,_i[Ei++]=da,_i[Ei++]=bs,ha=s.id,da=s.overflow,bs=i}var Zn=null,rn=null,St=!1,Ss=null,Ti=!1,Dm=Error(r(519));function As(i){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw fu(yi(s,i)),Dm}function Nx(i){var s=i.stateNode,o=i.type,u=i.memoizedProps;switch(s[H]=i,s[Y]=u,o){case"dialog":yt("cancel",s),yt("close",s);break;case"iframe":case"object":case"embed":yt("load",s);break;case"video":case"audio":for(o=0;o<ku.length;o++)yt(ku[o],s);break;case"source":yt("error",s);break;case"img":case"image":case"link":yt("error",s),yt("load",s);break;case"details":yt("toggle",s);break;case"input":yt("invalid",s),eh(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":yt("invalid",s);break;case"textarea":yt("invalid",s),vs(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||G_(s.textContent,o)?(u.popover!=null&&(yt("beforetoggle",s),yt("toggle",s)),u.onScroll!=null&&yt("scroll",s),u.onScrollEnd!=null&&yt("scrollend",s),u.onClick!=null&&(s.onclick=Bi),s=!0):s=!1,s||As(i,!0)}function Rx(i){for(Zn=i.return;Zn;)switch(Zn.tag){case 5:case 31:case 13:Ti=!1;return;case 27:case 3:Ti=!0;return;default:Zn=Zn.return}}function Bo(i){if(i!==Zn)return!1;if(!St)return Rx(i),St=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Kp(i.type,i.memoizedProps)),o=!o),o&&rn&&As(i),Rx(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));rn=e2(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));rn=e2(i)}else s===27?(s=rn,Vs(i.type)?(i=tg,tg=null,rn=i):rn=s):rn=Zn?bi(i.stateNode.nextSibling):null;return!0}function Ul(){rn=Zn=null,St=!1}function km(){var i=Ss;return i!==null&&(Ur===null?Ur=i:Ur.push.apply(Ur,i),Ss=null),i}function fu(i){Ss===null?Ss=[i]:Ss.push(i)}var Mm=ee(null),zl=null,ja=null;function Cs(i,s,o){J(Mm,s._currentValue),s._currentValue=o}function Fa(i){i._currentValue=Mm.current,F(Mm)}function Pm(i,s,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===o)break;i=i.return}}function Lm(i,s,o,u){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var x=v.dependencies;if(x!==null){var S=v.child;x=x.firstContext;e:for(;x!==null;){var P=x;x=v;for(var Q=0;Q<s.length;Q++)if(P.context===s[Q]){x.lanes|=o,P=x.alternate,P!==null&&(P.lanes|=o),Pm(x.return,o,i),u||(S=null);break e}x=P.next}}else if(v.tag===18){if(S=v.return,S===null)throw Error(r(341));S.lanes|=o,x=S.alternate,x!==null&&(x.lanes|=o),Pm(S,o,i),S=null}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===i){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}}function Vo(i,s,o,u){i=null;for(var v=s,x=!1;v!==null;){if(!x){if((v.flags&524288)!==0)x=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var S=v.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var P=v.type;Jr(v.pendingProps.value,S.value)||(i!==null?i.push(P):i=[P])}}else if(v===Re.current){if(S=v.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Fu):i=[Fu])}v=v.return}i!==null&&Lm(s,i,o,u),s.flags|=262144}function Th(i){for(i=i.firstContext;i!==null;){if(!Jr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Hl(i){zl=i,ja=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function er(i){return Ix(zl,i)}function wh(i,s){return zl===null&&Hl(i),Ix(i,s)}function Ix(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},ja===null){if(i===null)throw Error(r(308));ja=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ja=ja.next=s;return o}var TC=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},wC=n.unstable_scheduleCallback,bC=n.unstable_NormalPriority,An={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jm(){return{controller:new TC,data:new Map,refCount:0}}function hu(i){i.refCount--,i.refCount===0&&wC(bC,function(){i.controller.abort()})}var du=null,Fm=0,Uo=0,zo=null;function SC(i,s){if(du===null){var o=du=[];Fm=0,Uo=Up(),zo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fm++,s.then(Ox,Ox),s}function Ox(){if(--Fm===0&&du!==null){zo!==null&&(zo.status="fulfilled");var i=du;du=null,Uo=0,zo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function AC(i,s){var o=[],u={status:"pending",value:null,reason:null,then:function(v){o.push(v)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var v=0;v<o.length;v++)(0,o[v])(s)},function(v){for(u.status="rejected",u.reason=v,v=0;v<o.length;v++)(0,o[v])(void 0)}),u}var Dx=de.S;de.S=function(i,s){p_=Yt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&SC(i,s),Dx!==null&&Dx(i,s)};var ql=ee(null);function Bm(){var i=ql.current;return i!==null?i:Zt.pooledCache}function bh(i,s){s===null?J(ql,ql.current):J(ql,s.pool)}function kx(){var i=Bm();return i===null?null:{parent:An._currentValue,pool:i}}var Ho=Error(r(460)),Vm=Error(r(474)),Sh=Error(r(542)),Ah={then:function(){}};function Mx(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Px(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Bi,Bi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jx(i),i;default:if(typeof s.status=="string")s.then(Bi,Bi);else{if(i=Zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var v=s;v.status="fulfilled",v.value=u}},function(u){if(s.status==="pending"){var v=s;v.status="rejected",v.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,jx(i),i}throw Yl=s,Ho}}function Gl(i){try{var s=i._init;return s(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Yl=o,Ho):o}}var Yl=null;function Lx(){if(Yl===null)throw Error(r(459));var i=Yl;return Yl=null,i}function jx(i){if(i===Ho||i===Sh)throw Error(r(483))}var qo=null,mu=0;function Ch(i){var s=mu;return mu+=1,qo===null&&(qo=[]),Px(qo,i,s)}function pu(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Nh(i,s){throw s.$$typeof===_?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Fx(i){function s(ie,ne){if(i){var le=ie.deletions;le===null?(ie.deletions=[ne],ie.flags|=16):le.push(ne)}}function o(ie,ne){if(!i)return null;for(;ne!==null;)s(ie,ne),ne=ne.sibling;return null}function u(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function v(ie,ne){return ie=Pa(ie,ne),ie.index=0,ie.sibling=null,ie}function x(ie,ne,le){return ie.index=le,i?(le=ie.alternate,le!==null?(le=le.index,le<ne?(ie.flags|=67108866,ne):le):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function S(ie){return i&&ie.alternate===null&&(ie.flags|=67108866),ie}function P(ie,ne,le,Ee){return ne===null||ne.tag!==6?(ne=Nm(le,ie.mode,Ee),ne.return=ie,ne):(ne=v(ne,le),ne.return=ie,ne)}function Q(ie,ne,le,Ee){var et=le.type;return et===E?_e(ie,ne,le.props.children,Ee,le.key):ne!==null&&(ne.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===O&&Gl(et)===ne.type)?(ne=v(ne,le.props),pu(ne,le),ne.return=ie,ne):(ne=_h(le.type,le.key,le.props,null,ie.mode,Ee),pu(ne,le),ne.return=ie,ne)}function ue(ie,ne,le,Ee){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=Rm(le,ie.mode,Ee),ne.return=ie,ne):(ne=v(ne,le.children||[]),ne.return=ie,ne)}function _e(ie,ne,le,Ee,et){return ne===null||ne.tag!==7?(ne=Vl(le,ie.mode,Ee,et),ne.return=ie,ne):(ne=v(ne,le),ne.return=ie,ne)}function Te(ie,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Nm(""+ne,ie.mode,le),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case w:return le=_h(ne.type,ne.key,ne.props,null,ie.mode,le),pu(le,ne),le.return=ie,le;case C:return ne=Rm(ne,ie.mode,le),ne.return=ie,ne;case O:return ne=Gl(ne),Te(ie,ne,le)}if(Ue(ne)||B(ne))return ne=Vl(ne,ie.mode,le,null),ne.return=ie,ne;if(typeof ne.then=="function")return Te(ie,Ch(ne),le);if(ne.$$typeof===M)return Te(ie,wh(ie,ne),le);Nh(ie,ne)}return null}function me(ie,ne,le,Ee){var et=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return et!==null?null:P(ie,ne,""+le,Ee);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case w:return le.key===et?Q(ie,ne,le,Ee):null;case C:return le.key===et?ue(ie,ne,le,Ee):null;case O:return le=Gl(le),me(ie,ne,le,Ee)}if(Ue(le)||B(le))return et!==null?null:_e(ie,ne,le,Ee,null);if(typeof le.then=="function")return me(ie,ne,Ch(le),Ee);if(le.$$typeof===M)return me(ie,ne,wh(ie,le),Ee);Nh(ie,le)}return null}function ve(ie,ne,le,Ee,et){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number"||typeof Ee=="bigint")return ie=ie.get(le)||null,P(ne,ie,""+Ee,et);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case w:return ie=ie.get(Ee.key===null?le:Ee.key)||null,Q(ne,ie,Ee,et);case C:return ie=ie.get(Ee.key===null?le:Ee.key)||null,ue(ne,ie,Ee,et);case O:return Ee=Gl(Ee),ve(ie,ne,le,Ee,et)}if(Ue(Ee)||B(Ee))return ie=ie.get(le)||null,_e(ne,ie,Ee,et,null);if(typeof Ee.then=="function")return ve(ie,ne,le,Ch(Ee),et);if(Ee.$$typeof===M)return ve(ie,ne,le,wh(ne,Ee),et);Nh(ne,Ee)}return null}function Xe(ie,ne,le,Ee){for(var et=null,Rt=null,Ke=ne,mt=ne=0,Et=null;Ke!==null&&mt<le.length;mt++){Ke.index>mt?(Et=Ke,Ke=null):Et=Ke.sibling;var It=me(ie,Ke,le[mt],Ee);if(It===null){Ke===null&&(Ke=Et);break}i&&Ke&&It.alternate===null&&s(ie,Ke),ne=x(It,ne,mt),Rt===null?et=It:Rt.sibling=It,Rt=It,Ke=Et}if(mt===le.length)return o(ie,Ke),St&&La(ie,mt),et;if(Ke===null){for(;mt<le.length;mt++)Ke=Te(ie,le[mt],Ee),Ke!==null&&(ne=x(Ke,ne,mt),Rt===null?et=Ke:Rt.sibling=Ke,Rt=Ke);return St&&La(ie,mt),et}for(Ke=u(Ke);mt<le.length;mt++)Et=ve(Ke,ie,mt,le[mt],Ee),Et!==null&&(i&&Et.alternate!==null&&Ke.delete(Et.key===null?mt:Et.key),ne=x(Et,ne,mt),Rt===null?et=Et:Rt.sibling=Et,Rt=Et);return i&&Ke.forEach(function(Gs){return s(ie,Gs)}),St&&La(ie,mt),et}function nt(ie,ne,le,Ee){if(le==null)throw Error(r(151));for(var et=null,Rt=null,Ke=ne,mt=ne=0,Et=null,It=le.next();Ke!==null&&!It.done;mt++,It=le.next()){Ke.index>mt?(Et=Ke,Ke=null):Et=Ke.sibling;var Gs=me(ie,Ke,It.value,Ee);if(Gs===null){Ke===null&&(Ke=Et);break}i&&Ke&&Gs.alternate===null&&s(ie,Ke),ne=x(Gs,ne,mt),Rt===null?et=Gs:Rt.sibling=Gs,Rt=Gs,Ke=Et}if(It.done)return o(ie,Ke),St&&La(ie,mt),et;if(Ke===null){for(;!It.done;mt++,It=le.next())It=Te(ie,It.value,Ee),It!==null&&(ne=x(It,ne,mt),Rt===null?et=It:Rt.sibling=It,Rt=It);return St&&La(ie,mt),et}for(Ke=u(Ke);!It.done;mt++,It=le.next())It=ve(Ke,ie,mt,It.value,Ee),It!==null&&(i&&It.alternate!==null&&Ke.delete(It.key===null?mt:It.key),ne=x(It,ne,mt),Rt===null?et=It:Rt.sibling=It,Rt=It);return i&&Ke.forEach(function(jN){return s(ie,jN)}),St&&La(ie,mt),et}function Kt(ie,ne,le,Ee){if(typeof le=="object"&&le!==null&&le.type===E&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case w:e:{for(var et=le.key;ne!==null;){if(ne.key===et){if(et=le.type,et===E){if(ne.tag===7){o(ie,ne.sibling),Ee=v(ne,le.props.children),Ee.return=ie,ie=Ee;break e}}else if(ne.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===O&&Gl(et)===ne.type){o(ie,ne.sibling),Ee=v(ne,le.props),pu(Ee,le),Ee.return=ie,ie=Ee;break e}o(ie,ne);break}else s(ie,ne);ne=ne.sibling}le.type===E?(Ee=Vl(le.props.children,ie.mode,Ee,le.key),Ee.return=ie,ie=Ee):(Ee=_h(le.type,le.key,le.props,null,ie.mode,Ee),pu(Ee,le),Ee.return=ie,ie=Ee)}return S(ie);case C:e:{for(et=le.key;ne!==null;){if(ne.key===et)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){o(ie,ne.sibling),Ee=v(ne,le.children||[]),Ee.return=ie,ie=Ee;break e}else{o(ie,ne);break}else s(ie,ne);ne=ne.sibling}Ee=Rm(le,ie.mode,Ee),Ee.return=ie,ie=Ee}return S(ie);case O:return le=Gl(le),Kt(ie,ne,le,Ee)}if(Ue(le))return Xe(ie,ne,le,Ee);if(B(le)){if(et=B(le),typeof et!="function")throw Error(r(150));return le=et.call(le),nt(ie,ne,le,Ee)}if(typeof le.then=="function")return Kt(ie,ne,Ch(le),Ee);if(le.$$typeof===M)return Kt(ie,ne,wh(ie,le),Ee);Nh(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(o(ie,ne.sibling),Ee=v(ne,le),Ee.return=ie,ie=Ee):(o(ie,ne),Ee=Nm(le,ie.mode,Ee),Ee.return=ie,ie=Ee),S(ie)):o(ie,ne)}return function(ie,ne,le,Ee){try{mu=0;var et=Kt(ie,ne,le,Ee);return qo=null,et}catch(Ke){if(Ke===Ho||Ke===Sh)throw Ke;var Rt=Zr(29,Ke,null,ie.mode);return Rt.lanes=Ee,Rt.return=ie,Rt}finally{}}}var Xl=Fx(!0),Bx=Fx(!1),Ns=!1;function Um(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Rs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Is(i,s,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(kt&2)!==0){var v=u.pending;return v===null?s.next=s:(s.next=v.next,v.next=s),u.pending=s,s=yh(i),Tx(i,null,o),s}return xh(i,u,s,o),yh(i)}function gu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Li(i,o)}}function Hm(i,s){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var v=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};x===null?v=x=S:x=x.next=S,o=o.next}while(o!==null);x===null?v=x=s:x=x.next=s}else v=x=s;o={baseState:u.baseState,firstBaseUpdate:v,lastBaseUpdate:x,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var qm=!1;function vu(){if(qm){var i=zo;if(i!==null)throw i}}function xu(i,s,o,u){qm=!1;var v=i.updateQueue;Ns=!1;var x=v.firstBaseUpdate,S=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var Q=P,ue=Q.next;Q.next=null,S===null?x=ue:S.next=ue,S=Q;var _e=i.alternate;_e!==null&&(_e=_e.updateQueue,P=_e.lastBaseUpdate,P!==S&&(P===null?_e.firstBaseUpdate=ue:P.next=ue,_e.lastBaseUpdate=Q))}if(x!==null){var Te=v.baseState;S=0,_e=ue=Q=null,P=x;do{var me=P.lane&-536870913,ve=me!==P.lane;if(ve?(_t&me)===me:(u&me)===me){me!==0&&me===Uo&&(qm=!0),_e!==null&&(_e=_e.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});e:{var Xe=i,nt=P;me=s;var Kt=o;switch(nt.tag){case 1:if(Xe=nt.payload,typeof Xe=="function"){Te=Xe.call(Kt,Te,me);break e}Te=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=nt.payload,me=typeof Xe=="function"?Xe.call(Kt,Te,me):Xe,me==null)break e;Te=y({},Te,me);break e;case 2:Ns=!0}}me=P.callback,me!==null&&(i.flags|=64,ve&&(i.flags|=8192),ve=v.callbacks,ve===null?v.callbacks=[me]:ve.push(me))}else ve={lane:me,tag:P.tag,payload:P.payload,callback:P.callback,next:null},_e===null?(ue=_e=ve,Q=Te):_e=_e.next=ve,S|=me;if(P=P.next,P===null){if(P=v.shared.pending,P===null)break;ve=P,P=ve.next,ve.next=null,v.lastBaseUpdate=ve,v.shared.pending=null}}while(!0);_e===null&&(Q=Te),v.baseState=Q,v.firstBaseUpdate=ue,v.lastBaseUpdate=_e,x===null&&(v.shared.lanes=0),Ps|=S,i.lanes=S,i.memoizedState=Te}}function Vx(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Ux(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Vx(o[i],s)}var Go=ee(null),Rh=ee(0);function zx(i,s){i=Xa,J(Rh,i),J(Go,s),Xa=i|s.baseLanes}function Gm(){J(Rh,Xa),J(Go,Go.current)}function Ym(){Xa=Rh.current,F(Go),F(Rh)}var ei=ee(null),wi=null;function Os(i){var s=i.alternate;J(En,En.current&1),J(ei,i),wi===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(wi=i)}function Xm(i){J(En,En.current),J(ei,i),wi===null&&(wi=i)}function Hx(i){i.tag===22?(J(En,En.current),J(ei,i),wi===null&&(wi=i)):Ds()}function Ds(){J(En,En.current),J(ei,ei.current)}function ti(i){F(ei),wi===i&&(wi=null),F(En)}var En=ee(0);function Ih(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Zp(o)||eg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ba=0,dt=null,Wt=null,Cn=null,Oh=!1,Yo=!1,Wl=!1,Dh=0,yu=0,Xo=null,CC=0;function gn(){throw Error(r(321))}function Wm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Jr(i[o],s[o]))return!1;return!0}function $m(i,s,o,u,v,x){return Ba=x,dt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,de.H=i===null||i.memoizedState===null?Ay:up,Wl=!1,x=o(u,v),Wl=!1,Yo&&(x=Gx(s,o,u,v)),qx(i),x}function qx(i){de.H=Tu;var s=Wt!==null&&Wt.next!==null;if(Ba=0,Cn=Wt=dt=null,Oh=!1,yu=0,Xo=null,s)throw Error(r(300));i===null||Nn||(i=i.dependencies,i!==null&&Th(i)&&(Nn=!0))}function Gx(i,s,o,u){dt=i;var v=0;do{if(Yo&&(Xo=null),yu=0,Yo=!1,25<=v)throw Error(r(301));if(v+=1,Cn=Wt=null,i.updateQueue!=null){var x=i.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}de.H=Cy,x=s(o,u)}while(Yo);return x}function NC(){var i=de.H,s=i.useState()[0];return s=typeof s.then=="function"?_u(s):s,i=i.useState()[0],(Wt!==null?Wt.memoizedState:null)!==i&&(dt.flags|=1024),s}function Km(){var i=Dh!==0;return Dh=0,i}function Qm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function Jm(i){if(Oh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Oh=!1}Ba=0,Cn=Wt=dt=null,Yo=!1,yu=Dh=0,Xo=null}function Cr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cn===null?dt.memoizedState=Cn=i:Cn=Cn.next=i,Cn}function Tn(){if(Wt===null){var i=dt.alternate;i=i!==null?i.memoizedState:null}else i=Wt.next;var s=Cn===null?dt.memoizedState:Cn.next;if(s!==null)Cn=s,Wt=i;else{if(i===null)throw dt.alternate===null?Error(r(467)):Error(r(310));Wt=i,i={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Cn===null?dt.memoizedState=Cn=i:Cn=Cn.next=i}return Cn}function kh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _u(i){var s=yu;return yu+=1,Xo===null&&(Xo=[]),i=Px(Xo,i,s),s=dt,(Cn===null?s.memoizedState:Cn.next)===null&&(s=s.alternate,de.H=s===null||s.memoizedState===null?Ay:up),i}function Mh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return _u(i);if(i.$$typeof===M)return er(i)}throw Error(r(438,String(i)))}function Zm(i){var s=null,o=dt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(v){return v.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=kh(),dt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),u=0;u<i;u++)o[u]=D;return s.index++,o}function Va(i,s){return typeof s=="function"?s(i):s}function Ph(i){var s=Tn();return ep(s,Wt,i)}function ep(i,s,o){var u=i.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var v=i.baseQueue,x=u.pending;if(x!==null){if(v!==null){var S=v.next;v.next=x.next,x.next=S}s.baseQueue=v=x,u.pending=null}if(x=i.baseState,v===null)i.memoizedState=x;else{s=v.next;var P=S=null,Q=null,ue=s,_e=!1;do{var Te=ue.lane&-536870913;if(Te!==ue.lane?(_t&Te)===Te:(Ba&Te)===Te){var me=ue.revertLane;if(me===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null}),Te===Uo&&(_e=!0);else if((Ba&me)===me){ue=ue.next,me===Uo&&(_e=!0);continue}else Te={lane:0,revertLane:ue.revertLane,gesture:null,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(P=Q=Te,S=x):Q=Q.next=Te,dt.lanes|=me,Ps|=me;Te=ue.action,Wl&&o(x,Te),x=ue.hasEagerState?ue.eagerState:o(x,Te)}else me={lane:Te,revertLane:ue.revertLane,gesture:ue.gesture,action:ue.action,hasEagerState:ue.hasEagerState,eagerState:ue.eagerState,next:null},Q===null?(P=Q=me,S=x):Q=Q.next=me,dt.lanes|=Te,Ps|=Te;ue=ue.next}while(ue!==null&&ue!==s);if(Q===null?S=x:Q.next=P,!Jr(x,i.memoizedState)&&(Nn=!0,_e&&(o=zo,o!==null)))throw o;i.memoizedState=x,i.baseState=S,i.baseQueue=Q,u.lastRenderedState=x}return v===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function tp(i){var s=Tn(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var u=o.dispatch,v=o.pending,x=s.memoizedState;if(v!==null){o.pending=null;var S=v=v.next;do x=i(x,S.action),S=S.next;while(S!==v);Jr(x,s.memoizedState)||(Nn=!0),s.memoizedState=x,s.baseQueue===null&&(s.baseState=x),o.lastRenderedState=x}return[x,u]}function Yx(i,s,o){var u=dt,v=Tn(),x=St;if(x){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!Jr((Wt||v).memoizedState,o);if(S&&(v.memoizedState=o,Nn=!0),v=v.queue,ip($x.bind(null,u,v,i),[i]),v.getSnapshot!==s||S||Cn!==null&&Cn.memoizedState.tag&1){if(u.flags|=2048,Wo(9,{destroy:void 0},Wx.bind(null,u,v,o,s),null),Zt===null)throw Error(r(349));x||(Ba&127)!==0||Xx(u,s,o)}return o}function Xx(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=dt.updateQueue,s===null?(s=kh(),dt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Wx(i,s,o,u){s.value=o,s.getSnapshot=u,Kx(s)&&Qx(i)}function $x(i,s,o){return o(function(){Kx(s)&&Qx(i)})}function Kx(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Jr(i,o)}catch{return!0}}function Qx(i){var s=Bl(i,2);s!==null&&zr(s,i,2)}function np(i){var s=Cr();if(typeof i=="function"){var o=i;if(i=o(),Wl){He(!0);try{o()}finally{He(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:i},s}function Jx(i,s,o,u){return i.baseState=o,ep(i,Wt,typeof u=="function"?u:Va)}function RC(i,s,o,u,v){if(Fh(i))throw Error(r(485));if(i=s.action,i!==null){var x={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){x.listeners.push(S)}};de.T!==null?o(!0):x.isTransition=!1,u(x),o=s.pending,o===null?(x.next=s.pending=x,Zx(s,x)):(x.next=o.next,s.pending=o.next=x)}}function Zx(i,s){var o=s.action,u=s.payload,v=i.state;if(s.isTransition){var x=de.T,S={};de.T=S;try{var P=o(v,u),Q=de.S;Q!==null&&Q(S,P),ey(i,s,P)}catch(ue){rp(i,s,ue)}finally{x!==null&&S.types!==null&&(x.types=S.types),de.T=x}}else try{x=o(v,u),ey(i,s,x)}catch(ue){rp(i,s,ue)}}function ey(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){ty(i,s,u)},function(u){return rp(i,s,u)}):ty(i,s,o)}function ty(i,s,o){s.status="fulfilled",s.value=o,ny(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,Zx(i,o)))}function rp(i,s,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,ny(s),s=s.next;while(s!==u)}i.action=null}function ny(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function ry(i,s){return s}function iy(i,s){if(St){var o=Zt.formState;if(o!==null){e:{var u=dt;if(St){if(rn){t:{for(var v=rn,x=Ti;v.nodeType!==8;){if(!x){v=null;break t}if(v=bi(v.nextSibling),v===null){v=null;break t}}x=v.data,v=x==="F!"||x==="F"?v:null}if(v){rn=bi(v.nextSibling),u=v.data==="F!";break e}}As(u)}u=!1}u&&(s=o[0])}}return o=Cr(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ry,lastRenderedState:s},o.queue=u,o=wy.bind(null,dt,u),u.dispatch=o,u=np(!1),x=cp.bind(null,dt,!1,u.queue),u=Cr(),v={state:s,dispatch:null,action:i,pending:null},u.queue=v,o=RC.bind(null,dt,v,x,o),v.dispatch=o,u.memoizedState=i,[s,o,!1]}function ay(i){var s=Tn();return sy(s,Wt,i)}function sy(i,s,o){if(s=ep(i,s,ry)[0],i=Ph(Va)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=_u(s)}catch(S){throw S===Ho?Sh:S}else u=s;s=Tn();var v=s.queue,x=v.dispatch;return o!==s.memoizedState&&(dt.flags|=2048,Wo(9,{destroy:void 0},IC.bind(null,v,o),null)),[u,x,i]}function IC(i,s){i.action=s}function ly(i){var s=Tn(),o=Wt;if(o!==null)return sy(s,o,i);Tn(),s=s.memoizedState,o=Tn();var u=o.queue.dispatch;return o.memoizedState=i,[s,u,!1]}function Wo(i,s,o,u){return i={tag:i,create:o,deps:u,inst:s,next:null},s=dt.updateQueue,s===null&&(s=kh(),dt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,s.lastEffect=i),i}function oy(){return Tn().memoizedState}function Lh(i,s,o,u){var v=Cr();dt.flags|=i,v.memoizedState=Wo(1|s,{destroy:void 0},o,u===void 0?null:u)}function jh(i,s,o,u){var v=Tn();u=u===void 0?null:u;var x=v.memoizedState.inst;Wt!==null&&u!==null&&Wm(u,Wt.memoizedState.deps)?v.memoizedState=Wo(s,x,o,u):(dt.flags|=i,v.memoizedState=Wo(1|s,x,o,u))}function cy(i,s){Lh(8390656,8,i,s)}function ip(i,s){jh(2048,8,i,s)}function OC(i){dt.flags|=4;var s=dt.updateQueue;if(s===null)s=kh(),dt.updateQueue=s,s.events=[i];else{var o=s.events;o===null?s.events=[i]:o.push(i)}}function uy(i){var s=Tn().memoizedState;return OC({ref:s,nextImpl:i}),function(){if((kt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function fy(i,s){return jh(4,2,i,s)}function hy(i,s){return jh(4,4,i,s)}function dy(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function my(i,s,o){o=o!=null?o.concat([i]):null,jh(4,4,dy.bind(null,s,i),o)}function ap(){}function py(i,s){var o=Tn();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Wm(s,u[1])?u[0]:(o.memoizedState=[i,s],i)}function gy(i,s){var o=Tn();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Wm(s,u[1]))return u[0];if(u=i(),Wl){He(!0);try{i()}finally{He(!1)}}return o.memoizedState=[u,s],u}function sp(i,s,o){return o===void 0||(Ba&1073741824)!==0&&(_t&261930)===0?i.memoizedState=s:(i.memoizedState=o,i=v_(),dt.lanes|=i,Ps|=i,o)}function vy(i,s,o,u){return Jr(o,s)?o:Go.current!==null?(i=sp(i,o,u),Jr(i,s)||(Nn=!0),i):(Ba&42)===0||(Ba&1073741824)!==0&&(_t&261930)===0?(Nn=!0,i.memoizedState=o):(i=v_(),dt.lanes|=i,Ps|=i,s)}function xy(i,s,o,u,v){var x=be.p;be.p=x!==0&&8>x?x:8;var S=de.T,P={};de.T=P,cp(i,!1,s,o);try{var Q=v(),ue=de.S;if(ue!==null&&ue(P,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var _e=AC(Q,u);Eu(i,s,_e,ii(i))}else Eu(i,s,u,ii(i))}catch(Te){Eu(i,s,{then:function(){},status:"rejected",reason:Te},ii())}finally{be.p=x,S!==null&&P.types!==null&&(S.types=P.types),de.T=S}}function DC(){}function lp(i,s,o,u){if(i.tag!==5)throw Error(r(476));var v=yy(i).queue;xy(i,v,s,qe,o===null?DC:function(){return _y(i),o(u)})}function yy(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:qe,baseState:qe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:qe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function _y(i){var s=yy(i);s.next===null&&(s=i.alternate.memoizedState),Eu(i,s.next.queue,{},ii())}function op(){return er(Fu)}function Ey(){return Tn().memoizedState}function Ty(){return Tn().memoizedState}function kC(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=ii();i=Rs(o);var u=Is(s,i,o);u!==null&&(zr(u,s,o),gu(u,s,o)),s={cache:jm()},i.payload=s;return}s=s.return}}function MC(i,s,o){var u=ii();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fh(i)?by(s,o):(o=Am(i,s,o,u),o!==null&&(zr(o,i,u),Sy(o,s,u)))}function wy(i,s,o){var u=ii();Eu(i,s,o,u)}function Eu(i,s,o,u){var v={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Fh(i))by(s,v);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=s.lastRenderedReducer,x!==null))try{var S=s.lastRenderedState,P=x(S,o);if(v.hasEagerState=!0,v.eagerState=P,Jr(P,S))return xh(i,s,v,0),Zt===null&&vh(),!1}catch{}finally{}if(o=Am(i,s,v,u),o!==null)return zr(o,i,u),Sy(o,s,u),!0}return!1}function cp(i,s,o,u){if(u={lane:2,revertLane:Up(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fh(i)){if(s)throw Error(r(479))}else s=Am(i,o,u,2),s!==null&&zr(s,i,2)}function Fh(i){var s=i.alternate;return i===dt||s!==null&&s===dt}function by(i,s){Yo=Oh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Sy(i,s,o){if((o&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,o|=u,s.lanes=o,Li(i,o)}}var Tu={readContext:er,use:Mh,useCallback:gn,useContext:gn,useEffect:gn,useImperativeHandle:gn,useLayoutEffect:gn,useInsertionEffect:gn,useMemo:gn,useReducer:gn,useRef:gn,useState:gn,useDebugValue:gn,useDeferredValue:gn,useTransition:gn,useSyncExternalStore:gn,useId:gn,useHostTransitionStatus:gn,useFormState:gn,useActionState:gn,useOptimistic:gn,useMemoCache:gn,useCacheRefresh:gn};Tu.useEffectEvent=gn;var Ay={readContext:er,use:Mh,useCallback:function(i,s){return Cr().memoizedState=[i,s===void 0?null:s],i},useContext:er,useEffect:cy,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Lh(4194308,4,dy.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Lh(4194308,4,i,s)},useInsertionEffect:function(i,s){Lh(4,2,i,s)},useMemo:function(i,s){var o=Cr();s=s===void 0?null:s;var u=i();if(Wl){He(!0);try{i()}finally{He(!1)}}return o.memoizedState=[u,s],u},useReducer:function(i,s,o){var u=Cr();if(o!==void 0){var v=o(s);if(Wl){He(!0);try{o(s)}finally{He(!1)}}}else v=s;return u.memoizedState=u.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},u.queue=i,i=i.dispatch=MC.bind(null,dt,i),[u.memoizedState,i]},useRef:function(i){var s=Cr();return i={current:i},s.memoizedState=i},useState:function(i){i=np(i);var s=i.queue,o=wy.bind(null,dt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:ap,useDeferredValue:function(i,s){var o=Cr();return sp(o,i,s)},useTransition:function(){var i=np(!1);return i=xy.bind(null,dt,i.queue,!0,!1),Cr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var u=dt,v=Cr();if(St){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Zt===null)throw Error(r(349));(_t&127)!==0||Xx(u,s,o)}v.memoizedState=o;var x={value:o,getSnapshot:s};return v.queue=x,cy($x.bind(null,u,x,i),[i]),u.flags|=2048,Wo(9,{destroy:void 0},Wx.bind(null,u,x,o,s),null),o},useId:function(){var i=Cr(),s=Zt.identifierPrefix;if(St){var o=da,u=ha;o=(u&~(1<<32-Ie(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Dh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=CC++,s="_"+s+"r_"+o.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:op,useFormState:iy,useActionState:iy,useOptimistic:function(i){var s=Cr();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=cp.bind(null,dt,!0,o),o.dispatch=s,[i,s]},useMemoCache:Zm,useCacheRefresh:function(){return Cr().memoizedState=kC.bind(null,dt)},useEffectEvent:function(i){var s=Cr(),o={impl:i};return s.memoizedState=o,function(){if((kt&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},up={readContext:er,use:Mh,useCallback:py,useContext:er,useEffect:ip,useImperativeHandle:my,useInsertionEffect:fy,useLayoutEffect:hy,useMemo:gy,useReducer:Ph,useRef:oy,useState:function(){return Ph(Va)},useDebugValue:ap,useDeferredValue:function(i,s){var o=Tn();return vy(o,Wt.memoizedState,i,s)},useTransition:function(){var i=Ph(Va)[0],s=Tn().memoizedState;return[typeof i=="boolean"?i:_u(i),s]},useSyncExternalStore:Yx,useId:Ey,useHostTransitionStatus:op,useFormState:ay,useActionState:ay,useOptimistic:function(i,s){var o=Tn();return Jx(o,Wt,i,s)},useMemoCache:Zm,useCacheRefresh:Ty};up.useEffectEvent=uy;var Cy={readContext:er,use:Mh,useCallback:py,useContext:er,useEffect:ip,useImperativeHandle:my,useInsertionEffect:fy,useLayoutEffect:hy,useMemo:gy,useReducer:tp,useRef:oy,useState:function(){return tp(Va)},useDebugValue:ap,useDeferredValue:function(i,s){var o=Tn();return Wt===null?sp(o,i,s):vy(o,Wt.memoizedState,i,s)},useTransition:function(){var i=tp(Va)[0],s=Tn().memoizedState;return[typeof i=="boolean"?i:_u(i),s]},useSyncExternalStore:Yx,useId:Ey,useHostTransitionStatus:op,useFormState:ly,useActionState:ly,useOptimistic:function(i,s){var o=Tn();return Wt!==null?Jx(o,Wt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Zm,useCacheRefresh:Ty};Cy.useEffectEvent=uy;function fp(i,s,o,u){s=i.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var hp={enqueueSetState:function(i,s,o){i=i._reactInternals;var u=ii(),v=Rs(u);v.payload=s,o!=null&&(v.callback=o),s=Is(i,v,u),s!==null&&(zr(s,i,u),gu(s,i,u))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var u=ii(),v=Rs(u);v.tag=1,v.payload=s,o!=null&&(v.callback=o),s=Is(i,v,u),s!==null&&(zr(s,i,u),gu(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=ii(),u=Rs(o);u.tag=2,s!=null&&(u.callback=s),s=Is(i,u,o),s!==null&&(zr(s,i,o),gu(s,i,o))}};function Ny(i,s,o,u,v,x,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,x,S):s.prototype&&s.prototype.isPureReactComponent?!ou(o,u)||!ou(v,x):!0}function Ry(i,s,o,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==i&&hp.enqueueReplaceState(s,s.state,null)}function $l(i,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(i=i.defaultProps){o===s&&(o=y({},o));for(var v in i)o[v]===void 0&&(o[v]=i[v])}return o}function Iy(i){gh(i)}function Oy(i){console.error(i)}function Dy(i){gh(i)}function Bh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function ky(i,s,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function dp(i,s,o){return o=Rs(o),o.tag=3,o.payload={element:null},o.callback=function(){Bh(i,s)},o}function My(i){return i=Rs(i),i.tag=3,i}function Py(i,s,o,u){var v=o.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;i.payload=function(){return v(x)},i.callback=function(){ky(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(i.callback=function(){ky(s,o,u),typeof v!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var P=u.stack;this.componentDidCatch(u.value,{componentStack:P!==null?P:""})})}function PC(i,s,o,u,v){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&Vo(s,o,v,!0),o=ei.current,o!==null){switch(o.tag){case 31:case 13:return wi===null?Qh():o.alternate===null&&vn===0&&(vn=3),o.flags&=-257,o.flags|=65536,o.lanes=v,u===Ah?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Fp(i,u,v)),!1;case 22:return o.flags|=65536,u===Ah?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Fp(i,u,v)),!1}throw Error(r(435,o.tag))}return Fp(i,u,v),Qh(),!1}if(St)return s=ei.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=v,u!==Dm&&(i=Error(r(422),{cause:u}),fu(yi(i,o)))):(u!==Dm&&(s=Error(r(423),{cause:u}),fu(yi(s,o))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,u=yi(u,o),v=dp(i.stateNode,u,v),Hm(i,v),vn!==4&&(vn=2)),!1;var x=Error(r(520),{cause:u});if(x=yi(x,o),Iu===null?Iu=[x]:Iu.push(x),vn!==4&&(vn=2),s===null)return!0;u=yi(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=v&-v,o.lanes|=i,i=dp(o.stateNode,u,i),Hm(o,i),!1;case 1:if(s=o.type,x=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ls===null||!Ls.has(x))))return o.flags|=65536,v&=-v,o.lanes|=v,v=My(v),Py(v,i,o,u),Hm(o,v),!1}o=o.return}while(o!==null);return!1}var mp=Error(r(461)),Nn=!1;function tr(i,s,o,u){s.child=i===null?Bx(s,null,o,u):Xl(s,i.child,o,u)}function Ly(i,s,o,u,v){o=o.render;var x=s.ref;if("ref"in u){var S={};for(var P in u)P!=="ref"&&(S[P]=u[P])}else S=u;return Hl(s),u=$m(i,s,o,S,x,v),P=Km(),i!==null&&!Nn?(Qm(i,s,v),Ua(i,s,v)):(St&&P&&Im(s),s.flags|=1,tr(i,s,u,v),s.child)}function jy(i,s,o,u,v){if(i===null){var x=o.type;return typeof x=="function"&&!Cm(x)&&x.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=x,Fy(i,s,x,u,v)):(i=_h(o.type,null,u,s,s.mode,v),i.ref=s.ref,i.return=s,s.child=i)}if(x=i.child,!Tp(i,v)){var S=x.memoizedProps;if(o=o.compare,o=o!==null?o:ou,o(S,u)&&i.ref===s.ref)return Ua(i,s,v)}return s.flags|=1,i=Pa(x,u),i.ref=s.ref,i.return=s,s.child=i}function Fy(i,s,o,u,v){if(i!==null){var x=i.memoizedProps;if(ou(x,u)&&i.ref===s.ref)if(Nn=!1,s.pendingProps=u=x,Tp(i,v))(i.flags&131072)!==0&&(Nn=!0);else return s.lanes=i.lanes,Ua(i,s,v)}return pp(i,s,o,u,v)}function By(i,s,o,u){var v=u.children,x=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(x=x!==null?x.baseLanes|o:o,i!==null){for(u=s.child=i.child,v=0;u!==null;)v=v|u.lanes|u.childLanes,u=u.sibling;u=v&~x}else u=0,s.child=null;return Vy(i,s,x,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&bh(s,x!==null?x.cachePool:null),x!==null?zx(s,x):Gm(),Hx(s);else return u=s.lanes=536870912,Vy(i,s,x!==null?x.baseLanes|o:o,o,u)}else x!==null?(bh(s,x.cachePool),zx(s,x),Ds(),s.memoizedState=null):(i!==null&&bh(s,null),Gm(),Ds());return tr(i,s,v,o),s.child}function wu(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Vy(i,s,o,u,v){var x=Bm();return x=x===null?null:{parent:An._currentValue,pool:x},s.memoizedState={baseLanes:o,cachePool:x},i!==null&&bh(s,null),Gm(),Hx(s),i!==null&&Vo(i,s,u,!0),s.childLanes=v,null}function Vh(i,s){return s=zh({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function Uy(i,s,o){return Xl(s,i.child,null,o),i=Vh(s,s.pendingProps),i.flags|=2,ti(s),s.memoizedState=null,i}function LC(i,s,o){var u=s.pendingProps,v=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(St){if(u.mode==="hidden")return i=Vh(s,u),s.lanes=536870912,wu(null,i);if(Xm(s),(i=rn)?(i=Z_(i,Ti),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bs!==null?{id:ha,overflow:da}:null,retryLane:536870912,hydrationErrors:null},o=bx(i),o.return=s,s.child=o,Zn=s,rn=null)):i=null,i===null)throw As(s);return s.lanes=536870912,null}return Vh(s,u)}var x=i.memoizedState;if(x!==null){var S=x.dehydrated;if(Xm(s),v)if(s.flags&256)s.flags&=-257,s=Uy(i,s,o);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(r(558));else if(Nn||Vo(i,s,o,!1),v=(o&i.childLanes)!==0,Nn||v){if(u=Zt,u!==null&&(S=Oa(u,o),S!==0&&S!==x.retryLane))throw x.retryLane=S,Bl(i,S),zr(u,i,S),mp;Qh(),s=Uy(i,s,o)}else i=x.treeContext,rn=bi(S.nextSibling),Zn=s,St=!0,Ss=null,Ti=!1,i!==null&&Cx(s,i),s=Vh(s,u),s.flags|=4096;return s}return i=Pa(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function Uh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function pp(i,s,o,u,v){return Hl(s),o=$m(i,s,o,u,void 0,v),u=Km(),i!==null&&!Nn?(Qm(i,s,v),Ua(i,s,v)):(St&&u&&Im(s),s.flags|=1,tr(i,s,o,v),s.child)}function zy(i,s,o,u,v,x){return Hl(s),s.updateQueue=null,o=Gx(s,u,o,v),qx(i),u=Km(),i!==null&&!Nn?(Qm(i,s,x),Ua(i,s,x)):(St&&u&&Im(s),s.flags|=1,tr(i,s,o,x),s.child)}function Hy(i,s,o,u,v){if(Hl(s),s.stateNode===null){var x=Lo,S=o.contextType;typeof S=="object"&&S!==null&&(x=er(S)),x=new o(u,x),s.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=hp,s.stateNode=x,x._reactInternals=s,x=s.stateNode,x.props=u,x.state=s.memoizedState,x.refs={},Um(s),S=o.contextType,x.context=typeof S=="object"&&S!==null?er(S):Lo,x.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(fp(s,o,S,u),x.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(S=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),S!==x.state&&hp.enqueueReplaceState(x,x.state,null),xu(s,u,x,v),vu(),x.state=s.memoizedState),typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){x=s.stateNode;var P=s.memoizedProps,Q=$l(o,P);x.props=Q;var ue=x.context,_e=o.contextType;S=Lo,typeof _e=="object"&&_e!==null&&(S=er(_e));var Te=o.getDerivedStateFromProps;_e=typeof Te=="function"||typeof x.getSnapshotBeforeUpdate=="function",P=s.pendingProps!==P,_e||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(P||ue!==S)&&Ry(s,x,u,S),Ns=!1;var me=s.memoizedState;x.state=me,xu(s,u,x,v),vu(),ue=s.memoizedState,P||me!==ue||Ns?(typeof Te=="function"&&(fp(s,o,Te,u),ue=s.memoizedState),(Q=Ns||Ny(s,o,Q,u,me,ue,S))?(_e||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(s.flags|=4194308)):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ue),x.props=u,x.state=ue,x.context=S,u=Q):(typeof x.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{x=s.stateNode,zm(i,s),S=s.memoizedProps,_e=$l(o,S),x.props=_e,Te=s.pendingProps,me=x.context,ue=o.contextType,Q=Lo,typeof ue=="object"&&ue!==null&&(Q=er(ue)),P=o.getDerivedStateFromProps,(ue=typeof P=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(S!==Te||me!==Q)&&Ry(s,x,u,Q),Ns=!1,me=s.memoizedState,x.state=me,xu(s,u,x,v),vu();var ve=s.memoizedState;S!==Te||me!==ve||Ns||i!==null&&i.dependencies!==null&&Th(i.dependencies)?(typeof P=="function"&&(fp(s,o,P,u),ve=s.memoizedState),(_e=Ns||Ny(s,o,_e,u,me,ve,Q)||i!==null&&i.dependencies!==null&&Th(i.dependencies))?(ue||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(u,ve,Q),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(u,ve,Q)),typeof x.componentDidUpdate=="function"&&(s.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&me===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&me===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ve),x.props=u,x.state=ve,x.context=Q,u=_e):(typeof x.componentDidUpdate!="function"||S===i.memoizedProps&&me===i.memoizedState||(s.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||S===i.memoizedProps&&me===i.memoizedState||(s.flags|=1024),u=!1)}return x=u,Uh(i,s),u=(s.flags&128)!==0,x||u?(x=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:x.render(),s.flags|=1,i!==null&&u?(s.child=Xl(s,i.child,null,v),s.child=Xl(s,null,o,v)):tr(i,s,o,v),s.memoizedState=x.state,i=s.child):i=Ua(i,s,v),i}function qy(i,s,o,u){return Ul(),s.flags|=256,tr(i,s,o,u),s.child}var gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vp(i){return{baseLanes:i,cachePool:kx()}}function xp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ri),i}function Gy(i,s,o){var u=s.pendingProps,v=!1,x=(s.flags&128)!==0,S;if((S=x)||(S=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),S&&(v=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,i===null){if(St){if(v?Os(s):Ds(),(i=rn)?(i=Z_(i,Ti),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:bs!==null?{id:ha,overflow:da}:null,retryLane:536870912,hydrationErrors:null},o=bx(i),o.return=s,s.child=o,Zn=s,rn=null)):i=null,i===null)throw As(s);return eg(i)?s.lanes=32:s.lanes=536870912,null}var P=u.children;return u=u.fallback,v?(Ds(),v=s.mode,P=zh({mode:"hidden",children:P},v),u=Vl(u,v,o,null),P.return=s,u.return=s,P.sibling=u,s.child=P,u=s.child,u.memoizedState=vp(o),u.childLanes=xp(i,S,o),s.memoizedState=gp,wu(null,u)):(Os(s),yp(s,P))}var Q=i.memoizedState;if(Q!==null&&(P=Q.dehydrated,P!==null)){if(x)s.flags&256?(Os(s),s.flags&=-257,s=_p(i,s,o)):s.memoizedState!==null?(Ds(),s.child=i.child,s.flags|=128,s=null):(Ds(),P=u.fallback,v=s.mode,u=zh({mode:"visible",children:u.children},v),P=Vl(P,v,o,null),P.flags|=2,u.return=s,P.return=s,u.sibling=P,s.child=u,Xl(s,i.child,null,o),u=s.child,u.memoizedState=vp(o),u.childLanes=xp(i,S,o),s.memoizedState=gp,s=wu(null,u));else if(Os(s),eg(P)){if(S=P.nextSibling&&P.nextSibling.dataset,S)var ue=S.dgst;S=ue,u=Error(r(419)),u.stack="",u.digest=S,fu({value:u,source:null,stack:null}),s=_p(i,s,o)}else if(Nn||Vo(i,s,o,!1),S=(o&i.childLanes)!==0,Nn||S){if(S=Zt,S!==null&&(u=Oa(S,o),u!==0&&u!==Q.retryLane))throw Q.retryLane=u,Bl(i,u),zr(S,i,u),mp;Zp(P)||Qh(),s=_p(i,s,o)}else Zp(P)?(s.flags|=192,s.child=i.child,s=null):(i=Q.treeContext,rn=bi(P.nextSibling),Zn=s,St=!0,Ss=null,Ti=!1,i!==null&&Cx(s,i),s=yp(s,u.children),s.flags|=4096);return s}return v?(Ds(),P=u.fallback,v=s.mode,Q=i.child,ue=Q.sibling,u=Pa(Q,{mode:"hidden",children:u.children}),u.subtreeFlags=Q.subtreeFlags&65011712,ue!==null?P=Pa(ue,P):(P=Vl(P,v,o,null),P.flags|=2),P.return=s,u.return=s,u.sibling=P,s.child=u,wu(null,u),u=s.child,P=i.child.memoizedState,P===null?P=vp(o):(v=P.cachePool,v!==null?(Q=An._currentValue,v=v.parent!==Q?{parent:Q,pool:Q}:v):v=kx(),P={baseLanes:P.baseLanes|o,cachePool:v}),u.memoizedState=P,u.childLanes=xp(i,S,o),s.memoizedState=gp,wu(i.child,u)):(Os(s),o=i.child,i=o.sibling,o=Pa(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,i!==null&&(S=s.deletions,S===null?(s.deletions=[i],s.flags|=16):S.push(i)),s.child=o,s.memoizedState=null,o)}function yp(i,s){return s=zh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function zh(i,s){return i=Zr(22,i,null,s),i.lanes=0,i}function _p(i,s,o){return Xl(s,i.child,null,o),i=yp(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Yy(i,s,o){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),Pm(i.return,s,o)}function Ep(i,s,o,u,v,x){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:v,treeForkCount:x}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=v,S.treeForkCount=x)}function Xy(i,s,o){var u=s.pendingProps,v=u.revealOrder,x=u.tail;u=u.children;var S=En.current,P=(S&2)!==0;if(P?(S=S&1|2,s.flags|=128):S&=1,J(En,S),tr(i,s,u,o),u=St?uu:0,!P&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Yy(i,o,s);else if(i.tag===19)Yy(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(v){case"forwards":for(o=s.child,v=null;o!==null;)i=o.alternate,i!==null&&Ih(i)===null&&(v=o),o=o.sibling;o=v,o===null?(v=s.child,s.child=null):(v=o.sibling,o.sibling=null),Ep(s,!1,v,o,x,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,v=s.child,s.child=null;v!==null;){if(i=v.alternate,i!==null&&Ih(i)===null){s.child=v;break}i=v.sibling,v.sibling=o,o=v,v=i}Ep(s,!0,o,null,x,u);break;case"together":Ep(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Ua(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),Ps|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Vo(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Pa(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Pa(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Tp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Th(i)))}function jC(i,s,o){switch(s.tag){case 3:Be(s,s.stateNode.containerInfo),Cs(s,An,i.memoizedState.cache),Ul();break;case 27:case 5:ke(s);break;case 4:Be(s,s.stateNode.containerInfo);break;case 10:Cs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Xm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Os(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Gy(i,s,o):(Os(s),i=Ua(i,s,o),i!==null?i.sibling:null);Os(s);break;case 19:var v=(i.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(Vo(i,s,o,!1),u=(o&s.childLanes)!==0),v){if(u)return Xy(i,s,o);s.flags|=128}if(v=s.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),J(En,En.current),u)break;return null;case 22:return s.lanes=0,By(i,s,o,s.pendingProps);case 24:Cs(s,An,i.memoizedState.cache)}return Ua(i,s,o)}function Wy(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Nn=!0;else{if(!Tp(i,o)&&(s.flags&128)===0)return Nn=!1,jC(i,s,o);Nn=(i.flags&131072)!==0}else Nn=!1,St&&(s.flags&1048576)!==0&&Ax(s,uu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=Gl(s.elementType),s.type=i,typeof i=="function")Cm(i)?(u=$l(i,u),s.tag=1,s=Hy(null,s,i,u,o)):(s.tag=0,s=pp(null,s,i,u,o));else{if(i!=null){var v=i.$$typeof;if(v===G){s.tag=11,s=Ly(null,s,i,u,o);break e}else if(v===N){s.tag=14,s=jy(null,s,i,u,o);break e}}throw s=$e(i)||i,Error(r(306,s,""))}}return s;case 0:return pp(i,s,s.type,s.pendingProps,o);case 1:return u=s.type,v=$l(u,s.pendingProps),Hy(i,s,u,v,o);case 3:e:{if(Be(s,s.stateNode.containerInfo),i===null)throw Error(r(387));u=s.pendingProps;var x=s.memoizedState;v=x.element,zm(i,s),xu(s,u,null,o);var S=s.memoizedState;if(u=S.cache,Cs(s,An,u),u!==x.cache&&Lm(s,[An],o,!0),vu(),u=S.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=x,s.memoizedState=x,s.flags&256){s=qy(i,s,u,o);break e}else if(u!==v){v=yi(Error(r(424)),s),fu(v),s=qy(i,s,u,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(rn=bi(i.firstChild),Zn=s,St=!0,Ss=null,Ti=!0,o=Bx(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ul(),u===v){s=Ua(i,s,o);break e}tr(i,s,u,o)}s=s.child}return s;case 26:return Uh(i,s),i===null?(o=a2(s.type,null,s.pendingProps,null))?s.memoizedState=o:St||(o=s.type,i=s.pendingProps,u=i0(pe.current).createElement(o),u[H]=s,u[Y]=i,nr(u,o,i),We(u),s.stateNode=u):s.memoizedState=a2(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ke(s),i===null&&St&&(u=s.stateNode=n2(s.type,s.pendingProps,pe.current),Zn=s,Ti=!0,v=rn,Vs(s.type)?(tg=v,rn=bi(u.firstChild)):rn=v),tr(i,s,s.pendingProps.children,o),Uh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&St&&((v=u=rn)&&(u=dN(u,s.type,s.pendingProps,Ti),u!==null?(s.stateNode=u,Zn=s,rn=bi(u.firstChild),Ti=!1,v=!0):v=!1),v||As(s)),ke(s),v=s.type,x=s.pendingProps,S=i!==null?i.memoizedProps:null,u=x.children,Kp(v,x)?u=null:S!==null&&Kp(v,S)&&(s.flags|=32),s.memoizedState!==null&&(v=$m(i,s,NC,null,null,o),Fu._currentValue=v),Uh(i,s),tr(i,s,u,o),s.child;case 6:return i===null&&St&&((i=o=rn)&&(o=mN(o,s.pendingProps,Ti),o!==null?(s.stateNode=o,Zn=s,rn=null,i=!0):i=!1),i||As(s)),null;case 13:return Gy(i,s,o);case 4:return Be(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Xl(s,null,u,o):tr(i,s,u,o),s.child;case 11:return Ly(i,s,s.type,s.pendingProps,o);case 7:return tr(i,s,s.pendingProps,o),s.child;case 8:return tr(i,s,s.pendingProps.children,o),s.child;case 12:return tr(i,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Cs(s,s.type,u.value),tr(i,s,u.children,o),s.child;case 9:return v=s.type._context,u=s.pendingProps.children,Hl(s),v=er(v),u=u(v),s.flags|=1,tr(i,s,u,o),s.child;case 14:return jy(i,s,s.type,s.pendingProps,o);case 15:return Fy(i,s,s.type,s.pendingProps,o);case 19:return Xy(i,s,o);case 31:return LC(i,s,o);case 22:return By(i,s,o,s.pendingProps);case 24:return Hl(s),u=er(An),i===null?(v=Bm(),v===null&&(v=Zt,x=jm(),v.pooledCache=x,x.refCount++,x!==null&&(v.pooledCacheLanes|=o),v=x),s.memoizedState={parent:u,cache:v},Um(s),Cs(s,An,v)):((i.lanes&o)!==0&&(zm(i,s),xu(s,null,null,o),vu()),v=i.memoizedState,x=s.memoizedState,v.parent!==u?(v={parent:u,cache:u},s.memoizedState=v,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=v),Cs(s,An,u)):(u=x.cache,Cs(s,An,u),u!==v.cache&&Lm(s,[An],o,!0))),tr(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function za(i){i.flags|=4}function wp(i,s,o,u,v){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(v&335544128)===v)if(i.stateNode.complete)i.flags|=8192;else if(E_())i.flags|=8192;else throw Yl=Ah,Vm}else i.flags&=-16777217}function $y(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!u2(s))if(E_())i.flags|=8192;else throw Yl=Ah,Vm}function Hh(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Mr():536870912,i.lanes|=s,Jo|=s)}function bu(i,s){if(!St)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function an(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(s)for(var v=i.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags&65011712,u|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)o|=v.lanes|v.childLanes,u|=v.subtreeFlags,u|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=u,i.childLanes=o,s}function FC(i,s,o){var u=s.pendingProps;switch(Om(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(s),null;case 1:return an(s),null;case 3:return o=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Fa(An),Oe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Bo(s)?za(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,km())),an(s),null;case 26:var v=s.type,x=s.memoizedState;return i===null?(za(s),x!==null?(an(s),$y(s,x)):(an(s),wp(s,v,null,u,o))):x?x!==i.memoizedState?(za(s),an(s),$y(s,x)):(an(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&za(s),an(s),wp(s,v,i,u,o)),null;case 27:if(gt(s),o=pe.current,v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return an(s),null}i=W.current,Bo(s)?Nx(s):(i=n2(v,u,o),s.stateNode=i,za(s))}return an(s),null;case 5:if(gt(s),v=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return an(s),null}if(x=W.current,Bo(s))Nx(s);else{var S=i0(pe.current);switch(x){case 1:x=S.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:x=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":x=S.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":x=S.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":x=S.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?x.multiple=!0:u.size&&(x.size=u.size);break;default:x=typeof u.is=="string"?S.createElement(v,{is:u.is}):S.createElement(v)}}x[H]=s,x[Y]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)x.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=x;e:switch(nr(x,v,u),v){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&za(s)}}return an(s),wp(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,o),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&za(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(i=pe.current,Bo(s)){if(i=s.stateNode,o=s.memoizedProps,u=null,v=Zn,v!==null)switch(v.tag){case 27:case 5:u=v.memoizedProps}i[H]=s,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||G_(i.nodeValue,o)),i||As(s,!0)}else i=i0(i).createTextNode(u),i[H]=s,s.stateNode=i}return an(s),null;case 31:if(o=s.memoizedState,i===null||i.memoizedState!==null){if(u=Bo(s),o!==null){if(i===null){if(!u)throw Error(r(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(557));i[H]=s}else Ul(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),i=!1}else o=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return s.flags&256?(ti(s),s):(ti(s),null);if((s.flags&128)!==0)throw Error(r(558))}return an(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=Bo(s),u!==null&&u.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[H]=s}else Ul(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;an(s),v=!1}else v=km(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return s.flags&256?(ti(s),s):(ti(s),null)}return ti(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=s.child,v=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(v=u.alternate.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==v&&(u.flags|=2048)),o!==i&&o&&(s.child.flags|=8192),Hh(s,s.updateQueue),an(s),null);case 4:return Oe(),i===null&&Gp(s.stateNode.containerInfo),an(s),null;case 10:return Fa(s.type),an(s),null;case 19:if(F(En),u=s.memoizedState,u===null)return an(s),null;if(v=(s.flags&128)!==0,x=u.rendering,x===null)if(v)bu(u,!1);else{if(vn!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(x=Ih(i),x!==null){for(s.flags|=128,bu(u,!1),i=x.updateQueue,s.updateQueue=i,Hh(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)wx(o,i),o=o.sibling;return J(En,En.current&1|2),St&&La(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Yt()>Wh&&(s.flags|=128,v=!0,bu(u,!1),s.lanes=4194304)}else{if(!v)if(i=Ih(x),i!==null){if(s.flags|=128,v=!0,i=i.updateQueue,s.updateQueue=i,Hh(s,i),bu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!x.alternate&&!St)return an(s),null}else 2*Yt()-u.renderingStartTime>Wh&&o!==536870912&&(s.flags|=128,v=!0,bu(u,!1),s.lanes=4194304);u.isBackwards?(x.sibling=s.child,s.child=x):(i=u.last,i!==null?i.sibling=x:s.child=x,u.last=x)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Yt(),i.sibling=null,o=En.current,J(En,v?o&1|2:o&1),St&&La(s,u.treeForkCount),i):(an(s),null);case 22:case 23:return ti(s),Ym(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(an(s),s.subtreeFlags&6&&(s.flags|=8192)):an(s),o=s.updateQueue,o!==null&&Hh(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),i!==null&&F(ql),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Fa(An),an(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function BC(i,s){switch(Om(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Fa(An),Oe(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return gt(s),null;case 31:if(s.memoizedState!==null){if(ti(s),s.alternate===null)throw Error(r(340));Ul()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(ti(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Ul()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return F(En),null;case 4:return Oe(),null;case 10:return Fa(s.type),null;case 22:case 23:return ti(s),Ym(),i!==null&&F(ql),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Fa(An),null;case 25:return null;default:return null}}function Ky(i,s){switch(Om(s),s.tag){case 3:Fa(An),Oe();break;case 26:case 27:case 5:gt(s);break;case 4:Oe();break;case 31:s.memoizedState!==null&&ti(s);break;case 13:ti(s);break;case 19:F(En);break;case 10:Fa(s.type);break;case 22:case 23:ti(s),Ym(),i!==null&&F(ql);break;case 24:Fa(An)}}function Su(i,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var v=u.next;o=v;do{if((o.tag&i)===i){u=void 0;var x=o.create,S=o.inst;u=x(),S.destroy=u}o=o.next}while(o!==v)}}catch(P){Ut(s,s.return,P)}}function ks(i,s,o){try{var u=s.updateQueue,v=u!==null?u.lastEffect:null;if(v!==null){var x=v.next;u=x;do{if((u.tag&i)===i){var S=u.inst,P=S.destroy;if(P!==void 0){S.destroy=void 0,v=s;var Q=o,ue=P;try{ue()}catch(_e){Ut(v,Q,_e)}}}u=u.next}while(u!==x)}}catch(_e){Ut(s,s.return,_e)}}function Qy(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{Ux(s,o)}catch(u){Ut(i,i.return,u)}}}function Jy(i,s,o){o.props=$l(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){Ut(i,s,u)}}function Au(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(v){Ut(i,s,v)}}function ma(i,s){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(v){Ut(i,s,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(v){Ut(i,s,v)}else o.current=null}function Zy(i){var s=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(v){Ut(i,i.return,v)}}function bp(i,s,o){try{var u=i.stateNode;lN(u,i.type,o,s),u[Y]=s}catch(v){Ut(i,i.return,v)}}function e_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Vs(i.type)||i.tag===4}function Sp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||e_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Vs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ap(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Bi));else if(u!==4&&(u===27&&Vs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Ap(i,s,o),i=i.sibling;i!==null;)Ap(i,s,o),i=i.sibling}function qh(i,s,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(u!==4&&(u===27&&Vs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(qh(i,s,o),i=i.sibling;i!==null;)qh(i,s,o),i=i.sibling}function t_(i){var s=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,v=s.attributes;v.length;)s.removeAttributeNode(v[0]);nr(s,u,o),s[H]=i,s[Y]=o}catch(x){Ut(i,i.return,x)}}var Ha=!1,Rn=!1,Cp=!1,n_=typeof WeakSet=="function"?WeakSet:Set,Un=null;function VC(i,s){if(i=i.containerInfo,Wp=f0,i=mx(i),_m(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var v=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var S=0,P=-1,Q=-1,ue=0,_e=0,Te=i,me=null;t:for(;;){for(var ve;Te!==o||v!==0&&Te.nodeType!==3||(P=S+v),Te!==x||u!==0&&Te.nodeType!==3||(Q=S+u),Te.nodeType===3&&(S+=Te.nodeValue.length),(ve=Te.firstChild)!==null;)me=Te,Te=ve;for(;;){if(Te===i)break t;if(me===o&&++ue===v&&(P=S),me===x&&++_e===u&&(Q=S),(ve=Te.nextSibling)!==null)break;Te=me,me=Te.parentNode}Te=ve}o=P===-1||Q===-1?null:{start:P,end:Q}}else o=null}o=o||{start:0,end:0}}else o=null;for($p={focusedElem:i,selectionRange:o},f0=!1,Un=s;Un!==null;)if(s=Un,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Un=i;else for(;Un!==null;){switch(s=Un,x=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)v=i[o],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&x!==null){i=void 0,o=s,v=x.memoizedProps,x=x.memoizedState,u=o.stateNode;try{var Xe=$l(o.type,v);i=u.getSnapshotBeforeUpdate(Xe,x),u.__reactInternalSnapshotBeforeUpdate=i}catch(nt){Ut(o,o.return,nt)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)Jp(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Jp(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Un=i;break}Un=s.return}}function r_(i,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ga(i,o),u&4&&Su(5,o);break;case 1:if(Ga(i,o),u&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(S){Ut(o,o.return,S)}else{var v=$l(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(v,s,i.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(o,o.return,S)}}u&64&&Qy(o),u&512&&Au(o,o.return);break;case 3:if(Ga(i,o),u&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Ux(i,s)}catch(S){Ut(o,o.return,S)}}break;case 27:s===null&&u&4&&t_(o);case 26:case 5:Ga(i,o),s===null&&u&4&&Zy(o),u&512&&Au(o,o.return);break;case 12:Ga(i,o);break;case 31:Ga(i,o),u&4&&s_(i,o);break;case 13:Ga(i,o),u&4&&l_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=$C.bind(null,o),pN(i,o))));break;case 22:if(u=o.memoizedState!==null||Ha,!u){s=s!==null&&s.memoizedState!==null||Rn,v=Ha;var x=Rn;Ha=u,(Rn=s)&&!x?Ya(i,o,(o.subtreeFlags&8772)!==0):Ga(i,o),Ha=v,Rn=x}break;case 30:break;default:Ga(i,o)}}function i_(i){var s=i.alternate;s!==null&&(i.alternate=null,i_(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Ne(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fn=null,Fr=!1;function qa(i,s,o){for(o=o.child;o!==null;)a_(i,s,o),o=o.sibling}function a_(i,s,o){if(Me&&typeof Me.onCommitFiberUnmount=="function")try{Me.onCommitFiberUnmount(se,o)}catch{}switch(o.tag){case 26:Rn||ma(o,s),qa(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rn||ma(o,s);var u=fn,v=Fr;Vs(o.type)&&(fn=o.stateNode,Fr=!1),qa(i,s,o),Pu(o.stateNode),fn=u,Fr=v;break;case 5:Rn||ma(o,s);case 6:if(u=fn,v=Fr,fn=null,qa(i,s,o),fn=u,Fr=v,fn!==null)if(Fr)try{(fn.nodeType===9?fn.body:fn.nodeName==="HTML"?fn.ownerDocument.body:fn).removeChild(o.stateNode)}catch(x){Ut(o,s,x)}else try{fn.removeChild(o.stateNode)}catch(x){Ut(o,s,x)}break;case 18:fn!==null&&(Fr?(i=fn,Q_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),sc(i)):Q_(fn,o.stateNode));break;case 4:u=fn,v=Fr,fn=o.stateNode.containerInfo,Fr=!0,qa(i,s,o),fn=u,Fr=v;break;case 0:case 11:case 14:case 15:ks(2,o,s),Rn||ks(4,o,s),qa(i,s,o);break;case 1:Rn||(ma(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Jy(o,s,u)),qa(i,s,o);break;case 21:qa(i,s,o);break;case 22:Rn=(u=Rn)||o.memoizedState!==null,qa(i,s,o),Rn=u;break;default:qa(i,s,o)}}function s_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{sc(i)}catch(o){Ut(s,s.return,o)}}}function l_(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{sc(i)}catch(o){Ut(s,s.return,o)}}function UC(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new n_),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new n_),s;default:throw Error(r(435,i.tag))}}function Gh(i,s){var o=UC(i);s.forEach(function(u){if(!o.has(u)){o.add(u);var v=KC.bind(null,i,u);u.then(v,v)}})}function Br(i,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var v=o[u],x=i,S=s,P=S;e:for(;P!==null;){switch(P.tag){case 27:if(Vs(P.type)){fn=P.stateNode,Fr=!1;break e}break;case 5:fn=P.stateNode,Fr=!1;break e;case 3:case 4:fn=P.stateNode.containerInfo,Fr=!0;break e}P=P.return}if(fn===null)throw Error(r(160));a_(x,S,v),fn=null,Fr=!1,x=v.alternate,x!==null&&(x.return=null),v.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)o_(s,i),s=s.sibling}var Gi=null;function o_(i,s){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Br(s,i),Vr(i),u&4&&(ks(3,i,i.return),Su(3,i),ks(5,i,i.return));break;case 1:Br(s,i),Vr(i),u&512&&(Rn||o===null||ma(o,o.return)),u&64&&Ha&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var v=Gi;if(Br(s,i),Vr(i),u&512&&(Rn||o===null||ma(o,o.return)),u&4){var x=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,v=v.ownerDocument||v;t:switch(u){case"title":x=v.getElementsByTagName("title")[0],(!x||x[fe]||x[H]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=v.createElement(u),v.head.insertBefore(x,v.querySelector("head > title"))),nr(x,u,o),x[H]=i,We(x),u=x;break e;case"link":var S=o2("link","href",v).get(u+(o.href||""));if(S){for(var P=0;P<S.length;P++)if(x=S[P],x.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&x.getAttribute("rel")===(o.rel==null?null:o.rel)&&x.getAttribute("title")===(o.title==null?null:o.title)&&x.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(P,1);break t}}x=v.createElement(u),nr(x,u,o),v.head.appendChild(x);break;case"meta":if(S=o2("meta","content",v).get(u+(o.content||""))){for(P=0;P<S.length;P++)if(x=S[P],x.getAttribute("content")===(o.content==null?null:""+o.content)&&x.getAttribute("name")===(o.name==null?null:o.name)&&x.getAttribute("property")===(o.property==null?null:o.property)&&x.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&x.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(P,1);break t}}x=v.createElement(u),nr(x,u,o),v.head.appendChild(x);break;default:throw Error(r(468,u))}x[H]=i,We(x),u=x}i.stateNode=u}else c2(v,i.type,i.stateNode);else i.stateNode=l2(v,u,i.memoizedProps);else x!==u?(x===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):x.count--,u===null?c2(v,i.type,i.stateNode):l2(v,u,i.memoizedProps)):u===null&&i.stateNode!==null&&bp(i,i.memoizedProps,o.memoizedProps)}break;case 27:Br(s,i),Vr(i),u&512&&(Rn||o===null||ma(o,o.return)),o!==null&&u&4&&bp(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Br(s,i),Vr(i),u&512&&(Rn||o===null||ma(o,o.return)),i.flags&32){v=i.stateNode;try{jr(v,"")}catch(Xe){Ut(i,i.return,Xe)}}u&4&&i.stateNode!=null&&(v=i.memoizedProps,bp(i,v,o!==null?o.memoizedProps:v)),u&1024&&(Cp=!0);break;case 6:if(Br(s,i),Vr(i),u&4){if(i.stateNode===null)throw Error(r(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(Xe){Ut(i,i.return,Xe)}}break;case 3:if(l0=null,v=Gi,Gi=a0(s.containerInfo),Br(s,i),Gi=v,Vr(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{sc(s.containerInfo)}catch(Xe){Ut(i,i.return,Xe)}Cp&&(Cp=!1,c_(i));break;case 4:u=Gi,Gi=a0(i.stateNode.containerInfo),Br(s,i),Vr(i),Gi=u;break;case 12:Br(s,i),Vr(i);break;case 31:Br(s,i),Vr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 13:Br(s,i),Vr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xh=Yt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 22:v=i.memoizedState!==null;var Q=o!==null&&o.memoizedState!==null,ue=Ha,_e=Rn;if(Ha=ue||v,Rn=_e||Q,Br(s,i),Rn=_e,Ha=ue,Vr(i),u&8192)e:for(s=i.stateNode,s._visibility=v?s._visibility&-2:s._visibility|1,v&&(o===null||Q||Ha||Rn||Kl(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){Q=o=s;try{if(x=Q.stateNode,v)S=x.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{P=Q.stateNode;var Te=Q.memoizedProps.style,me=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;P.style.display=me==null||typeof me=="boolean"?"":(""+me).trim()}}catch(Xe){Ut(Q,Q.return,Xe)}}}else if(s.tag===6){if(o===null){Q=s;try{Q.stateNode.nodeValue=v?"":Q.memoizedProps}catch(Xe){Ut(Q,Q.return,Xe)}}}else if(s.tag===18){if(o===null){Q=s;try{var ve=Q.stateNode;v?J_(ve,!0):J_(Q.stateNode,!1)}catch(Xe){Ut(Q,Q.return,Xe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Gh(i,o))));break;case 19:Br(s,i),Vr(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Gh(i,u)));break;case 30:break;case 21:break;default:Br(s,i),Vr(i)}}function Vr(i){var s=i.flags;if(s&2){try{for(var o,u=i.return;u!==null;){if(e_(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var v=o.stateNode,x=Sp(i);qh(i,x,v);break;case 5:var S=o.stateNode;o.flags&32&&(jr(S,""),o.flags&=-33);var P=Sp(i);qh(i,P,S);break;case 3:case 4:var Q=o.stateNode.containerInfo,ue=Sp(i);Ap(i,ue,Q);break;default:throw Error(r(161))}}catch(_e){Ut(i,i.return,_e)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function c_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;c_(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ga(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)r_(i,s.alternate,s),s=s.sibling}function Kl(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:ks(4,s,s.return),Kl(s);break;case 1:ma(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Jy(s,s.return,o),Kl(s);break;case 27:Pu(s.stateNode);case 26:case 5:ma(s,s.return),Kl(s);break;case 22:s.memoizedState===null&&Kl(s);break;case 30:Kl(s);break;default:Kl(s)}i=i.sibling}}function Ya(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,v=i,x=s,S=x.flags;switch(x.tag){case 0:case 11:case 15:Ya(v,x,o),Su(4,x);break;case 1:if(Ya(v,x,o),u=x,v=u.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ue){Ut(u,u.return,ue)}if(u=x,v=u.updateQueue,v!==null){var P=u.stateNode;try{var Q=v.shared.hiddenCallbacks;if(Q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<Q.length;v++)Vx(Q[v],P)}catch(ue){Ut(u,u.return,ue)}}o&&S&64&&Qy(x),Au(x,x.return);break;case 27:t_(x);case 26:case 5:Ya(v,x,o),o&&u===null&&S&4&&Zy(x),Au(x,x.return);break;case 12:Ya(v,x,o);break;case 31:Ya(v,x,o),o&&S&4&&s_(v,x);break;case 13:Ya(v,x,o),o&&S&4&&l_(v,x);break;case 22:x.memoizedState===null&&Ya(v,x,o),Au(x,x.return);break;case 30:break;default:Ya(v,x,o)}s=s.sibling}}function Np(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&hu(o))}function Rp(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&hu(i))}function Yi(i,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)u_(i,s,o,u),s=s.sibling}function u_(i,s,o,u){var v=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(i,s,o,u),v&2048&&Su(9,s);break;case 1:Yi(i,s,o,u);break;case 3:Yi(i,s,o,u),v&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&hu(i)));break;case 12:if(v&2048){Yi(i,s,o,u),i=s.stateNode;try{var x=s.memoizedProps,S=x.id,P=x.onPostCommit;typeof P=="function"&&P(S,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Q){Ut(s,s.return,Q)}}else Yi(i,s,o,u);break;case 31:Yi(i,s,o,u);break;case 13:Yi(i,s,o,u);break;case 23:break;case 22:x=s.stateNode,S=s.alternate,s.memoizedState!==null?x._visibility&2?Yi(i,s,o,u):Cu(i,s):x._visibility&2?Yi(i,s,o,u):(x._visibility|=2,$o(i,s,o,u,(s.subtreeFlags&10256)!==0||!1)),v&2048&&Np(S,s);break;case 24:Yi(i,s,o,u),v&2048&&Rp(s.alternate,s);break;default:Yi(i,s,o,u)}}function $o(i,s,o,u,v){for(v=v&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var x=i,S=s,P=o,Q=u,ue=S.flags;switch(S.tag){case 0:case 11:case 15:$o(x,S,P,Q,v),Su(8,S);break;case 23:break;case 22:var _e=S.stateNode;S.memoizedState!==null?_e._visibility&2?$o(x,S,P,Q,v):Cu(x,S):(_e._visibility|=2,$o(x,S,P,Q,v)),v&&ue&2048&&Np(S.alternate,S);break;case 24:$o(x,S,P,Q,v),v&&ue&2048&&Rp(S.alternate,S);break;default:$o(x,S,P,Q,v)}s=s.sibling}}function Cu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,u=s,v=u.flags;switch(u.tag){case 22:Cu(o,u),v&2048&&Np(u.alternate,u);break;case 24:Cu(o,u),v&2048&&Rp(u.alternate,u);break;default:Cu(o,u)}s=s.sibling}}var Nu=8192;function Ko(i,s,o){if(i.subtreeFlags&Nu)for(i=i.child;i!==null;)f_(i,s,o),i=i.sibling}function f_(i,s,o){switch(i.tag){case 26:Ko(i,s,o),i.flags&Nu&&i.memoizedState!==null&&CN(o,Gi,i.memoizedState,i.memoizedProps);break;case 5:Ko(i,s,o);break;case 3:case 4:var u=Gi;Gi=a0(i.stateNode.containerInfo),Ko(i,s,o),Gi=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Nu,Nu=16777216,Ko(i,s,o),Nu=u):Ko(i,s,o));break;default:Ko(i,s,o)}}function h_(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Ru(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,m_(u,i)}h_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)d_(i),i=i.sibling}function d_(i){switch(i.tag){case 0:case 11:case 15:Ru(i),i.flags&2048&&ks(9,i,i.return);break;case 3:Ru(i);break;case 12:Ru(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Yh(i)):Ru(i);break;default:Ru(i)}}function Yh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Un=u,m_(u,i)}h_(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:ks(8,s,s.return),Yh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(s));break;default:Yh(s)}i=i.sibling}}function m_(i,s){for(;Un!==null;){var o=Un;switch(o.tag){case 0:case 11:case 15:ks(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:hu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Un=u;else e:for(o=i;Un!==null;){u=Un;var v=u.sibling,x=u.return;if(i_(u),u===o){Un=null;break e}if(v!==null){v.return=x,Un=v;break e}Un=x}}}var zC={getCacheForType:function(i){var s=er(An),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o},cacheSignal:function(){return er(An).controller.signal}},HC=typeof WeakMap=="function"?WeakMap:Map,kt=0,Zt=null,xt=null,_t=0,Vt=0,ni=null,Ms=!1,Qo=!1,Ip=!1,Xa=0,vn=0,Ps=0,Ql=0,Op=0,ri=0,Jo=0,Iu=null,Ur=null,Dp=!1,Xh=0,p_=0,Wh=1/0,$h=null,Ls=null,Ln=0,js=null,Zo=null,Wa=0,kp=0,Mp=null,g_=null,Ou=0,Pp=null;function ii(){return(kt&2)!==0&&_t!==0?_t&-_t:de.T!==null?Up():k()}function v_(){if(ri===0)if((_t&536870912)===0||St){var i=Mi;Mi<<=1,(Mi&3932160)===0&&(Mi=262144),ri=i}else ri=536870912;return i=ei.current,i!==null&&(i.flags|=32),ri}function zr(i,s,o){(i===Zt&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)&&(ec(i,0),Fs(i,_t,ri,!1)),dr(i,o),((kt&2)===0||i!==Zt)&&(i===Zt&&((kt&2)===0&&(Ql|=o),vn===4&&Fs(i,_t,ri,!1)),pa(i))}function x_(i,s,o){if((kt&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&i.expiredLanes)===0||hr(i,s),v=u?YC(i,s):jp(i,s,!0),x=u;do{if(v===0){Qo&&!u&&Fs(i,s,0,!1);break}else{if(o=i.current.alternate,x&&!qC(o)){v=jp(i,s,!1),x=!1;continue}if(v===2){if(x=s,i.errorRecoveryDisabledLanes&x)var S=0;else S=i.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var P=i;v=Iu;var Q=P.current.memoizedState.isDehydrated;if(Q&&(ec(P,S).flags|=256),S=jp(P,S,!1),S!==2){if(Ip&&!Q){P.errorRecoveryDisabledLanes|=x,Ql|=x,v=4;break e}x=Ur,Ur=v,x!==null&&(Ur===null?Ur=x:Ur.push.apply(Ur,x))}v=S}if(x=!1,v!==2)continue}}if(v===1){ec(i,0),Fs(i,s,0,!0);break}e:{switch(u=i,x=v,x){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(u,s,ri,!Ms);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(v=Xh+300-Yt(),10<v)){if(Fs(u,s,ri,!Ms),kr(u,0,!0)!==0)break e;Wa=s,u.timeoutHandle=$_(y_.bind(null,u,o,Ur,$h,Dp,s,ri,Ql,Jo,Ms,x,"Throttled",-0,0),v);break e}y_(u,o,Ur,$h,Dp,s,ri,Ql,Jo,Ms,x,null,-0,0)}}break}while(!0);pa(i)}function y_(i,s,o,u,v,x,S,P,Q,ue,_e,Te,me,ve){if(i.timeoutHandle=-1,Te=s.subtreeFlags,Te&8192||(Te&16785408)===16785408){Te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bi},f_(s,x,Te);var Xe=(x&62914560)===x?Xh-Yt():(x&4194048)===x?p_-Yt():0;if(Xe=NN(Te,Xe),Xe!==null){Wa=x,i.cancelPendingCommit=Xe(C_.bind(null,i,s,x,o,u,v,S,P,Q,_e,Te,null,me,ve)),Fs(i,x,S,!ue);return}}C_(i,s,x,o,u,v,S,P,Q)}function qC(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var v=o[u],x=v.getSnapshot;v=v.value;try{if(!Jr(x(),v))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(i,s,o,u){s&=~Op,s&=~Ql,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var v=s;0<v;){var x=31-Ie(v),S=1<<x;u[x]=-1,v&=~S}o!==0&&Pi(i,o,s)}function Kh(){return(kt&6)===0?(Du(0),!1):!0}function Lp(){if(xt!==null){if(Vt===0)var i=xt.return;else i=xt,ja=zl=null,Jm(i),qo=null,mu=0,i=xt;for(;i!==null;)Ky(i.alternate,i),i=i.return;xt=null}}function ec(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,uN(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Wa=0,Lp(),Zt=i,xt=o=Pa(i.current,null),_t=s,Vt=0,ni=null,Ms=!1,Qo=hr(i,s),Ip=!1,Jo=ri=Op=Ql=Ps=vn=0,Ur=Iu=null,Dp=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var v=31-Ie(u),x=1<<v;s|=i[v],u&=~x}return Xa=s,vh(),o}function __(i,s){dt=null,de.H=Tu,s===Ho||s===Sh?(s=Lx(),Vt=3):s===Vm?(s=Lx(),Vt=4):Vt=s===mp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,ni=s,xt===null&&(vn=1,Bh(i,yi(s,i.current)))}function E_(){var i=ei.current;return i===null?!0:(_t&4194048)===_t?wi===null:(_t&62914560)===_t||(_t&536870912)!==0?i===wi:!1}function T_(){var i=de.H;return de.H=Tu,i===null?Tu:i}function w_(){var i=de.A;return de.A=zC,i}function Qh(){vn=4,Ms||(_t&4194048)!==_t&&ei.current!==null||(Qo=!0),(Ps&134217727)===0&&(Ql&134217727)===0||Zt===null||Fs(Zt,_t,ri,!1)}function jp(i,s,o){var u=kt;kt|=2;var v=T_(),x=w_();(Zt!==i||_t!==s)&&($h=null,ec(i,s)),s=!1;var S=vn;e:do try{if(Vt!==0&&xt!==null){var P=xt,Q=ni;switch(Vt){case 8:Lp(),S=6;break e;case 3:case 2:case 9:case 6:ei.current===null&&(s=!0);var ue=Vt;if(Vt=0,ni=null,tc(i,P,Q,ue),o&&Qo){S=0;break e}break;default:ue=Vt,Vt=0,ni=null,tc(i,P,Q,ue)}}GC(),S=vn;break}catch(_e){__(i,_e)}while(!0);return s&&i.shellSuspendCounter++,ja=zl=null,kt=u,de.H=v,de.A=x,xt===null&&(Zt=null,_t=0,vh()),S}function GC(){for(;xt!==null;)b_(xt)}function YC(i,s){var o=kt;kt|=2;var u=T_(),v=w_();Zt!==i||_t!==s?($h=null,Wh=Yt()+500,ec(i,s)):Qo=hr(i,s);e:do try{if(Vt!==0&&xt!==null){s=xt;var x=ni;t:switch(Vt){case 1:Vt=0,ni=null,tc(i,s,x,1);break;case 2:case 9:if(Mx(x)){Vt=0,ni=null,S_(s);break}s=function(){Vt!==2&&Vt!==9||Zt!==i||(Vt=7),pa(i)},x.then(s,s);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:Mx(x)?(Vt=0,ni=null,S_(s)):(Vt=0,ni=null,tc(i,s,x,7));break;case 5:var S=null;switch(xt.tag){case 26:S=xt.memoizedState;case 5:case 27:var P=xt;if(S?u2(S):P.stateNode.complete){Vt=0,ni=null;var Q=P.sibling;if(Q!==null)xt=Q;else{var ue=P.return;ue!==null?(xt=ue,Jh(ue)):xt=null}break t}}Vt=0,ni=null,tc(i,s,x,5);break;case 6:Vt=0,ni=null,tc(i,s,x,6);break;case 8:Lp(),vn=6;break e;default:throw Error(r(462))}}XC();break}catch(_e){__(i,_e)}while(!0);return ja=zl=null,de.H=u,de.A=v,kt=o,xt!==null?0:(Zt=null,_t=0,vh(),vn)}function XC(){for(;xt!==null&&!wr();)b_(xt)}function b_(i){var s=Wy(i.alternate,i,Xa);i.memoizedProps=i.pendingProps,s===null?Jh(i):xt=s}function S_(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=zy(o,s,s.pendingProps,s.type,void 0,_t);break;case 11:s=zy(o,s,s.pendingProps,s.type.render,s.ref,_t);break;case 5:Jm(s);default:Ky(o,s),s=xt=wx(s,Xa),s=Wy(o,s,Xa)}i.memoizedProps=i.pendingProps,s===null?Jh(i):xt=s}function tc(i,s,o,u){ja=zl=null,Jm(s),qo=null,mu=0;var v=s.return;try{if(PC(i,v,s,o,_t)){vn=1,Bh(i,yi(o,i.current)),xt=null;return}}catch(x){if(v!==null)throw xt=v,x;vn=1,Bh(i,yi(o,i.current)),xt=null;return}s.flags&32768?(St||u===1?i=!0:Qo||(_t&536870912)!==0?i=!1:(Ms=i=!0,(u===2||u===9||u===3||u===6)&&(u=ei.current,u!==null&&u.tag===13&&(u.flags|=16384))),A_(s,i)):Jh(s)}function Jh(i){var s=i;do{if((s.flags&32768)!==0){A_(s,Ms);return}i=s.return;var o=FC(s.alternate,s,Xa);if(o!==null){xt=o;return}if(s=s.sibling,s!==null){xt=s;return}xt=s=i}while(s!==null);vn===0&&(vn=5)}function A_(i,s){do{var o=BC(i.alternate,i);if(o!==null){o.flags&=32767,xt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){xt=i;return}xt=i=o}while(i!==null);vn=6,xt=null}function C_(i,s,o,u,v,x,S,P,Q){i.cancelPendingCommit=null;do Zh();while(Ln!==0);if((kt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(x=s.lanes|s.childLanes,x|=Sm,Cl(i,o,x,S,P,Q),i===Zt&&(xt=Zt=null,_t=0),Zo=s,js=i,Wa=o,kp=x,Mp=v,g_=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,QC($n,function(){return D_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=de.T,de.T=null,v=be.p,be.p=2,S=kt,kt|=4;try{VC(i,s,o)}finally{kt=S,be.p=v,de.T=u}}Ln=1,N_(),R_(),I_()}}function N_(){if(Ln===1){Ln=0;var i=js,s=Zo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=de.T,de.T=null;var u=be.p;be.p=2;var v=kt;kt|=4;try{o_(s,i);var x=$p,S=mx(i.containerInfo),P=x.focusedElem,Q=x.selectionRange;if(S!==P&&P&&P.ownerDocument&&dx(P.ownerDocument.documentElement,P)){if(Q!==null&&_m(P)){var ue=Q.start,_e=Q.end;if(_e===void 0&&(_e=ue),"selectionStart"in P)P.selectionStart=ue,P.selectionEnd=Math.min(_e,P.value.length);else{var Te=P.ownerDocument||document,me=Te&&Te.defaultView||window;if(me.getSelection){var ve=me.getSelection(),Xe=P.textContent.length,nt=Math.min(Q.start,Xe),Kt=Q.end===void 0?nt:Math.min(Q.end,Xe);!ve.extend&&nt>Kt&&(S=Kt,Kt=nt,nt=S);var ie=hx(P,nt),ne=hx(P,Kt);if(ie&&ne&&(ve.rangeCount!==1||ve.anchorNode!==ie.node||ve.anchorOffset!==ie.offset||ve.focusNode!==ne.node||ve.focusOffset!==ne.offset)){var le=Te.createRange();le.setStart(ie.node,ie.offset),ve.removeAllRanges(),nt>Kt?(ve.addRange(le),ve.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),ve.addRange(le))}}}}for(Te=[],ve=P;ve=ve.parentNode;)ve.nodeType===1&&Te.push({element:ve,left:ve.scrollLeft,top:ve.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<Te.length;P++){var Ee=Te[P];Ee.element.scrollLeft=Ee.left,Ee.element.scrollTop=Ee.top}}f0=!!Wp,$p=Wp=null}finally{kt=v,be.p=u,de.T=o}}i.current=s,Ln=2}}function R_(){if(Ln===2){Ln=0;var i=js,s=Zo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=de.T,de.T=null;var u=be.p;be.p=2;var v=kt;kt|=4;try{r_(i,s.alternate,s)}finally{kt=v,be.p=u,de.T=o}}Ln=3}}function I_(){if(Ln===4||Ln===3){Ln=0,$r();var i=js,s=Zo,o=Wa,u=g_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ln=5:(Ln=0,Zo=js=null,O_(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Ls=null),Pr(o),s=s.stateNode,Me&&typeof Me.onCommitFiberRoot=="function")try{Me.onCommitFiberRoot(se,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=de.T,v=be.p,be.p=2,de.T=null;try{for(var x=i.onRecoverableError,S=0;S<u.length;S++){var P=u[S];x(P.value,{componentStack:P.stack})}}finally{de.T=s,be.p=v}}(Wa&3)!==0&&Zh(),pa(i),v=i.pendingLanes,(o&261930)!==0&&(v&42)!==0?i===Pp?Ou++:(Ou=0,Pp=i):Ou=0,Du(0)}}function O_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,hu(s)))}function Zh(){return N_(),R_(),I_(),D_()}function D_(){if(Ln!==5)return!1;var i=js,s=kp;kp=0;var o=Pr(Wa),u=de.T,v=be.p;try{be.p=32>o?32:o,de.T=null,o=Mp,Mp=null;var x=js,S=Wa;if(Ln=0,Zo=js=null,Wa=0,(kt&6)!==0)throw Error(r(331));var P=kt;if(kt|=4,d_(x.current),u_(x,x.current,S,o),kt=P,Du(0,!1),Me&&typeof Me.onPostCommitFiberRoot=="function")try{Me.onPostCommitFiberRoot(se,x)}catch{}return!0}finally{be.p=v,de.T=u,O_(i,s)}}function k_(i,s,o){s=yi(o,s),s=dp(i.stateNode,s,2),i=Is(i,s,2),i!==null&&(dr(i,2),pa(i))}function Ut(i,s,o){if(i.tag===3)k_(i,i,o);else for(;s!==null;){if(s.tag===3){k_(s,i,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ls===null||!Ls.has(u))){i=yi(o,i),o=My(2),u=Is(s,o,2),u!==null&&(Py(o,u,s,i),dr(u,2),pa(u));break}}s=s.return}}function Fp(i,s,o){var u=i.pingCache;if(u===null){u=i.pingCache=new HC;var v=new Set;u.set(s,v)}else v=u.get(s),v===void 0&&(v=new Set,u.set(s,v));v.has(o)||(Ip=!0,v.add(o),i=WC.bind(null,i,s,o),s.then(i,i))}function WC(i,s,o){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Zt===i&&(_t&o)===o&&(vn===4||vn===3&&(_t&62914560)===_t&&300>Yt()-Xh?(kt&2)===0&&ec(i,0):Op|=o,Jo===_t&&(Jo=0)),pa(i)}function M_(i,s){s===0&&(s=Mr()),i=Bl(i,s),i!==null&&(dr(i,s),pa(i))}function $C(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),M_(i,o)}function KC(i,s){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,v=i.memoizedState;v!==null&&(o=v.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),M_(i,o)}function QC(i,s){return Pt(i,s)}var e0=null,nc=null,Bp=!1,t0=!1,Vp=!1,Bs=0;function pa(i){i!==nc&&i.next===null&&(nc===null?e0=nc=i:nc=nc.next=i),t0=!0,Bp||(Bp=!0,ZC())}function Du(i,s){if(!Vp&&t0){Vp=!0;do for(var o=!1,u=e0;u!==null;){if(i!==0){var v=u.pendingLanes;if(v===0)var x=0;else{var S=u.suspendedLanes,P=u.pingedLanes;x=(1<<31-Ie(42|i)+1)-1,x&=v&~(S&~P),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(o=!0,F_(u,x))}else x=_t,x=kr(u,u===Zt?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(x&3)===0||hr(u,x)||(o=!0,F_(u,x));u=u.next}while(o);Vp=!1}}function JC(){P_()}function P_(){t0=Bp=!1;var i=0;Bs!==0&&cN()&&(i=Bs);for(var s=Yt(),o=null,u=e0;u!==null;){var v=u.next,x=L_(u,s);x===0?(u.next=null,o===null?e0=v:o.next=v,v===null&&(nc=o)):(o=u,(i!==0||(x&3)!==0)&&(t0=!0)),u=v}Ln!==0&&Ln!==5||Du(i),Bs!==0&&(Bs=0)}function L_(i,s){for(var o=i.suspendedLanes,u=i.pingedLanes,v=i.expirationTimes,x=i.pendingLanes&-62914561;0<x;){var S=31-Ie(x),P=1<<S,Q=v[S];Q===-1?((P&o)===0||(P&u)!==0)&&(v[S]=ra(P,s)):Q<=s&&(i.expiredLanes|=P),x&=~P}if(s=Zt,o=_t,o=kr(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===s&&(Vt===2||Vt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&Wn(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||hr(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(u!==null&&Wn(u),Pr(o)){case 2:case 8:o=ki;break;case 32:o=$n;break;case 268435456:o=mi;break;default:o=$n}return u=j_.bind(null,i),o=Pt(o,u),i.callbackPriority=s,i.callbackNode=o,s}return u!==null&&u!==null&&Wn(u),i.callbackPriority=2,i.callbackNode=null,2}function j_(i,s){if(Ln!==0&&Ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var u=_t;return u=kr(i,i===Zt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(x_(i,u,s),L_(i,Yt()),i.callbackNode!=null&&i.callbackNode===o?j_.bind(null,i):null)}function F_(i,s){if(Zh())return null;x_(i,s,!0)}function ZC(){fN(function(){(kt&6)!==0?Pt(Di,JC):P_()})}function Up(){if(Bs===0){var i=Uo;i===0&&(i=Sr,Sr<<=1,(Sr&261888)===0&&(Sr=256)),Bs=i}return Bs}function B_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Ao(""+i)}function V_(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function eN(i,s,o,u,v){if(s==="submit"&&o&&o.stateNode===v){var x=B_((v[Y]||null).action),S=u.submitter;S&&(s=(s=S[Y]||null)?B_(s.formAction):S.getAttribute("formAction"),s!==null&&(x=s,S=null));var P=new oa("action","action",null,u,v);i.push({event:P,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Bs!==0){var Q=S?V_(v,S):new FormData(v);lp(o,{pending:!0,data:Q,method:v.method,action:x},null,Q)}}else typeof x=="function"&&(P.preventDefault(),Q=S?V_(v,S):new FormData(v),lp(o,{pending:!0,data:Q,method:v.method,action:x},x,Q))},currentTarget:v}]})}}for(var zp=0;zp<bm.length;zp++){var Hp=bm[zp],tN=Hp.toLowerCase(),nN=Hp[0].toUpperCase()+Hp.slice(1);qi(tN,"on"+nN)}qi(vx,"onAnimationEnd"),qi(xx,"onAnimationIteration"),qi(yx,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(xC,"onTransitionRun"),qi(yC,"onTransitionStart"),qi(_C,"onTransitionCancel"),qi(_x,"onTransitionEnd"),mr("onMouseEnter",["mouseout","mouseover"]),mr("onMouseLeave",["mouseout","mouseover"]),mr("onPointerEnter",["pointerout","pointerover"]),mr("onPointerLeave",["pointerout","pointerover"]),Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ku));function U_(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],v=u.event;u=u.listeners;e:{var x=void 0;if(s)for(var S=u.length-1;0<=S;S--){var P=u[S],Q=P.instance,ue=P.currentTarget;if(P=P.listener,Q!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=ue;try{x(v)}catch(_e){gh(_e)}v.currentTarget=null,x=Q}else for(S=0;S<u.length;S++){if(P=u[S],Q=P.instance,ue=P.currentTarget,P=P.listener,Q!==x&&v.isPropagationStopped())break e;x=P,v.currentTarget=ue;try{x(v)}catch(_e){gh(_e)}v.currentTarget=null,x=Q}}}}function yt(i,s){var o=s[oe];o===void 0&&(o=s[oe]=new Set);var u=i+"__bubble";o.has(u)||(z_(s,i,2,!1),o.add(u))}function qp(i,s,o){var u=0;s&&(u|=4),z_(o,i,u,s)}var n0="_reactListening"+Math.random().toString(36).slice(2);function Gp(i){if(!i[n0]){i[n0]=!0,jt.forEach(function(o){o!=="selectionchange"&&(rN.has(o)||qp(o,!1,i),qp(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[n0]||(s[n0]=!0,qp("selectionchange",!1,s))}}function z_(i,s,o,u){switch(v2(s)){case 2:var v=ON;break;case 8:v=DN;break;default:v=sg}o=v.bind(null,s,o,i),v=void 0,!Ol||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(v=!0),u?v!==void 0?i.addEventListener(s,o,{capture:!0,passive:v}):i.addEventListener(s,o,!0):v!==void 0?i.addEventListener(s,o,{passive:v}):i.addEventListener(s,o,!1)}function Yp(i,s,o,u,v){var x=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var P=u.stateNode.containerInfo;if(P===v)break;if(S===4)for(S=u.return;S!==null;){var Q=S.tag;if((Q===3||Q===4)&&S.stateNode.containerInfo===v)return;S=S.return}for(;P!==null;){if(S=De(P),S===null)return;if(Q=S.tag,Q===5||Q===6||Q===26||Q===27){u=x=S;continue e}P=P.parentNode}}u=u.return}_s(function(){var ue=x,_e=pi(o),Te=[];e:{var me=Ex.get(i);if(me!==void 0){var ve=oa,Xe=i;switch(i){case"keypress":if(kl(o)===0)break e;case"keydown":case"keyup":ve=dh;break;case"focusin":Xe="focus",ve=Pl;break;case"focusout":Xe="blur",ve=Pl;break;case"beforeblur":case"afterblur":ve=Pl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=ih;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=T;break;case vx:case xx:case yx:ve=sh;break;case _x:ve=z;break;case"scroll":case"scrollend":ve=ru;break;case"wheel":ve=ge;break;case"copy":case"cut":case"paste":ve=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=Ma;break;case"toggle":case"beforetoggle":ve=ht}var nt=(s&4)!==0,Kt=!nt&&(i==="scroll"||i==="scrollend"),ie=nt?me!==null?me+"Capture":null:me;nt=[];for(var ne=ue,le;ne!==null;){var Ee=ne;if(le=Ee.stateNode,Ee=Ee.tag,Ee!==5&&Ee!==26&&Ee!==27||le===null||ie===null||(Ee=Vi(ne,ie),Ee!=null&&nt.push(Mu(ne,Ee,le))),Kt)break;ne=ne.return}0<nt.length&&(me=new ve(me,Xe,null,o,_e),Te.push({event:me,listeners:nt}))}}if((s&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",ve=i==="mouseout"||i==="pointerout",me&&o!==eu&&(Xe=o.relatedTarget||o.fromElement)&&(De(Xe)||Xe[X]))break e;if((ve||me)&&(me=_e.window===_e?_e:(me=_e.ownerDocument)?me.defaultView||me.parentWindow:window,ve?(Xe=o.relatedTarget||o.toElement,ve=ue,Xe=Xe?De(Xe):null,Xe!==null&&(Kt=l(Xe),nt=Xe.tag,Xe!==Kt||nt!==5&&nt!==27&&nt!==6)&&(Xe=null)):(ve=null,Xe=ue),ve!==Xe)){if(nt=iu,Ee="onMouseLeave",ie="onMouseEnter",ne="mouse",(i==="pointerout"||i==="pointerover")&&(nt=Ma,Ee="onPointerLeave",ie="onPointerEnter",ne="pointer"),Kt=ve==null?me:Ce(ve),le=Xe==null?me:Ce(Xe),me=new nt(Ee,ne+"leave",ve,o,_e),me.target=Kt,me.relatedTarget=le,Ee=null,De(_e)===ue&&(nt=new nt(ie,ne+"enter",Xe,o,_e),nt.target=le,nt.relatedTarget=Kt,Ee=nt),Kt=Ee,ve&&Xe)t:{for(nt=iN,ie=ve,ne=Xe,le=0,Ee=ie;Ee;Ee=nt(Ee))le++;Ee=0;for(var et=ne;et;et=nt(et))Ee++;for(;0<le-Ee;)ie=nt(ie),le--;for(;0<Ee-le;)ne=nt(ne),Ee--;for(;le--;){if(ie===ne||ne!==null&&ie===ne.alternate){nt=ie;break t}ie=nt(ie),ne=nt(ne)}nt=null}else nt=null;ve!==null&&H_(Te,me,ve,nt,!1),Xe!==null&&Kt!==null&&H_(Te,Kt,Xe,nt,!0)}}e:{if(me=ue?Ce(ue):window,ve=me.nodeName&&me.nodeName.toLowerCase(),ve==="select"||ve==="input"&&me.type==="file")var Rt=sx;else if(ix(me))if(lx)Rt=pC;else{Rt=dC;var Ke=hC}else ve=me.nodeName,!ve||ve.toLowerCase()!=="input"||me.type!=="checkbox"&&me.type!=="radio"?ue&&So(ue.elementType)&&(Rt=sx):Rt=mC;if(Rt&&(Rt=Rt(i,ue))){ax(Te,Rt,o,_e);break e}Ke&&Ke(i,me,ue),i==="focusout"&&ue&&me.type==="number"&&ue.memoizedProps.value!=null&&Qc(me,"number",me.value)}switch(Ke=ue?Ce(ue):window,i){case"focusin":(ix(Ke)||Ke.contentEditable==="true")&&(ko=Ke,Em=ue,cu=null);break;case"focusout":cu=Em=ko=null;break;case"mousedown":Tm=!0;break;case"contextmenu":case"mouseup":case"dragend":Tm=!1,px(Te,o,_e);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":px(Te,o,_e)}var mt;if(Dt)e:{switch(i){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else Do?Ll(i,o)&&(Et="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Et="onCompositionStart");Et&&(fa&&o.locale!=="ko"&&(Do||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&Do&&(mt=nu()):(la=_e,tu="value"in la?la.value:la.textContent,Do=!0)),Ke=r0(ue,Et),0<Ke.length&&(Et=new ua(Et,i,null,o,_e),Te.push({event:Et,listeners:Ke}),mt?Et.data=mt:(mt=Oo(o),mt!==null&&(Et.data=mt)))),(mt=vi?oC(i,o):cC(i,o))&&(Et=r0(ue,"onBeforeInput"),0<Et.length&&(Ke=new ua("onBeforeInput","beforeinput",null,o,_e),Te.push({event:Ke,listeners:Et}),Ke.data=mt)),eN(Te,i,ue,o,_e)}U_(Te,s)})}function Mu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function r0(i,s){for(var o=s+"Capture",u=[];i!==null;){var v=i,x=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||x===null||(v=Vi(i,o),v!=null&&u.unshift(Mu(i,v,x)),v=Vi(i,s),v!=null&&u.push(Mu(i,v,x))),i.tag===3)return u;i=i.return}return[]}function iN(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function H_(i,s,o,u,v){for(var x=s._reactName,S=[];o!==null&&o!==u;){var P=o,Q=P.alternate,ue=P.stateNode;if(P=P.tag,Q!==null&&Q===u)break;P!==5&&P!==26&&P!==27||ue===null||(Q=ue,v?(ue=Vi(o,x),ue!=null&&S.unshift(Mu(o,ue,Q))):v||(ue=Vi(o,x),ue!=null&&S.push(Mu(o,ue,Q)))),o=o.return}S.length!==0&&i.push({event:s,listeners:S})}var aN=/\r\n?/g,sN=/\u0000|\uFFFD/g;function q_(i){return(typeof i=="string"?i:""+i).replace(aN,`
`).replace(sN,"")}function G_(i,s){return s=q_(s),q_(i)===s}function $t(i,s,o,u,v,x){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||jr(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&jr(i,""+u);break;case"className":Qr(i,"class",u);break;case"tabIndex":Qr(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Qr(i,o,u);break;case"style":Zc(i,u,x);break;case"data":if(s!=="object"){Qr(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ao(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(o==="formAction"?(s!=="input"&&$t(i,s,"name",v.name,v,null),$t(i,s,"formEncType",v.formEncType,v,null),$t(i,s,"formMethod",v.formMethod,v,null),$t(i,s,"formTarget",v.formTarget,v,null)):($t(i,s,"encType",v.encType,v,null),$t(i,s,"method",v.method,v,null),$t(i,s,"target",v.target,v,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=Ao(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Bi);break;case"onScroll":u!=null&&yt("scroll",i);break;case"onScrollEnd":u!=null&&yt("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=Ao(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":yt("beforetoggle",i),yt("toggle",i),pr(i,"popover",u);break;case"xlinkActuate":Sn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Sn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Sn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Sn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Sn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Sn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Sn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=rh.get(o)||o,pr(i,o,u))}}function Xp(i,s,o,u,v,x){switch(o){case"style":Zc(i,u,x);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof u=="string"?jr(i,u):(typeof u=="number"||typeof u=="bigint")&&jr(i,""+u);break;case"onScroll":u!=null&&yt("scroll",i);break;case"onScrollEnd":u!=null&&yt("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Bi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ft.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(v=o.endsWith("Capture"),s=o.slice(2,v?o.length-7:void 0),x=i[Y]||null,x=x!=null?x[o]:null,typeof x=="function"&&i.removeEventListener(s,x,v),typeof u=="function")){typeof x!="function"&&x!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,u,v);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):pr(i,o,u)}}}function nr(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":yt("error",i),yt("load",i);var u=!1,v=!1,x;for(x in o)if(o.hasOwnProperty(x)){var S=o[x];if(S!=null)switch(x){case"src":u=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(i,s,x,S,o,null)}}v&&$t(i,s,"srcSet",o.srcSet,o,null),u&&$t(i,s,"src",o.src,o,null);return;case"input":yt("invalid",i);var P=x=S=v=null,Q=null,ue=null;for(u in o)if(o.hasOwnProperty(u)){var _e=o[u];if(_e!=null)switch(u){case"name":v=_e;break;case"type":S=_e;break;case"checked":Q=_e;break;case"defaultChecked":ue=_e;break;case"value":x=_e;break;case"defaultValue":P=_e;break;case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(r(137,s));break;default:$t(i,s,u,_e,o,null)}}eh(i,x,P,Q,ue,S,v,!1);return;case"select":yt("invalid",i),u=S=x=null;for(v in o)if(o.hasOwnProperty(v)&&(P=o[v],P!=null))switch(v){case"value":x=P;break;case"defaultValue":S=P;break;case"multiple":u=P;default:$t(i,s,v,P,o,null)}s=x,o=S,i.multiple=!!u,s!=null?gs(i,!!u,s,!1):o!=null&&gs(i,!!u,o,!0);return;case"textarea":yt("invalid",i),x=v=u=null;for(S in o)if(o.hasOwnProperty(S)&&(P=o[S],P!=null))switch(S){case"value":u=P;break;case"defaultValue":v=P;break;case"children":x=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(91));break;default:$t(i,s,S,P,o,null)}vs(i,u,v,x);return;case"option":for(Q in o)if(o.hasOwnProperty(Q)&&(u=o[Q],u!=null))switch(Q){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:$t(i,s,Q,u,o,null)}return;case"dialog":yt("beforetoggle",i),yt("toggle",i),yt("cancel",i),yt("close",i);break;case"iframe":case"object":yt("load",i);break;case"video":case"audio":for(u=0;u<ku.length;u++)yt(ku[u],i);break;case"image":yt("error",i),yt("load",i);break;case"details":yt("toggle",i);break;case"embed":case"source":case"link":yt("error",i),yt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ue in o)if(o.hasOwnProperty(ue)&&(u=o[ue],u!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:$t(i,s,ue,u,o,null)}return;default:if(So(s)){for(_e in o)o.hasOwnProperty(_e)&&(u=o[_e],u!==void 0&&Xp(i,s,_e,u,o,void 0));return}}for(P in o)o.hasOwnProperty(P)&&(u=o[P],u!=null&&$t(i,s,P,u,o,null))}function lN(i,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,x=null,S=null,P=null,Q=null,ue=null,_e=null;for(ve in o){var Te=o[ve];if(o.hasOwnProperty(ve)&&Te!=null)switch(ve){case"checked":break;case"value":break;case"defaultValue":Q=Te;default:u.hasOwnProperty(ve)||$t(i,s,ve,null,u,Te)}}for(var me in u){var ve=u[me];if(Te=o[me],u.hasOwnProperty(me)&&(ve!=null||Te!=null))switch(me){case"type":x=ve;break;case"name":v=ve;break;case"checked":ue=ve;break;case"defaultChecked":_e=ve;break;case"value":S=ve;break;case"defaultValue":P=ve;break;case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,s));break;default:ve!==Te&&$t(i,s,me,ve,u,Te)}}bo(i,S,P,Q,ue,_e,x,v);return;case"select":ve=S=P=me=null;for(x in o)if(Q=o[x],o.hasOwnProperty(x)&&Q!=null)switch(x){case"value":break;case"multiple":ve=Q;default:u.hasOwnProperty(x)||$t(i,s,x,null,u,Q)}for(v in u)if(x=u[v],Q=o[v],u.hasOwnProperty(v)&&(x!=null||Q!=null))switch(v){case"value":me=x;break;case"defaultValue":P=x;break;case"multiple":S=x;default:x!==Q&&$t(i,s,v,x,u,Q)}s=P,o=S,u=ve,me!=null?gs(i,!!o,me,!1):!!u!=!!o&&(s!=null?gs(i,!!o,s,!0):gs(i,!!o,o?[]:"",!1));return;case"textarea":ve=me=null;for(P in o)if(v=o[P],o.hasOwnProperty(P)&&v!=null&&!u.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:$t(i,s,P,null,u,v)}for(S in u)if(v=u[S],x=o[S],u.hasOwnProperty(S)&&(v!=null||x!=null))switch(S){case"value":me=v;break;case"defaultValue":ve=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==x&&$t(i,s,S,v,u,x)}th(i,me,ve);return;case"option":for(var Xe in o)if(me=o[Xe],o.hasOwnProperty(Xe)&&me!=null&&!u.hasOwnProperty(Xe))switch(Xe){case"selected":i.selected=!1;break;default:$t(i,s,Xe,null,u,me)}for(Q in u)if(me=u[Q],ve=o[Q],u.hasOwnProperty(Q)&&me!==ve&&(me!=null||ve!=null))switch(Q){case"selected":i.selected=me&&typeof me!="function"&&typeof me!="symbol";break;default:$t(i,s,Q,me,u,ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in o)me=o[nt],o.hasOwnProperty(nt)&&me!=null&&!u.hasOwnProperty(nt)&&$t(i,s,nt,null,u,me);for(ue in u)if(me=u[ue],ve=o[ue],u.hasOwnProperty(ue)&&me!==ve&&(me!=null||ve!=null))switch(ue){case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,s));break;default:$t(i,s,ue,me,u,ve)}return;default:if(So(s)){for(var Kt in o)me=o[Kt],o.hasOwnProperty(Kt)&&me!==void 0&&!u.hasOwnProperty(Kt)&&Xp(i,s,Kt,void 0,u,me);for(_e in u)me=u[_e],ve=o[_e],!u.hasOwnProperty(_e)||me===ve||me===void 0&&ve===void 0||Xp(i,s,_e,me,u,ve);return}}for(var ie in o)me=o[ie],o.hasOwnProperty(ie)&&me!=null&&!u.hasOwnProperty(ie)&&$t(i,s,ie,null,u,me);for(Te in u)me=u[Te],ve=o[Te],!u.hasOwnProperty(Te)||me===ve||me==null&&ve==null||$t(i,s,Te,me,u,ve)}function Y_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function oN(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var v=o[u],x=v.transferSize,S=v.initiatorType,P=v.duration;if(x&&P&&Y_(S)){for(S=0,P=v.responseEnd,u+=1;u<o.length;u++){var Q=o[u],ue=Q.startTime;if(ue>P)break;var _e=Q.transferSize,Te=Q.initiatorType;_e&&Y_(Te)&&(Q=Q.responseEnd,S+=_e*(Q<P?1:(P-ue)/(Q-ue)))}if(--u,s+=8*(x+S)/(v.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Wp=null,$p=null;function i0(i){return i.nodeType===9?i:i.ownerDocument}function X_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Kp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qp=null;function cN(){var i=window.event;return i&&i.type==="popstate"?i===Qp?!1:(Qp=i,!0):(Qp=null,!1)}var $_=typeof setTimeout=="function"?setTimeout:void 0,uN=typeof clearTimeout=="function"?clearTimeout:void 0,K_=typeof Promise=="function"?Promise:void 0,fN=typeof queueMicrotask=="function"?queueMicrotask:typeof K_<"u"?function(i){return K_.resolve(null).then(i).catch(hN)}:$_;function hN(i){setTimeout(function(){throw i})}function Vs(i){return i==="head"}function Q_(i,s){var o=s,u=0;do{var v=o.nextSibling;if(i.removeChild(o),v&&v.nodeType===8)if(o=v.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(v),sc(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Pu(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Pu(o);for(var x=o.firstChild;x;){var S=x.nextSibling,P=x.nodeName;x[fe]||P==="SCRIPT"||P==="STYLE"||P==="LINK"&&x.rel.toLowerCase()==="stylesheet"||o.removeChild(x),x=S}}else o==="body"&&Pu(i.ownerDocument.body);o=v}while(o);sc(s)}function J_(i,s){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Jp(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Jp(o),Ne(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dN(i,s,o,u){for(;i.nodeType===1;){var v=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[fe])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(x=i.getAttribute("rel"),x==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(x!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(x=i.getAttribute("src"),(x!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&x&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var x=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===x)return i}else return i;if(i=bi(i.nextSibling),i===null)break}return null}function mN(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=bi(i.nextSibling),i===null))return null;return i}function Z_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=bi(i.nextSibling),i===null))return null;return i}function Zp(i){return i.data==="$?"||i.data==="$~"}function eg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function pN(i,s){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function bi(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var tg=null;function e2(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(s===0)return bi(i.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}i=i.nextSibling}return null}function t2(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return i;s--}else o!=="/$"&&o!=="/&"||s++}i=i.previousSibling}return null}function n2(i,s,o){switch(s=i0(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Pu(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Ne(i)}var Si=new Map,r2=new Set;function a0(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var $a=be.d;be.d={f:gN,r:vN,D:xN,C:yN,L:_N,m:EN,X:wN,S:TN,M:bN};function gN(){var i=$a.f(),s=Kh();return i||s}function vN(i){var s=Ve(i);s!==null&&s.tag===5&&s.type==="form"?_y(s):$a.r(i)}var rc=typeof document>"u"?null:document;function i2(i,s,o){var u=rc;if(u&&typeof s=="string"&&s){var v=Lr(s);v='link[rel="'+i+'"][href="'+v+'"]',typeof o=="string"&&(v+='[crossorigin="'+o+'"]'),r2.has(v)||(r2.add(v),i={rel:i,crossOrigin:o,href:s},u.querySelector(v)===null&&(s=u.createElement("link"),nr(s,"link",i),We(s),u.head.appendChild(s)))}}function xN(i){$a.D(i),i2("dns-prefetch",i,null)}function yN(i,s){$a.C(i,s),i2("preconnect",i,s)}function _N(i,s,o){$a.L(i,s,o);var u=rc;if(u&&i&&s){var v='link[rel="preload"][as="'+Lr(s)+'"]';s==="image"&&o&&o.imageSrcSet?(v+='[imagesrcset="'+Lr(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(v+='[imagesizes="'+Lr(o.imageSizes)+'"]')):v+='[href="'+Lr(i)+'"]';var x=v;switch(s){case"style":x=ic(i);break;case"script":x=ac(i)}Si.has(x)||(i=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),Si.set(x,i),u.querySelector(v)!==null||s==="style"&&u.querySelector(Lu(x))||s==="script"&&u.querySelector(ju(x))||(s=u.createElement("link"),nr(s,"link",i),We(s),u.head.appendChild(s)))}}function EN(i,s){$a.m(i,s);var o=rc;if(o&&i){var u=s&&typeof s.as=="string"?s.as:"script",v='link[rel="modulepreload"][as="'+Lr(u)+'"][href="'+Lr(i)+'"]',x=v;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=ac(i)}if(!Si.has(x)&&(i=y({rel:"modulepreload",href:i},s),Si.set(x,i),o.querySelector(v)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ju(x)))return}u=o.createElement("link"),nr(u,"link",i),We(u),o.head.appendChild(u)}}}function TN(i,s,o){$a.S(i,s,o);var u=rc;if(u&&i){var v=Fe(u).hoistableStyles,x=ic(i);s=s||"default";var S=v.get(x);if(!S){var P={loading:0,preload:null};if(S=u.querySelector(Lu(x)))P.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":s},o),(o=Si.get(x))&&ng(i,o);var Q=S=u.createElement("link");We(Q),nr(Q,"link",i),Q._p=new Promise(function(ue,_e){Q.onload=ue,Q.onerror=_e}),Q.addEventListener("load",function(){P.loading|=1}),Q.addEventListener("error",function(){P.loading|=2}),P.loading|=4,s0(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:P},v.set(x,S)}}}function wN(i,s){$a.X(i,s);var o=rc;if(o&&i){var u=Fe(o).hoistableScripts,v=ac(i),x=u.get(v);x||(x=o.querySelector(ju(v)),x||(i=y({src:i,async:!0},s),(s=Si.get(v))&&rg(i,s),x=o.createElement("script"),We(x),nr(x,"link",i),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(v,x))}}function bN(i,s){$a.M(i,s);var o=rc;if(o&&i){var u=Fe(o).hoistableScripts,v=ac(i),x=u.get(v);x||(x=o.querySelector(ju(v)),x||(i=y({src:i,async:!0,type:"module"},s),(s=Si.get(v))&&rg(i,s),x=o.createElement("script"),We(x),nr(x,"link",i),o.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},u.set(v,x))}}function a2(i,s,o,u){var v=(v=pe.current)?a0(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ic(o.href),o=Fe(v).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ic(o.href);var x=Fe(v).hoistableStyles,S=x.get(i);if(S||(v=v.ownerDocument||v,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(i,S),(x=v.querySelector(Lu(i)))&&!x._p&&(S.instance=x,S.state.loading=5),Si.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Si.set(i,o),x||SN(v,i,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=ac(o),o=Fe(v).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ic(i){return'href="'+Lr(i)+'"'}function Lu(i){return'link[rel="stylesheet"]['+i+"]"}function s2(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function SN(i,s,o,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),nr(s,"link",o),We(s),i.head.appendChild(s))}function ac(i){return'[src="'+Lr(i)+'"]'}function ju(i){return"script[async]"+i}function l2(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Lr(o.href)+'"]');if(u)return s.instance=u,We(u),u;var v=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),We(u),nr(u,"style",v),s0(u,o.precedence,i),s.instance=u;case"stylesheet":v=ic(o.href);var x=i.querySelector(Lu(v));if(x)return s.state.loading|=4,s.instance=x,We(x),x;u=s2(o),(v=Si.get(v))&&ng(u,v),x=(i.ownerDocument||i).createElement("link"),We(x);var S=x;return S._p=new Promise(function(P,Q){S.onload=P,S.onerror=Q}),nr(x,"link",u),s.state.loading|=4,s0(x,o.precedence,i),s.instance=x;case"script":return x=ac(o.src),(v=i.querySelector(ju(x)))?(s.instance=v,We(v),v):(u=o,(v=Si.get(x))&&(u=y({},o),rg(u,v)),i=i.ownerDocument||i,v=i.createElement("script"),We(v),nr(v,"link",u),i.head.appendChild(v),s.instance=v);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,s0(u,o.precedence,i));return s.instance}function s0(i,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=u.length?u[u.length-1]:null,x=v,S=0;S<u.length;S++){var P=u[S];if(P.dataset.precedence===s)x=P;else if(x!==v)break}x?x.parentNode.insertBefore(i,x.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function ng(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function rg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var l0=null;function o2(i,s,o){if(l0===null){var u=new Map,v=l0=new Map;v.set(o,u)}else v=l0,u=v.get(o),u||(u=new Map,v.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),v=0;v<o.length;v++){var x=o[v];if(!(x[fe]||x[H]||i==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var S=x.getAttribute(s)||"";S=i+S;var P=u.get(S);P?P.push(x):u.set(S,[x])}}return u}function c2(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function AN(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function u2(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function CN(i,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=ic(u.href),x=s.querySelector(Lu(v));if(x){s=x._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=o0.bind(i),s.then(i,i)),o.state.loading|=4,o.instance=x,We(x);return}x=s.ownerDocument||s,u=s2(u),(v=Si.get(v))&&ng(u,v),x=x.createElement("link"),We(x);var S=x;S._p=new Promise(function(P,Q){S.onload=P,S.onerror=Q}),nr(x,"link",u),o.instance=x}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=o0.bind(i),s.addEventListener("load",o),s.addEventListener("error",o))}}var ig=0;function NN(i,s){return i.stylesheets&&i.count===0&&u0(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&u0(i,i.stylesheets),i.unsuspend){var x=i.unsuspend;i.unsuspend=null,x()}},6e4+s);0<i.imgBytes&&ig===0&&(ig=62500*oN());var v=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&u0(i,i.stylesheets),i.unsuspend)){var x=i.unsuspend;i.unsuspend=null,x()}},(i.imgBytes>ig?50:800)+s);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(v)}}:null}function o0(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)u0(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var c0=null;function u0(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,c0=new Map,s.forEach(RN,i),c0=null,o0.call(i))}function RN(i,s){if(!(s.state.loading&4)){var o=c0.get(i);if(o)var u=o.get(null);else{o=new Map,c0.set(i,o);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<v.length;x++){var S=v[x];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}v=s.instance,S=v.getAttribute("data-precedence"),x=o.get(S)||u,x===u&&o.set(null,v),o.set(S,v),this.count++,u=o0.bind(this),v.addEventListener("load",u),v.addEventListener("error",u),x?x.parentNode.insertBefore(v,x.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),s.state.loading|=4}}var Fu={$$typeof:M,Provider:null,Consumer:null,_currentValue:qe,_currentValue2:qe,_threadCount:0};function IN(i,s,o,u,v,x,S,P,Q){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qn(0),this.hiddenUpdates=Qn(null),this.identifierPrefix=u,this.onUncaughtError=v,this.onCaughtError=x,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function f2(i,s,o,u,v,x,S,P,Q,ue,_e,Te){return i=new IN(i,s,o,S,Q,ue,_e,Te,P),s=1,x===!0&&(s|=24),x=Zr(3,null,null,s),i.current=x,x.stateNode=i,s=jm(),s.refCount++,i.pooledCache=s,s.refCount++,x.memoizedState={element:u,isDehydrated:o,cache:s},Um(x),i}function h2(i){return i?(i=Lo,i):Lo}function d2(i,s,o,u,v,x){v=h2(v),u.context===null?u.context=v:u.pendingContext=v,u=Rs(s),u.payload={element:o},x=x===void 0?null:x,x!==null&&(u.callback=x),o=Is(i,u,s),o!==null&&(zr(o,i,s),gu(o,i,s))}function m2(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ag(i,s){m2(i,s),(i=i.alternate)&&m2(i,s)}function p2(i){if(i.tag===13||i.tag===31){var s=Bl(i,67108864);s!==null&&zr(s,i,67108864),ag(i,67108864)}}function g2(i){if(i.tag===13||i.tag===31){var s=ii();s=ia(s);var o=Bl(i,s);o!==null&&zr(o,i,s),ag(i,s)}}var f0=!0;function ON(i,s,o,u){var v=de.T;de.T=null;var x=be.p;try{be.p=2,sg(i,s,o,u)}finally{be.p=x,de.T=v}}function DN(i,s,o,u){var v=de.T;de.T=null;var x=be.p;try{be.p=8,sg(i,s,o,u)}finally{be.p=x,de.T=v}}function sg(i,s,o,u){if(f0){var v=lg(u);if(v===null)Yp(i,s,u,h0,o),x2(i,u);else if(MN(v,i,s,o,u))u.stopPropagation();else if(x2(i,u),s&4&&-1<kN.indexOf(i)){for(;v!==null;){var x=Ve(v);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var S=Kn(x.pendingLanes);if(S!==0){var P=x;for(P.pendingLanes|=2,P.entangledLanes|=2;S;){var Q=1<<31-Ie(S);P.entanglements[1]|=Q,S&=~Q}pa(x),(kt&6)===0&&(Wh=Yt()+500,Du(0))}}break;case 31:case 13:P=Bl(x,2),P!==null&&zr(P,x,2),Kh(),ag(x,2)}if(x=lg(u),x===null&&Yp(i,s,u,h0,o),x===v)break;v=x}v!==null&&u.stopPropagation()}else Yp(i,s,u,null,o)}}function lg(i){return i=pi(i),og(i)}var h0=null;function og(i){if(h0=null,i=De(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=c(s),i!==null)return i;i=null}else if(o===31){if(i=f(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return h0=i,null}function v2(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Dr()){case Di:return 2;case ki:return 8;case $n:case ds:return 32;case mi:return 268435456;default:return 32}default:return 32}}var cg=!1,Us=null,zs=null,Hs=null,Bu=new Map,Vu=new Map,qs=[],kN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x2(i,s){switch(i){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":Bu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(s.pointerId)}}function Uu(i,s,o,u,v,x){return i===null||i.nativeEvent!==x?(i={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[v]},s!==null&&(s=Ve(s),s!==null&&p2(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,v!==null&&s.indexOf(v)===-1&&s.push(v),i)}function MN(i,s,o,u,v){switch(s){case"focusin":return Us=Uu(Us,i,s,o,u,v),!0;case"dragenter":return zs=Uu(zs,i,s,o,u,v),!0;case"mouseover":return Hs=Uu(Hs,i,s,o,u,v),!0;case"pointerover":var x=v.pointerId;return Bu.set(x,Uu(Bu.get(x)||null,i,s,o,u,v)),!0;case"gotpointercapture":return x=v.pointerId,Vu.set(x,Uu(Vu.get(x)||null,i,s,o,u,v)),!0}return!1}function y2(i){var s=De(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){i.blockedOn=s,q(i.priority,function(){g2(o)});return}}else if(s===31){if(s=f(o),s!==null){i.blockedOn=s,q(i.priority,function(){g2(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function d0(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=lg(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);eu=u,o.target.dispatchEvent(u),eu=null}else return s=Ve(o),s!==null&&p2(s),i.blockedOn=o,!1;s.shift()}return!0}function _2(i,s,o){d0(i)&&o.delete(s)}function PN(){cg=!1,Us!==null&&d0(Us)&&(Us=null),zs!==null&&d0(zs)&&(zs=null),Hs!==null&&d0(Hs)&&(Hs=null),Bu.forEach(_2),Vu.forEach(_2)}function m0(i,s){i.blockedOn===s&&(i.blockedOn=null,cg||(cg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,PN)))}var p0=null;function E2(i){p0!==i&&(p0=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){p0===i&&(p0=null);for(var s=0;s<i.length;s+=3){var o=i[s],u=i[s+1],v=i[s+2];if(typeof u!="function"){if(og(u||o)===null)continue;break}var x=Ve(o);x!==null&&(i.splice(s,3),s-=3,lp(x,{pending:!0,data:v,method:o.method,action:u},u,v))}}))}function sc(i){function s(Q){return m0(Q,i)}Us!==null&&m0(Us,i),zs!==null&&m0(zs,i),Hs!==null&&m0(Hs,i),Bu.forEach(s),Vu.forEach(s);for(var o=0;o<qs.length;o++){var u=qs[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<qs.length&&(o=qs[0],o.blockedOn===null);)y2(o),o.blockedOn===null&&qs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var v=o[u],x=o[u+1],S=v[Y]||null;if(typeof x=="function")S||E2(o);else if(S){var P=null;if(x&&x.hasAttribute("formAction")){if(v=x,S=x[Y]||null)P=S.formAction;else if(og(v)!==null)continue}else P=S.action;typeof P=="function"?o[u+1]=P:(o.splice(u,3),u-=3),E2(o)}}}function T2(){function i(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(S){return v=S})},focusReset:"manual",scroll:"manual"})}function s(){v!==null&&(v(),v=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,v=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),v!==null&&(v(),v=null)}}}function ug(i){this._internalRoot=i}g0.prototype.render=ug.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=ii();d2(o,u,i,s,null,null)},g0.prototype.unmount=ug.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;d2(i.current,2,null,i,null,null),Kh(),s[X]=null}};function g0(i){this._internalRoot=i}g0.prototype.unstable_scheduleHydration=function(i){if(i){var s=k();i={blockedOn:null,target:i,priority:s};for(var o=0;o<qs.length&&s!==0&&s<qs[o].priority;o++);qs.splice(o,0,i),o===0&&y2(i)}};var w2=e.version;if(w2!=="19.2.1")throw Error(r(527,w2,"19.2.1"));be.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var LN={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:de,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var v0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!v0.isDisabled&&v0.supportsFiber)try{se=v0.inject(LN),Me=v0}catch{}}return Hu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,u="",v=Iy,x=Oy,S=Dy;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(v=s.onUncaughtError),s.onCaughtError!==void 0&&(x=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=f2(i,1,!1,null,null,o,u,null,v,x,S,T2),i[X]=s.current,Gp(i),new ug(s)},Hu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var u=!1,v="",x=Iy,S=Oy,P=Dy,Q=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(v=o.identifierPrefix),o.onUncaughtError!==void 0&&(x=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(P=o.onRecoverableError),o.formState!==void 0&&(Q=o.formState)),s=f2(i,1,!0,s,o??null,u,v,Q,x,S,P,T2),s.context=h2(null),o=s.current,u=ii(),u=ia(u),v=Rs(u),v.callback=null,Is(o,v,u),o=u,s.current.lanes=o,dr(s,o),pa(s),i[X]=s.current,Gp(i),new g0(s)},Hu.version="19.2.1",Hu}var k2;function YN(){if(k2)return dg.exports;k2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),dg.exports=GN(),dg.exports}var XN=YN();const WN=mw(XN);var M2="popstate";function $N(n={}){function e(a,l){let{pathname:c="/",search:f="",hash:h=""}=po(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Yg("",{pathname:c,search:f,hash:h},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(a,l){let c=a.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=a.location.href,d=h.indexOf("#");f=d===-1?h:h.slice(0,d)}return f+"#"+(typeof l=="string"?l:mf(l))}function r(a,l){hi(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return QN(e,t,r,n)}function dn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KN(){return Math.random().toString(36).substring(2,10)}function P2(n,e){return{usr:n.state,key:n.key,idx:e}}function Yg(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?po(e):e,state:t,key:e&&e.key||r||KN()}}function mf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function po(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function QN(n,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,f="POP",h=null,d=p();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function p(){return(c.state||{idx:null}).idx}function y(){f="POP";let b=p(),j=b==null?null:b-d;d=b,h&&h({action:f,location:E.location,delta:j})}function _(b,j){f="PUSH";let R=Yg(E.location,b,j);t&&t(R,b),d=p()+1;let M=P2(R,d),G=E.createHref(R);try{c.pushState(M,"",G)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;a.location.assign(G)}l&&h&&h({action:f,location:E.location,delta:1})}function w(b,j){f="REPLACE";let R=Yg(E.location,b,j);t&&t(R,b),d=p();let M=P2(R,d),G=E.createHref(R);c.replaceState(M,"",G),l&&h&&h({action:f,location:E.location,delta:0})}function C(b){return JN(b)}let E={get action(){return f},get location(){return n(a,c)},listen(b){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(M2,y),h=b,()=>{a.removeEventListener(M2,y),h=null}},createHref(b){return e(a,b)},createURL:C,encodeLocation(b){let j=C(b);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:_,replace:w,go(b){return c.go(b)}};return E}function JN(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),dn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:mf(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function pw(n,e,t="/"){return ZN(n,e,t,!1)}function ZN(n,e,t,r){let a=typeof e=="string"?po(e):e,l=rs(a.pathname||"/",t);if(l==null)return null;let c=gw(n);e3(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let d=f3(l);f=c3(c[h],d,r)}return f}function gw(n,e=[],t=[],r="",a=!1){let l=(c,f,h=a,d)=>{let p={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(r)&&h)return;dn(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length)}let y=Za([r,p.relativePath]),_=t.concat(p);c.children&&c.children.length>0&&(dn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),gw(c.children,e,_,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:l3(y,c.index),routesMeta:_})};return n.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))l(c,f);else for(let h of vw(c.path))l(c,f,!0,h)}),e}function vw(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=vw(r.join("/")),f=[];return f.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&f.push(...c),f.map(h=>n.startsWith("/")&&h===""?"/":h)}function e3(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:o3(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var t3=/^:[\w-]+$/,n3=3,r3=2,i3=1,a3=10,s3=-2,L2=n=>n==="*";function l3(n,e){let t=n.split("/"),r=t.length;return t.some(L2)&&(r+=s3),e&&(r+=r3),t.filter(a=>!L2(a)).reduce((a,l)=>a+(t3.test(l)?n3:l===""?i3:a3),r)}function o3(n,e){return n.length===e.length&&n.slice(0,-1).every((r,a)=>r===e[a])?n[n.length-1]-e[e.length-1]:0}function c3(n,e,t=!1){let{routesMeta:r}=n,a={},l="/",c=[];for(let f=0;f<r.length;++f){let h=r[f],d=f===r.length-1,p=l==="/"?e:e.slice(l.length)||"/",y=$0({path:h.relativePath,caseSensitive:h.caseSensitive,end:d},p),_=h.route;if(!y&&d&&t&&!r[r.length-1].route.index&&(y=$0({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Za([l,y.pathname]),pathnameBase:g3(Za([l,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(l=Za([l,y.pathnameBase]))}return c}function $0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=u3(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((d,{paramName:p,isOptional:y},_)=>{if(p==="*"){let C=f[_]||"";c=l.slice(0,l.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[_];return y&&!w?d[p]=void 0:d[p]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:c,pattern:n}}function u3(n,e=!1,t=!0){hi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(r.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function f3(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return hi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function rs(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var h3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d3=n=>h3.test(n);function m3(n,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof n=="string"?po(n):n,l;if(t)if(d3(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),hi(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=j2(t.substring(1),"/"):l=j2(t,e)}else l=e;return{pathname:l,search:v3(r),hash:x3(a)}}function j2(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function vg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function p3(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function N1(n){let e=p3(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function R1(n,e,t,r=!1){let a;typeof n=="string"?a=po(n):(a={...n},dn(!a.pathname||!a.pathname.includes("?"),vg("?","pathname","search",a)),dn(!a.pathname||!a.pathname.includes("#"),vg("#","pathname","hash",a)),dn(!a.search||!a.search.includes("#"),vg("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,f;if(c==null)f=t;else{let y=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}f=y>=0?e[y]:"/"}let h=m3(a,f),d=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(d||p)&&(h.pathname+="/"),h}var Za=n=>n.join("/").replace(/\/\/+/g,"/"),g3=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),v3=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,x3=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y3(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function _3(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xw=["POST","PUT","PATCH","DELETE"];new Set(xw);var E3=["GET",...xw];new Set(E3);var jc=Z.createContext(null);jc.displayName="DataRouter";var Pd=Z.createContext(null);Pd.displayName="DataRouterState";Z.createContext(!1);var yw=Z.createContext({isTransitioning:!1});yw.displayName="ViewTransition";var T3=Z.createContext(new Map);T3.displayName="Fetchers";var w3=Z.createContext(null);w3.displayName="Await";var Ii=Z.createContext(null);Ii.displayName="Navigation";var If=Z.createContext(null);If.displayName="Location";var Ra=Z.createContext({outlet:null,matches:[],isDataRoute:!1});Ra.displayName="Route";var I1=Z.createContext(null);I1.displayName="RouteError";function b3(n,{relative:e}={}){dn(Fc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=Z.useContext(Ii),{hash:a,pathname:l,search:c}=Of(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:Za([t,l])),r.createHref({pathname:f,search:c,hash:a})}function Fc(){return Z.useContext(If)!=null}function Tl(){return dn(Fc(),"useLocation() may be used only in the context of a <Router> component."),Z.useContext(If).location}var _w="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ew(n){Z.useContext(Ii).static||Z.useLayoutEffect(n)}function Tw(){let{isDataRoute:n}=Z.useContext(Ra);return n?j3():S3()}function S3(){dn(Fc(),"useNavigate() may be used only in the context of a <Router> component.");let n=Z.useContext(jc),{basename:e,navigator:t}=Z.useContext(Ii),{matches:r}=Z.useContext(Ra),{pathname:a}=Tl(),l=JSON.stringify(N1(r)),c=Z.useRef(!1);return Ew(()=>{c.current=!0}),Z.useCallback((h,d={})=>{if(hi(c.current,_w),!c.current)return;if(typeof h=="number"){t.go(h);return}let p=R1(h,JSON.parse(l),a,d.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Za([e,p.pathname])),(d.replace?t.replace:t.push)(p,d.state,d)},[e,t,l,a,n])}Z.createContext(null);function Of(n,{relative:e}={}){let{matches:t}=Z.useContext(Ra),{pathname:r}=Tl(),a=JSON.stringify(N1(t));return Z.useMemo(()=>R1(n,JSON.parse(a),r,e==="path"),[n,a,r,e])}function A3(n,e){return ww(n,e)}function ww(n,e,t,r,a){dn(Fc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Z.useContext(Ii),{matches:c}=Z.useContext(Ra),f=c[c.length-1],h=f?f.params:{},d=f?f.pathname:"/",p=f?f.pathnameBase:"/",y=f&&f.route;{let R=y&&y.path||"";bw(d,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let _=Tl(),w;if(e){let R=typeof e=="string"?po(e):e;dn(p==="/"||R.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${R.pathname}" was given in the \`location\` prop.`),w=R}else w=_;let C=w.pathname||"/",E=C;if(p!=="/"){let R=p.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(R.length).join("/")}let b=pw(n,{pathname:E});hi(y||b!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),hi(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=O3(b&&b.map(R=>Object.assign({},R,{params:Object.assign({},h,R.params),pathname:Za([p,l.encodeLocation?l.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?p:Za([p,l.encodeLocation?l.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,t,r,a);return e&&j?Z.createElement(If.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function C3(){let n=L3(),e=y3(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=Z.createElement(Z.Fragment,null,Z.createElement("p",null," Hey developer "),Z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Z.createElement("code",{style:l},"ErrorBoundary")," or"," ",Z.createElement("code",{style:l},"errorElement")," prop on your route.")),Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),t?Z.createElement("pre",{style:a},t):null,c)}var N3=Z.createElement(C3,null),R3=class extends Z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?Z.createElement(Ra.Provider,{value:this.props.routeContext},Z.createElement(I1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function I3({routeContext:n,match:e,children:t}){let r=Z.useContext(jc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),Z.createElement(Ra.Provider,{value:n},t)}function O3(n,e=[],t=null,r=null,a=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let p=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);dn(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,h=-1;if(t)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=p),y.route.id){let{loaderData:_,errors:w}=t,C=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||C){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let d=t&&r?(p,y)=>{r(p,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:_3(t.matches),errorInfo:y})}:void 0;return l.reduceRight((p,y,_)=>{let w,C=!1,E=null,b=null;t&&(w=c&&y.route.id?c[y.route.id]:void 0,E=y.route.errorElement||N3,f&&(h<0&&_===0?(bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,b=null):h===_&&(C=!0,b=y.route.hydrateFallbackElement||null)));let j=e.concat(l.slice(0,_+1)),R=()=>{let M;return w?M=E:C?M=b:y.route.Component?M=Z.createElement(y.route.Component,null):y.route.element?M=y.route.element:M=p,Z.createElement(I3,{match:y,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:M})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?Z.createElement(R3,{location:t.location,revalidation:t.revalidation,component:E,error:w,children:R(),routeContext:{outlet:null,matches:j,isDataRoute:!0},onError:d}):R()},null)}function O1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D3(n){let e=Z.useContext(jc);return dn(e,O1(n)),e}function k3(n){let e=Z.useContext(Pd);return dn(e,O1(n)),e}function M3(n){let e=Z.useContext(Ra);return dn(e,O1(n)),e}function D1(n){let e=M3(n),t=e.matches[e.matches.length-1];return dn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function P3(){return D1("useRouteId")}function L3(){let n=Z.useContext(I1),e=k3("useRouteError"),t=D1("useRouteError");return n!==void 0?n:e.errors?.[t]}function j3(){let{router:n}=D3("useNavigate"),e=D1("useNavigate"),t=Z.useRef(!1);return Ew(()=>{t.current=!0}),Z.useCallback(async(a,l={})=>{hi(t.current,_w),t.current&&(typeof a=="number"?await n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var F2={};function bw(n,e,t){!e&&!F2[n]&&(F2[n]=!0,hi(!1,t))}Z.memo(F3);function F3({routes:n,future:e,state:t,unstable_onError:r}){return ww(n,void 0,t,r,e)}function xg({to:n,replace:e,state:t,relative:r}){dn(Fc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=Z.useContext(Ii);hi(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=Z.useContext(Ra),{pathname:c}=Tl(),f=Tw(),h=R1(n,N1(l),c,r==="path"),d=JSON.stringify(h);return Z.useEffect(()=>{f(JSON.parse(d),{replace:e,state:t,relative:r})},[f,d,r,e,t]),null}function P0(n){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function B3({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){dn(!Fc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=n.replace(/^\/*/,"/"),h=Z.useMemo(()=>({basename:f,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[f,a,l,c]);typeof t=="string"&&(t=po(t));let{pathname:d="/",search:p="",hash:y="",state:_=null,key:w="default"}=t,C=Z.useMemo(()=>{let E=rs(d,f);return E==null?null:{location:{pathname:E,search:p,hash:y,state:_,key:w},navigationType:r}},[f,d,p,y,_,w,r]);return hi(C!=null,`<Router basename="${f}"> is not able to match the URL "${d}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:Z.createElement(Ii.Provider,{value:h},Z.createElement(If.Provider,{children:e,value:C}))}function V3({children:n,location:e}){return A3(Xg(n),e)}function Xg(n,e=[]){let t=[];return Z.Children.forEach(n,(r,a)=>{if(!Z.isValidElement(r))return;let l=[...e,a];if(r.type===Z.Fragment){t.push.apply(t,Xg(r.props.children,l));return}dn(r.type===P0,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Xg(r.props.children,l)),t.push(c)}),t}var L0="get",j0="application/x-www-form-urlencoded";function Ld(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function U3(n){return Ld(n)&&n.tagName.toLowerCase()==="button"}function z3(n){return Ld(n)&&n.tagName.toLowerCase()==="form"}function H3(n){return Ld(n)&&n.tagName.toLowerCase()==="input"}function q3(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function G3(n,e){return n.button===0&&(!e||e==="_self")&&!q3(n)}var x0=null;function Y3(){if(x0===null)try{new FormData(document.createElement("form"),0),x0=!1}catch{x0=!0}return x0}var X3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function yg(n){return n!=null&&!X3.has(n)?(hi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${j0}"`),null):n}function W3(n,e){let t,r,a,l,c;if(z3(n)){let f=n.getAttribute("action");r=f?rs(f,e):null,t=n.getAttribute("method")||L0,a=yg(n.getAttribute("enctype"))||j0,l=new FormData(n)}else if(U3(n)||H3(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||f.getAttribute("action");if(r=h?rs(h,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||L0,a=yg(n.getAttribute("formenctype"))||yg(f.getAttribute("enctype"))||j0,l=new FormData(f,n),!Y3()){let{name:d,type:p,value:y}=n;if(p==="image"){let _=d?`${d}.`:"";l.append(`${_}x`,"0"),l.append(`${_}y`,"0")}else d&&l.append(d,y)}}else{if(Ld(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=L0,r=null,a=j0,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function k1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $3(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&rs(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function K3(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Q3(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function J3(n,e,t){let r=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await K3(l,t);return c.links?c.links():[]}return[]}));return nR(r.flat(1).filter(Q3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function B2(n,e,t,r,a,l){let c=(h,d)=>t[d]?h.route.id!==t[d].route.id:!0,f=(h,d)=>t[d].pathname!==h.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,d)=>c(h,d)||f(h,d)):l==="data"?e.filter((h,d)=>{let p=r.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,d)||f(h,d))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Z3(n,e,{includeHydrateFallback:t}={}){return eR(n.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eR(n){return[...new Set(n)]}function tR(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function nR(n,e){let t=new Set;return new Set(e),n.reduce((r,a)=>{let l=JSON.stringify(tR(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}function Sw(){let n=Z.useContext(jc);return k1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function rR(){let n=Z.useContext(Pd);return k1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var M1=Z.createContext(void 0);M1.displayName="FrameworkContext";function Aw(){let n=Z.useContext(M1);return k1(n,"You must render this element inside a <HydratedRouter> element"),n}function iR(n,e){let t=Z.useContext(M1),[r,a]=Z.useState(!1),[l,c]=Z.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:d,onMouseLeave:p,onTouchStart:y}=e,_=Z.useRef(null);Z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let E=j=>{j.forEach(R=>{c(R.isIntersecting)})},b=new IntersectionObserver(E,{threshold:.5});return _.current&&b.observe(_.current),()=>{b.disconnect()}}},[n]),Z.useEffect(()=>{if(r){let E=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{a(!0)},C=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,_,{}]:[l,_,{onFocus:qu(f,w),onBlur:qu(h,C),onMouseEnter:qu(d,w),onMouseLeave:qu(p,C),onTouchStart:qu(y,w)}]:[!1,_,{}]}function qu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function aR({page:n,...e}){let{router:t}=Sw(),r=Z.useMemo(()=>pw(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?Z.createElement(lR,{page:n,matches:r,...e}):null}function sR(n){let{manifest:e,routeModules:t}=Aw(),[r,a]=Z.useState([]);return Z.useEffect(()=>{let l=!1;return J3(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),r}function lR({page:n,matches:e,...t}){let r=Tl(),{manifest:a,routeModules:l}=Aw(),{basename:c}=Sw(),{loaderData:f,matches:h}=rR(),d=Z.useMemo(()=>B2(n,e,h,a,r,"data"),[n,e,h,a,r]),p=Z.useMemo(()=>B2(n,e,h,a,r,"assets"),[n,e,h,a,r]),y=Z.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,E=!1;if(e.forEach(j=>{let R=a.routes[j.route.id];!R||!R.hasLoader||(!d.some(M=>M.route.id===j.route.id)&&j.route.id in f&&l[j.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:C.add(j.route.id))}),C.size===0)return[];let b=$3(n,c,"data");return E&&C.size>0&&b.searchParams.set("_routes",e.filter(j=>C.has(j.route.id)).map(j=>j.route.id).join(",")),[b.pathname+b.search]},[c,f,r,a,d,e,n,l]),_=Z.useMemo(()=>Z3(p,a),[p,a]),w=sR(p);return Z.createElement(Z.Fragment,null,y.map(C=>Z.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>Z.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),w.map(({key:C,link:E})=>Z.createElement("link",{key:C,nonce:t.nonce,...E})))}function oR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Cw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Cw&&(window.__reactRouterVersion="7.10.1")}catch{}function cR({basename:n,children:e,unstable_useTransitions:t,window:r}){let a=Z.useRef();a.current==null&&(a.current=$N({window:r,v5Compat:!0}));let l=a.current,[c,f]=Z.useState({action:l.action,location:l.location}),h=Z.useCallback(d=>{t===!1?f(d):Z.startTransition(()=>f(d))},[t]);return Z.useLayoutEffect(()=>l.listen(h),[l,h]),Z.createElement(B3,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var Nw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jd=Z.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:f,target:h,to:d,preventScrollReset:p,viewTransition:y,..._},w){let{basename:C,unstable_useTransitions:E}=Z.useContext(Ii),b=typeof d=="string"&&Nw.test(d),j,R=!1;if(typeof d=="string"&&b&&(j=d,Cw))try{let D=new URL(window.location.href),L=d.startsWith("//")?new URL(D.protocol+d):new URL(d),B=rs(L.pathname,C);L.origin===D.origin&&B!=null?d=B+L.search+L.hash:R=!0}catch{hi(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=b3(d,{relative:a}),[G,te,re]=iR(r,_),N=dR(d,{replace:c,state:f,target:h,preventScrollReset:p,relative:a,viewTransition:y,unstable_useTransitions:E});function O(D){e&&e(D),D.defaultPrevented||N(D)}let I=Z.createElement("a",{..._,...re,href:j||M,onClick:R||l?e:O,ref:oR(w,te),target:h,"data-discover":!b&&t==="render"?"true":void 0});return G&&!b?Z.createElement(Z.Fragment,null,I,Z.createElement(aR,{page:M})):I});jd.displayName="Link";var uR=Z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:f,children:h,...d},p){let y=Of(c,{relative:d.relative}),_=Tl(),w=Z.useContext(Pd),{navigator:C,basename:E}=Z.useContext(Ii),b=w!=null&&xR(y)&&f===!0,j=C.encodeLocation?C.encodeLocation(y).pathname:y.pathname,R=_.pathname,M=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;t||(R=R.toLowerCase(),M=M?M.toLowerCase():null,j=j.toLowerCase()),M&&E&&(M=rs(M,E)||M);const G=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let te=R===j||!a&&R.startsWith(j)&&R.charAt(G)==="/",re=M!=null&&(M===j||!a&&M.startsWith(j)&&M.charAt(j.length)==="/"),N={isActive:te,isPending:re,isTransitioning:b},O=te?e:void 0,I;typeof r=="function"?I=r(N):I=[r,te?"active":null,re?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(N):l;return Z.createElement(jd,{...d,"aria-current":O,className:I,ref:p,style:D,to:c,viewTransition:f},typeof h=="function"?h(N):h)});uR.displayName="NavLink";var fR=Z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=L0,action:f,onSubmit:h,relative:d,preventScrollReset:p,viewTransition:y,..._},w)=>{let{unstable_useTransitions:C}=Z.useContext(Ii),E=gR(),b=vR(f,{relative:d}),j=c.toLowerCase()==="get"?"get":"post",R=typeof f=="string"&&Nw.test(f),M=G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let te=G.nativeEvent.submitter,re=te?.getAttribute("formmethod")||c,N=()=>E(te||G.currentTarget,{fetcherKey:e,method:re,navigate:t,replace:a,state:l,relative:d,preventScrollReset:p,viewTransition:y});C&&t!==!1?Z.startTransition(()=>N()):N()};return Z.createElement("form",{ref:w,method:j,action:b,onSubmit:r?h:M,..._,"data-discover":!R&&n==="render"?"true":void 0})});fR.displayName="Form";function hR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Rw(n){let e=Z.useContext(jc);return dn(e,hR(n)),e}function dR(n,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c,unstable_useTransitions:f}={}){let h=Tw(),d=Tl(),p=Of(n,{relative:l});return Z.useCallback(y=>{if(G3(y,e)){y.preventDefault();let _=t!==void 0?t:mf(d)===mf(p),w=()=>h(n,{replace:_,state:r,preventScrollReset:a,relative:l,viewTransition:c});f?Z.startTransition(()=>w()):w()}},[d,h,p,t,r,e,n,a,l,c,f])}var mR=0,pR=()=>`__${String(++mR)}__`;function gR(){let{router:n}=Rw("useSubmit"),{basename:e}=Z.useContext(Ii),t=P3(),r=n.fetch,a=n.navigate;return Z.useCallback(async(l,c={})=>{let{action:f,method:h,encType:d,formData:p,body:y}=W3(l,e);if(c.navigate===!1){let _=c.fetcherKey||pR();await r(_,t,c.action||f,{preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||h,formEncType:c.encType||d,flushSync:c.flushSync})}else await a(c.action||f,{preventScrollReset:c.preventScrollReset,formData:p,body:y,formMethod:c.method||h,formEncType:c.encType||d,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[r,a,e,t])}function vR(n,{relative:e}={}){let{basename:t}=Z.useContext(Ii),r=Z.useContext(Ra);dn(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Of(n||".",{relative:e})},c=Tl();if(n==null){l.search=c.search;let f=new URLSearchParams(l.search),h=f.getAll("index");if(h.some(p=>p==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let p=f.toString();l.search=p?`?${p}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Za([t,l.pathname])),mf(l)}function xR(n,{relative:e}={}){let t=Z.useContext(yw);dn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Rw("useViewTransitionState"),a=Of(n,{relative:e});if(!t.isTransitioning)return!1;let l=rs(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=rs(t.nextLocation.pathname,r)||t.nextLocation.pathname;return $0(a.pathname,c)!=null||$0(a.pathname,l)!=null}const yR=()=>{};var V2={};const Iw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let a=n.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},_R=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const a=n[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],f=n[t++],h=((a&7)<<18|(l&63)<<12|(c&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const l=n[t++],c=n[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},Ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,f=c?n[a+1]:0,h=a+2<n.length,d=h?n[a+2]:0,p=l>>2,y=(l&3)<<4|f>>4;let _=(f&15)<<2|d>>6,w=d&63;h||(w=64,c||(_=64)),r.push(t[p],t[y],t[_],t[w])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Iw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_R(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],f=a<n.length?t[n.charAt(a)]:0;++a;const d=a<n.length?t[n.charAt(a)]:64;++a;const y=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||f==null||d==null||y==null)throw new ER;const _=l<<2|f>>4;if(r.push(_),d!==64){const w=f<<4&240|d>>2;if(r.push(w),y!==64){const C=d<<6&192|y;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ER extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TR=function(n){const e=Iw(n);return Ow.encodeByteArray(e,!0)},K0=function(n){return TR(n).replace(/\./g,"")},Dw=function(n){try{return Ow.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const bR=()=>wR().__FIREBASE_DEFAULTS__,SR=()=>{if(typeof process>"u"||typeof V2>"u")return;const n=V2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},AR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Dw(n[1]);return e&&JSON.parse(e)},Fd=()=>{try{return yR()||bR()||SR()||AR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},kw=n=>Fd()?.emulatorHosts?.[n],CR=n=>{const e=kw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Mw=()=>Fd()?.config,Pw=n=>Fd()?.[`_${n}`];class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function Bc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lw(n){return(await fetch(n,{credentials:"include"})).ok}function RR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[K0(JSON.stringify(t)),K0(JSON.stringify(c)),""].join(".")}const tf={};function IR(){const n={prod:[],emulator:[]};for(const e of Object.keys(tf))tf[e]?n.emulator.push(e):n.prod.push(e);return n}function OR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let U2=!1;function jw(n,e){if(typeof window>"u"||typeof document>"u"||!Bc(window.location.host)||tf[n]===e||tf[n]||U2)return;tf[n]=e;function t(_){return`__firebase__banner__${_}`}const r="__firebase__banner",l=IR().prod.length>0;function c(){const _=document.getElementById(r);_&&_.remove()}function f(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function h(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{U2=!0,c()},_}function p(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=OR(r),w=t("text"),C=document.getElementById(w)||document.createElement("span"),E=t("learnmore"),b=document.getElementById(E)||document.createElement("a"),j=t("preprendIcon"),R=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const M=_.element;f(M),p(b,E);const G=d();h(R,j),M.append(R,C,b,G),document.body.appendChild(M)}l?(C.innerText="Preview backend disconnected.",R.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(R.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function kR(){const n=Fd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function MR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function PR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jR(){const n=Tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function FR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BR(){try{return typeof indexedDB=="object"}catch{return!1}}function VR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}const UR="FirebaseError";class fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=UR,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Df.prototype.create)}}class Df{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?zR(l,r):"Error",f=`${this.serviceName}: ${c} (${a}).`;return new fs(a,f,r)}}function zR(n,e){return n.replace(HR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const HR=/\{\$([^}]+)}/g;function qR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function so(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=n[a],c=e[a];if(z2(l)&&z2(c)){if(!so(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function z2(n){return n!==null&&typeof n=="object"}function kf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function GR(n,e){const t=new YR(n,e);return t.subscribe.bind(t)}class YR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");XR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function _g(){}function Yn(n){return n&&n._delegate?n._delegate:n}class lo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jl="[DEFAULT]";class WR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new NR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KR(e))try{this.getOrInitializeService({instanceIdentifier:Jl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jl){return this.instances.has(e)}getOptions(e=Jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$R(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jl){return this.component?this.component.multipleInstances?e:Jl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $R(n){return n===Jl?void 0:n}function KR(n){return n.instantiationMode==="EAGER"}class QR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Tt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Tt||(Tt={}));const JR={debug:Tt.DEBUG,verbose:Tt.VERBOSE,info:Tt.INFO,warn:Tt.WARN,error:Tt.ERROR,silent:Tt.SILENT},ZR=Tt.INFO,e6={[Tt.DEBUG]:"log",[Tt.VERBOSE]:"log",[Tt.INFO]:"info",[Tt.WARN]:"warn",[Tt.ERROR]:"error"},t6=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),a=e6[e];if(a)console[a](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class P1{constructor(e){this.name=e,this._logLevel=ZR,this._logHandler=t6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tt.DEBUG,...e),this._logHandler(this,Tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tt.VERBOSE,...e),this._logHandler(this,Tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tt.INFO,...e),this._logHandler(this,Tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tt.WARN,...e),this._logHandler(this,Tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tt.ERROR,...e),this._logHandler(this,Tt.ERROR,...e)}}const n6=(n,e)=>e.some(t=>n instanceof t);let H2,q2;function r6(){return H2||(H2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i6(){return q2||(q2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Fw=new WeakMap,Wg=new WeakMap,Bw=new WeakMap,Eg=new WeakMap,L1=new WeakMap;function a6(n){const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(nl(n.result)),a()},c=()=>{r(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Fw.set(t,n)}).catch(()=>{}),L1.set(e,n),e}function s6(n){if(Wg.has(n))return;const e=new Promise((t,r)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Wg.set(n,e)}let $g={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Wg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Bw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return nl(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function l6(n){$g=n($g)}function o6(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Tg(this),e,...t);return Bw.set(r,e.sort?e.sort():[e]),nl(r)}:i6().includes(n)?function(...e){return n.apply(Tg(this),e),nl(Fw.get(this))}:function(...e){return nl(n.apply(Tg(this),e))}}function c6(n){return typeof n=="function"?o6(n):(n instanceof IDBTransaction&&s6(n),n6(n,r6())?new Proxy(n,$g):n)}function nl(n){if(n instanceof IDBRequest)return a6(n);if(Eg.has(n))return Eg.get(n);const e=c6(n);return e!==n&&(Eg.set(n,e),L1.set(e,n)),e}const Tg=n=>L1.get(n);function u6(n,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),f=nl(c);return r&&c.addEventListener("upgradeneeded",h=>{r(nl(c.result),h.oldVersion,h.newVersion,nl(c.transaction),h)}),t&&c.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),f.then(h=>{l&&h.addEventListener("close",()=>l()),a&&h.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),f}const f6=["get","getKey","getAll","getAllKeys","count"],h6=["put","add","delete","clear"],wg=new Map;function G2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wg.get(e))return wg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=h6.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||f6.includes(t)))return;const l=async function(c,...f){const h=this.transaction(c,a?"readwrite":"readonly");let d=h.store;return r&&(d=d.index(f.shift())),(await Promise.all([d[t](...f),a&&h.done]))[0]};return wg.set(e,l),l}l6(n=>({...n,get:(e,t,r)=>G2(e,t)||n.get(e,t,r),has:(e,t)=>!!G2(e,t)||n.has(e,t)}));class d6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(m6(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function m6(n){return n.getComponent()?.type==="VERSION"}const Kg="@firebase/app",Y2="0.14.6";const is=new P1("@firebase/app"),p6="@firebase/app-compat",g6="@firebase/analytics-compat",v6="@firebase/analytics",x6="@firebase/app-check-compat",y6="@firebase/app-check",_6="@firebase/auth",E6="@firebase/auth-compat",T6="@firebase/database",w6="@firebase/data-connect",b6="@firebase/database-compat",S6="@firebase/functions",A6="@firebase/functions-compat",C6="@firebase/installations",N6="@firebase/installations-compat",R6="@firebase/messaging",I6="@firebase/messaging-compat",O6="@firebase/performance",D6="@firebase/performance-compat",k6="@firebase/remote-config",M6="@firebase/remote-config-compat",P6="@firebase/storage",L6="@firebase/storage-compat",j6="@firebase/firestore",F6="@firebase/ai",B6="@firebase/firestore-compat",V6="firebase",U6="12.6.0";const Qg="[DEFAULT]",z6={[Kg]:"fire-core",[p6]:"fire-core-compat",[v6]:"fire-analytics",[g6]:"fire-analytics-compat",[y6]:"fire-app-check",[x6]:"fire-app-check-compat",[_6]:"fire-auth",[E6]:"fire-auth-compat",[T6]:"fire-rtdb",[w6]:"fire-data-connect",[b6]:"fire-rtdb-compat",[S6]:"fire-fn",[A6]:"fire-fn-compat",[C6]:"fire-iid",[N6]:"fire-iid-compat",[R6]:"fire-fcm",[I6]:"fire-fcm-compat",[O6]:"fire-perf",[D6]:"fire-perf-compat",[k6]:"fire-rc",[M6]:"fire-rc-compat",[P6]:"fire-gcs",[L6]:"fire-gcs-compat",[j6]:"fire-fst",[B6]:"fire-fst-compat",[F6]:"fire-vertex","fire-js":"fire-js",[V6]:"fire-js-all"};const Q0=new Map,H6=new Map,Jg=new Map;function X2(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Nc(n){const e=n.name;if(Jg.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(const t of Q0.values())X2(t,n);for(const t of H6.values())X2(t,n);return!0}function j1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Ki(n){return n==null?!1:n.settings!==void 0}const q6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rl=new Df("app","Firebase",q6);class G6{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rl.create("app-deleted",{appName:this._name})}}const Vc=U6;function Vw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Qg,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw rl.create("bad-app-name",{appName:String(a)});if(t||(t=Mw()),!t)throw rl.create("no-options");const l=Q0.get(a);if(l){if(so(t,l.options)&&so(r,l.config))return l;throw rl.create("duplicate-app",{appName:a})}const c=new QR(a);for(const h of Jg.values())c.addComponent(h);const f=new G6(t,r,c);return Q0.set(a,f),f}function Uw(n=Qg){const e=Q0.get(n);if(!e&&n===Qg&&Mw())return Vw();if(!e)throw rl.create("no-app",{appName:n});return e}function il(n,e,t){let r=z6[n]??n;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(c.join(" "));return}Nc(new lo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Y6="firebase-heartbeat-database",X6=1,pf="firebase-heartbeat-store";let bg=null;function zw(){return bg||(bg=u6(Y6,X6,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(pf)}catch(t){console.warn(t)}}}}).catch(n=>{throw rl.create("idb-open",{originalErrorMessage:n.message})})),bg}async function W6(n){try{const t=(await zw()).transaction(pf),r=await t.objectStore(pf).get(Hw(n));return await t.done,r}catch(e){if(e instanceof fs)is.warn(e.message);else{const t=rl.create("idb-get",{originalErrorMessage:e?.message});is.warn(t.message)}}}async function W2(n,e){try{const r=(await zw()).transaction(pf,"readwrite");await r.objectStore(pf).put(e,Hw(n)),await r.done}catch(t){if(t instanceof fs)is.warn(t.message);else{const r=rl.create("idb-set",{originalErrorMessage:t?.message});is.warn(r.message)}}}function Hw(n){return`${n.name}!${n.options.appId}`}const $6=1024,K6=30;class Q6{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Z6(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>K6){const a=e5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){is.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=$2(),{heartbeatsToSend:t,unsentEntries:r}=J6(this._heartbeatsCache.heartbeats),a=K0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return is.warn(e),""}}}function $2(){return new Date().toISOString().substring(0,10)}function J6(n,e=$6){const t=[];let r=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),K2(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),K2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class Z6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BR()?VR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await W6(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return W2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function K2(n){return K0(JSON.stringify({version:2,heartbeats:n})).length}function e5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function t5(n){Nc(new lo("platform-logger",e=>new d6(e),"PRIVATE")),Nc(new lo("heartbeat",e=>new Q6(e),"PRIVATE")),il(Kg,Y2,n),il(Kg,Y2,"esm2020"),il("fire-js","")}t5("");var Q2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var al,qw;(function(){var n;function e(N,O){function I(){}I.prototype=O.prototype,N.F=O.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(D,L,B){for(var V=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)V[$e-2]=arguments[$e];return O.prototype[L].apply(D,V)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(N,O,I){I||(I=0);const D=Array(16);if(typeof O=="string")for(var L=0;L<16;++L)D[L]=O.charCodeAt(I++)|O.charCodeAt(I++)<<8|O.charCodeAt(I++)<<16|O.charCodeAt(I++)<<24;else for(L=0;L<16;++L)D[L]=O[I++]|O[I++]<<8|O[I++]<<16|O[I++]<<24;O=N.g[0],I=N.g[1],L=N.g[2];let B=N.g[3],V;V=O+(B^I&(L^B))+D[0]+3614090360&4294967295,O=I+(V<<7&4294967295|V>>>25),V=B+(L^O&(I^L))+D[1]+3905402710&4294967295,B=O+(V<<12&4294967295|V>>>20),V=L+(I^B&(O^I))+D[2]+606105819&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(O^L&(B^O))+D[3]+3250441966&4294967295,I=L+(V<<22&4294967295|V>>>10),V=O+(B^I&(L^B))+D[4]+4118548399&4294967295,O=I+(V<<7&4294967295|V>>>25),V=B+(L^O&(I^L))+D[5]+1200080426&4294967295,B=O+(V<<12&4294967295|V>>>20),V=L+(I^B&(O^I))+D[6]+2821735955&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(O^L&(B^O))+D[7]+4249261313&4294967295,I=L+(V<<22&4294967295|V>>>10),V=O+(B^I&(L^B))+D[8]+1770035416&4294967295,O=I+(V<<7&4294967295|V>>>25),V=B+(L^O&(I^L))+D[9]+2336552879&4294967295,B=O+(V<<12&4294967295|V>>>20),V=L+(I^B&(O^I))+D[10]+4294925233&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(O^L&(B^O))+D[11]+2304563134&4294967295,I=L+(V<<22&4294967295|V>>>10),V=O+(B^I&(L^B))+D[12]+1804603682&4294967295,O=I+(V<<7&4294967295|V>>>25),V=B+(L^O&(I^L))+D[13]+4254626195&4294967295,B=O+(V<<12&4294967295|V>>>20),V=L+(I^B&(O^I))+D[14]+2792965006&4294967295,L=B+(V<<17&4294967295|V>>>15),V=I+(O^L&(B^O))+D[15]+1236535329&4294967295,I=L+(V<<22&4294967295|V>>>10),V=O+(L^B&(I^L))+D[1]+4129170786&4294967295,O=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(O^I))+D[6]+3225465664&4294967295,B=O+(V<<9&4294967295|V>>>23),V=L+(O^I&(B^O))+D[11]+643717713&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^O&(L^B))+D[0]+3921069994&4294967295,I=L+(V<<20&4294967295|V>>>12),V=O+(L^B&(I^L))+D[5]+3593408605&4294967295,O=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(O^I))+D[10]+38016083&4294967295,B=O+(V<<9&4294967295|V>>>23),V=L+(O^I&(B^O))+D[15]+3634488961&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^O&(L^B))+D[4]+3889429448&4294967295,I=L+(V<<20&4294967295|V>>>12),V=O+(L^B&(I^L))+D[9]+568446438&4294967295,O=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(O^I))+D[14]+3275163606&4294967295,B=O+(V<<9&4294967295|V>>>23),V=L+(O^I&(B^O))+D[3]+4107603335&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^O&(L^B))+D[8]+1163531501&4294967295,I=L+(V<<20&4294967295|V>>>12),V=O+(L^B&(I^L))+D[13]+2850285829&4294967295,O=I+(V<<5&4294967295|V>>>27),V=B+(I^L&(O^I))+D[2]+4243563512&4294967295,B=O+(V<<9&4294967295|V>>>23),V=L+(O^I&(B^O))+D[7]+1735328473&4294967295,L=B+(V<<14&4294967295|V>>>18),V=I+(B^O&(L^B))+D[12]+2368359562&4294967295,I=L+(V<<20&4294967295|V>>>12),V=O+(I^L^B)+D[5]+4294588738&4294967295,O=I+(V<<4&4294967295|V>>>28),V=B+(O^I^L)+D[8]+2272392833&4294967295,B=O+(V<<11&4294967295|V>>>21),V=L+(B^O^I)+D[11]+1839030562&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^O)+D[14]+4259657740&4294967295,I=L+(V<<23&4294967295|V>>>9),V=O+(I^L^B)+D[1]+2763975236&4294967295,O=I+(V<<4&4294967295|V>>>28),V=B+(O^I^L)+D[4]+1272893353&4294967295,B=O+(V<<11&4294967295|V>>>21),V=L+(B^O^I)+D[7]+4139469664&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^O)+D[10]+3200236656&4294967295,I=L+(V<<23&4294967295|V>>>9),V=O+(I^L^B)+D[13]+681279174&4294967295,O=I+(V<<4&4294967295|V>>>28),V=B+(O^I^L)+D[0]+3936430074&4294967295,B=O+(V<<11&4294967295|V>>>21),V=L+(B^O^I)+D[3]+3572445317&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^O)+D[6]+76029189&4294967295,I=L+(V<<23&4294967295|V>>>9),V=O+(I^L^B)+D[9]+3654602809&4294967295,O=I+(V<<4&4294967295|V>>>28),V=B+(O^I^L)+D[12]+3873151461&4294967295,B=O+(V<<11&4294967295|V>>>21),V=L+(B^O^I)+D[15]+530742520&4294967295,L=B+(V<<16&4294967295|V>>>16),V=I+(L^B^O)+D[2]+3299628645&4294967295,I=L+(V<<23&4294967295|V>>>9),V=O+(L^(I|~B))+D[0]+4096336452&4294967295,O=I+(V<<6&4294967295|V>>>26),V=B+(I^(O|~L))+D[7]+1126891415&4294967295,B=O+(V<<10&4294967295|V>>>22),V=L+(O^(B|~I))+D[14]+2878612391&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~O))+D[5]+4237533241&4294967295,I=L+(V<<21&4294967295|V>>>11),V=O+(L^(I|~B))+D[12]+1700485571&4294967295,O=I+(V<<6&4294967295|V>>>26),V=B+(I^(O|~L))+D[3]+2399980690&4294967295,B=O+(V<<10&4294967295|V>>>22),V=L+(O^(B|~I))+D[10]+4293915773&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~O))+D[1]+2240044497&4294967295,I=L+(V<<21&4294967295|V>>>11),V=O+(L^(I|~B))+D[8]+1873313359&4294967295,O=I+(V<<6&4294967295|V>>>26),V=B+(I^(O|~L))+D[15]+4264355552&4294967295,B=O+(V<<10&4294967295|V>>>22),V=L+(O^(B|~I))+D[6]+2734768916&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~O))+D[13]+1309151649&4294967295,I=L+(V<<21&4294967295|V>>>11),V=O+(L^(I|~B))+D[4]+4149444226&4294967295,O=I+(V<<6&4294967295|V>>>26),V=B+(I^(O|~L))+D[11]+3174756917&4294967295,B=O+(V<<10&4294967295|V>>>22),V=L+(O^(B|~I))+D[2]+718787259&4294967295,L=B+(V<<15&4294967295|V>>>17),V=I+(B^(L|~O))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+O&4294967295,N.g[1]=N.g[1]+(L+(V<<21&4294967295|V>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+B&4294967295}r.prototype.v=function(N,O){O===void 0&&(O=N.length);const I=O-this.blockSize,D=this.C;let L=this.h,B=0;for(;B<O;){if(L==0)for(;B<=I;)a(this,N,B),B+=this.blockSize;if(typeof N=="string"){for(;B<O;)if(D[L++]=N.charCodeAt(B++),L==this.blockSize){a(this,D),L=0;break}}else for(;B<O;)if(D[L++]=N[B++],L==this.blockSize){a(this,D),L=0;break}}this.h=L,this.o+=O},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var O=1;O<N.length-8;++O)N[O]=0;O=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=O&255,O/=256;for(this.v(N),N=Array(16),O=0,I=0;I<4;++I)for(let D=0;D<32;D+=8)N[O++]=this.g[I]>>>D&255;return N};function l(N,O){var I=f;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=O(N)}function c(N,O){this.h=O;const I=[];let D=!0;for(let L=N.length-1;L>=0;L--){const B=N[L]|0;D&&B==O||(I[L]=B,D=!1)}this.g=I}var f={};function h(N){return-128<=N&&N<128?l(N,function(O){return new c([O|0],O<0?-1:0)}):new c([N|0],N<0?-1:0)}function d(N){if(isNaN(N)||!isFinite(N))return y;if(N<0)return b(d(-N));const O=[];let I=1;for(let D=0;N>=I;D++)O[D]=N/I|0,I*=4294967296;return new c(O,0)}function p(N,O){if(N.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(N.charAt(0)=="-")return b(p(N.substring(1),O));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(O,8));let D=y;for(let B=0;B<N.length;B+=8){var L=Math.min(8,N.length-B);const V=parseInt(N.substring(B,B+L),O);L<8?(L=d(Math.pow(O,L)),D=D.j(L).add(d(V))):(D=D.j(I),D=D.add(d(V)))}return D}var y=h(0),_=h(1),w=h(16777216);n=c.prototype,n.m=function(){if(E(this))return-b(this).m();let N=0,O=1;for(let I=0;I<this.g.length;I++){const D=this.i(I);N+=(D>=0?D:4294967296+D)*O,O*=4294967296}return N},n.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C(this))return"0";if(E(this))return"-"+b(this).toString(N);const O=d(Math.pow(N,6));var I=this;let D="";for(;;){const L=G(I,O).g;I=j(I,L.j(O));let B=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=L,C(I))return B+D;for(;B.length<6;)B="0"+B;D=B+D}},n.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function C(N){if(N.h!=0)return!1;for(let O=0;O<N.g.length;O++)if(N.g[O]!=0)return!1;return!0}function E(N){return N.h==-1}n.l=function(N){return N=j(this,N),E(N)?-1:C(N)?0:1};function b(N){const O=N.g.length,I=[];for(let D=0;D<O;D++)I[D]=~N.g[D];return new c(I,~N.h).add(_)}n.abs=function(){return E(this)?b(this):this},n.add=function(N){const O=Math.max(this.g.length,N.g.length),I=[];let D=0;for(let L=0;L<=O;L++){let B=D+(this.i(L)&65535)+(N.i(L)&65535),V=(B>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);D=V>>>16,B&=65535,V&=65535,I[L]=V<<16|B}return new c(I,I[I.length-1]&-2147483648?-1:0)};function j(N,O){return N.add(b(O))}n.j=function(N){if(C(this)||C(N))return y;if(E(this))return E(N)?b(this).j(b(N)):b(b(this).j(N));if(E(N))return b(this.j(b(N)));if(this.l(w)<0&&N.l(w)<0)return d(this.m()*N.m());const O=this.g.length+N.g.length,I=[];for(var D=0;D<2*O;D++)I[D]=0;for(D=0;D<this.g.length;D++)for(let L=0;L<N.g.length;L++){const B=this.i(D)>>>16,V=this.i(D)&65535,$e=N.i(L)>>>16,Ue=N.i(L)&65535;I[2*D+2*L]+=V*Ue,R(I,2*D+2*L),I[2*D+2*L+1]+=B*Ue,R(I,2*D+2*L+1),I[2*D+2*L+1]+=V*$e,R(I,2*D+2*L+1),I[2*D+2*L+2]+=B*$e,R(I,2*D+2*L+2)}for(N=0;N<O;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=O;N<2*O;N++)I[N]=0;return new c(I,0)};function R(N,O){for(;(N[O]&65535)!=N[O];)N[O+1]+=N[O]>>>16,N[O]&=65535,O++}function M(N,O){this.g=N,this.h=O}function G(N,O){if(C(O))throw Error("division by zero");if(C(N))return new M(y,y);if(E(N))return O=G(b(N),O),new M(b(O.g),b(O.h));if(E(O))return O=G(N,b(O)),new M(b(O.g),O.h);if(N.g.length>30){if(E(N)||E(O))throw Error("slowDivide_ only works with positive integers.");for(var I=_,D=O;D.l(N)<=0;)I=te(I),D=te(D);var L=re(I,1),B=re(D,1);for(D=re(D,2),I=re(I,2);!C(D);){var V=B.add(D);V.l(N)<=0&&(L=L.add(I),B=V),D=re(D,1),I=re(I,1)}return O=j(N,L.j(O)),new M(L,O)}for(L=y;N.l(O)>=0;){for(I=Math.max(1,Math.floor(N.m()/O.m())),D=Math.ceil(Math.log(I)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),B=d(I),V=B.j(O);E(V)||V.l(N)>0;)I-=D,B=d(I),V=B.j(O);C(B)&&(B=_),L=L.add(B),N=j(N,V)}return new M(L,N)}n.B=function(N){return G(this,N).h},n.and=function(N){const O=Math.max(this.g.length,N.g.length),I=[];for(let D=0;D<O;D++)I[D]=this.i(D)&N.i(D);return new c(I,this.h&N.h)},n.or=function(N){const O=Math.max(this.g.length,N.g.length),I=[];for(let D=0;D<O;D++)I[D]=this.i(D)|N.i(D);return new c(I,this.h|N.h)},n.xor=function(N){const O=Math.max(this.g.length,N.g.length),I=[];for(let D=0;D<O;D++)I[D]=this.i(D)^N.i(D);return new c(I,this.h^N.h)};function te(N){const O=N.g.length+1,I=[];for(let D=0;D<O;D++)I[D]=N.i(D)<<1|N.i(D-1)>>>31;return new c(I,N.h)}function re(N,O){const I=O>>5;O%=32;const D=N.g.length-I,L=[];for(let B=0;B<D;B++)L[B]=O>0?N.i(B+I)>>>O|N.i(B+I+1)<<32-O:N.i(B+I);return new c(L,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,qw=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=p,al=c}).apply(typeof Q2<"u"?Q2:typeof self<"u"?self:typeof window<"u"?window:{});var y0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Gw,$u,Yw,F0,Zg,Xw,Ww,$w;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof y0=="object"&&y0];for(var T=0;T<m.length;++T){var A=m[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=t(this);function a(m,T){if(T)e:{var A=r;m=m.split(".");for(var z=0;z<m.length-1;z++){var ae=m[z];if(!(ae in A))break e;A=A[ae]}m=m[m.length-1],z=A[m],T=T(z),T!=z&&T!=null&&e(A,m,{configurable:!0,writable:!0,value:T})}}a("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(m){return m||function(T){var A=[],z;for(z in T)Object.prototype.hasOwnProperty.call(T,z)&&A.push([z,T[z]]);return A}});var l=l||{},c=this||self;function f(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function h(m,T,A){return m.call.apply(m.bind,arguments)}function d(m,T,A){return d=h,d.apply(null,arguments)}function p(m,T){var A=Array.prototype.slice.call(arguments,1);return function(){var z=A.slice();return z.push.apply(z,arguments),m.apply(this,z)}}function y(m,T){function A(){}A.prototype=T.prototype,m.Z=T.prototype,m.prototype=new A,m.prototype.constructor=m,m.Ob=function(z,ae,ge){for(var je=Array(arguments.length-2),ht=2;ht<arguments.length;ht++)je[ht-2]=arguments[ht];return T.prototype[ae].apply(z,je)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function w(m){const T=m.length;if(T>0){const A=Array(T);for(let z=0;z<T;z++)A[z]=m[z];return A}return[]}function C(m,T){for(let z=1;z<arguments.length;z++){const ae=arguments[z];var A=typeof ae;if(A=A!="object"?A:ae?Array.isArray(ae)?"array":A:"null",A=="array"||A=="object"&&typeof ae.length=="number"){A=m.length||0;const ge=ae.length||0;m.length=A+ge;for(let je=0;je<ge;je++)m[A+je]=ae[je]}else m.push(ae)}}class E{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function b(m){c.setTimeout(()=>{throw m},0)}function j(){var m=N;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class R{constructor(){this.h=this.g=null}add(T,A){const z=M.get();z.set(T,A),this.h?this.h.next=z:this.g=z,this.h=z}}var M=new E(()=>new G,m=>m.reset());class G{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let te,re=!1,N=new R,O=()=>{const m=Promise.resolve(void 0);te=()=>{m.then(I)}};function I(){for(var m;m=j();){try{m.h.call(m.g)}catch(A){b(A)}var T=M;T.j(m),T.h<100&&(T.h++,m.next=T.g,T.g=m)}re=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};c.addEventListener("test",A,T),c.removeEventListener("test",A,T)}catch{}return m})();function V(m){return/^[\s\xa0]*$/.test(m)}function $e(m,T){L.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,T)}y($e,L),$e.prototype.init=function(m,T){const A=this.type=m.type,z=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget,T||(A=="mouseover"?T=m.fromElement:A=="mouseout"&&(T=m.toElement)),this.relatedTarget=T,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&$e.Z.h.call(this)},$e.prototype.h=function(){$e.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ue="closure_listenable_"+(Math.random()*1e6|0),de=0;function be(m,T,A,z,ae){this.listener=m,this.proxy=null,this.src=T,this.type=A,this.capture=!!z,this.ha=ae,this.key=++de,this.da=this.fa=!1}function qe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ze(m,T,A){for(const z in m)T.call(A,m[z],z,m)}function Je(m,T){for(const A in m)T.call(void 0,m[A],A,m)}function ee(m){const T={};for(const A in m)T[A]=m[A];return T}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(m,T){let A,z;for(let ae=1;ae<arguments.length;ae++){z=arguments[ae];for(A in z)m[A]=z[A];for(let ge=0;ge<F.length;ge++)A=F[ge],Object.prototype.hasOwnProperty.call(z,A)&&(m[A]=z[A])}}function W(m){this.src=m,this.g={},this.h=0}W.prototype.add=function(m,T,A,z,ae){const ge=m.toString();m=this.g[ge],m||(m=this.g[ge]=[],this.h++);const je=pe(m,T,z,ae);return je>-1?(T=m[je],A||(T.fa=!1)):(T=new be(T,this.src,ge,!!z,ae),T.fa=A,m.push(T)),T};function K(m,T){const A=T.type;if(A in m.g){var z=m.g[A],ae=Array.prototype.indexOf.call(z,T,void 0),ge;(ge=ae>=0)&&Array.prototype.splice.call(z,ae,1),ge&&(qe(T),m.g[A].length==0&&(delete m.g[A],m.h--))}}function pe(m,T,A,z){for(let ae=0;ae<m.length;++ae){const ge=m[ae];if(!ge.da&&ge.listener==T&&ge.capture==!!A&&ge.ha==z)return ae}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),Be={};function Oe(m,T,A,z,ae){if(Array.isArray(T)){for(let ge=0;ge<T.length;ge++)Oe(m,T[ge],A,z,ae);return null}return A=bn(A),m&&m[Ue]?m.J(T,A,f(z)?!!z.capture:!1,ae):ke(m,T,A,!1,z,ae)}function ke(m,T,A,z,ae,ge){if(!T)throw Error("Invalid event type");const je=f(ae)?!!ae.capture:!!ae;let ht=Ct(m);if(ht||(m[Re]=ht=new W(m)),A=ht.add(T,A,z,je,ge),A.proxy)return A;if(z=gt(),A.proxy=z,z.src=m,z.listener=A,m.addEventListener)B||(ae=je),ae===void 0&&(ae=!1),m.addEventListener(T.toString(),z,ae);else if(m.attachEvent)m.attachEvent(ut(T.toString()),z);else if(m.addListener&&m.removeListener)m.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return A}function gt(){function m(A){return T.call(m.src,m.listener,A)}const T=Xn;return m}function lt(m,T,A,z,ae){if(Array.isArray(T))for(var ge=0;ge<T.length;ge++)lt(m,T[ge],A,z,ae);else z=f(z)?!!z.capture:!!z,A=bn(A),m&&m[Ue]?(m=m.i,ge=String(T).toString(),ge in m.g&&(T=m.g[ge],A=pe(T,A,z,ae),A>-1&&(qe(T[A]),Array.prototype.splice.call(T,A,1),T.length==0&&(delete m.g[ge],m.h--)))):m&&(m=Ct(m))&&(T=m.g[T.toString()],m=-1,T&&(m=pe(T,A,z,ae)),(A=m>-1?T[m]:null)&&en(A))}function en(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[Ue])K(T.i,m);else{var A=m.type,z=m.proxy;T.removeEventListener?T.removeEventListener(A,z,m.capture):T.detachEvent?T.detachEvent(ut(A),z):T.addListener&&T.removeListener&&T.removeListener(z),(A=Ct(T))?(K(A,m),A.h==0&&(A.src=null,T[Re]=null)):qe(m)}}}function ut(m){return m in Be?Be[m]:Be[m]="on"+m}function Xn(m,T){if(m.da)m=!0;else{T=new $e(T,this);const A=m.listener,z=m.ha||m.src;m.fa&&en(m),m=A.call(z,T)}return m}function Ct(m){return m=m[Re],m instanceof W?m:null}var ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function bn(m){return typeof m=="function"?m:(m[ze]||(m[ze]=function(T){return m.handleEvent(T)}),m[ze])}function Nt(){D.call(this),this.i=new W(this),this.M=this,this.G=null}y(Nt,D),Nt.prototype[Ue]=!0,Nt.prototype.removeEventListener=function(m,T,A,z){lt(this,m,T,A,z)};function Pt(m,T){var A,z=m.G;if(z)for(A=[];z;z=z.G)A.push(z);if(m=m.M,z=T.type||T,typeof T=="string")T=new L(T,m);else if(T instanceof L)T.target=T.target||m;else{var ae=T;T=new L(z,m),J(T,ae)}ae=!0;let ge,je;if(A)for(je=A.length-1;je>=0;je--)ge=T.g=A[je],ae=Wn(ge,z,!0,T)&&ae;if(ge=T.g=m,ae=Wn(ge,z,!0,T)&&ae,ae=Wn(ge,z,!1,T)&&ae,A)for(je=0;je<A.length;je++)ge=T.g=A[je],ae=Wn(ge,z,!1,T)&&ae}Nt.prototype.N=function(){if(Nt.Z.N.call(this),this.i){var m=this.i;for(const T in m.g){const A=m.g[T];for(let z=0;z<A.length;z++)qe(A[z]);delete m.g[T],m.h--}}this.G=null},Nt.prototype.J=function(m,T,A,z){return this.i.add(String(m),T,!1,A,z)},Nt.prototype.K=function(m,T,A,z){return this.i.add(String(m),T,!0,A,z)};function Wn(m,T,A,z){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();let ae=!0;for(let ge=0;ge<T.length;++ge){const je=T[ge];if(je&&!je.da&&je.capture==A){const ht=je.listener,_n=je.ha||je.src;je.fa&&K(m.i,je),ae=ht.call(_n,z)!==!1&&ae}}return ae&&!z.defaultPrevented}function wr(m,T){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=d(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:c.setTimeout(m,T||0)}function $r(m){m.g=wr(()=>{m.g=null,m.i&&(m.i=!1,$r(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class Yt extends D{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dr(m){D.call(this),this.h=m,this.g={}}y(Dr,D);var Di=[];function ki(m){Ze(m.g,function(T,A){this.g.hasOwnProperty(A)&&en(T)},m),m.g={}}Dr.prototype.N=function(){Dr.Z.N.call(this),ki(this)},Dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=c.JSON.stringify,ds=c.JSON.parse,mi=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function na(){}function Ia(){}var se={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Me(){L.call(this,"d")}y(Me,L);function He(){L.call(this,"c")}y(He,L);var Ie={},ft=null;function tn(){return ft=ft||new Nt}Ie.Ia="serverreachability";function br(m){L.call(this,Ie.Ia,m)}y(br,L);function Sr(m){const T=tn();Pt(T,new br(T))}Ie.STAT_EVENT="statevent";function Mi(m,T){L.call(this,Ie.STAT_EVENT,m),this.stat=T}y(Mi,L);function cn(m){const T=tn();Pt(T,new Mi(T,m))}Ie.Ja="timingevent";function Kn(m,T){L.call(this,Ie.Ja,m),this.size=T}y(Kn,L);function kr(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},T)}function hr(){this.g=!0}hr.prototype.ua=function(){this.g=!1};function ra(m,T,A,z,ae,ge){m.info(function(){if(m.g)if(ge){var je="",ht=ge.split("&");for(let Dt=0;Dt<ht.length;Dt++){var _n=ht[Dt].split("=");if(_n.length>1){const un=_n[0];_n=_n[1];const vi=un.split("_");je=vi.length>=2&&vi[1]=="type"?je+(un+"="+_n+"&"):je+(un+"=redacted&")}}}else je=null;else je=ge;return"XMLHTTP REQ ("+z+") [attempt "+ae+"]: "+T+`
`+A+`
`+je})}function Mr(m,T,A,z,ae,ge,je){m.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+ae+"]: "+T+`
`+A+`
`+ge+" "+je})}function Qn(m,T,A,z){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+Cl(m,A)+(z?" "+z:"")})}function dr(m,T){m.info(function(){return"TIMEOUT: "+T})}hr.prototype.info=function(){};function Cl(m,T){if(!m.g)return T;if(!T)return null;try{const ge=JSON.parse(T);if(ge){for(m=0;m<ge.length;m++)if(Array.isArray(ge[m])){var A=ge[m];if(!(A.length<2)){var z=A[1];if(Array.isArray(z)&&!(z.length<1)){var ae=z[0];if(ae!="noop"&&ae!="stop"&&ae!="close")for(let je=1;je<z.length;je++)z[je]=""}}}}return $n(ge)}catch{return T}}var Pi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Li={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oa;function ia(){}y(ia,na),ia.prototype.g=function(){return new XMLHttpRequest},Oa=new ia;function Pr(m){return encodeURIComponent(String(m))}function k(m){var T=1;m=m.split(":");const A=[];for(;T>0&&m.length;)A.push(m.shift()),T--;return m.length&&A.push(m.join(":")),A}function q(m,T,A,z){this.j=m,this.i=T,this.l=A,this.S=z||1,this.V=new Dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new U}function U(){this.i=null,this.g="",this.h=!1}var H={},Y={};function X(m,T,A){m.M=1,m.A=Nl(Sn(T)),m.u=A,m.R=!0,oe(m,null)}function oe(m,T){m.F=Date.now(),fe(m),m.B=Sn(m.A);var A=m.B,z=m.S;Array.isArray(z)||(z=[String(z)]),So(A.i,"t",z),m.C=0,A=m.j.L,m.h=new U,m.g=fh(m.j,A?T:null,!m.u),m.P>0&&(m.O=new Yt(d(m.Y,m,m.g),m.P)),T=m.V,A=m.g,z=m.ba;var ae="readystatechange";Array.isArray(ae)||(ae&&(Di[0]=ae.toString()),ae=Di);for(let ge=0;ge<ae.length;ge++){const je=Oe(A,ae[ge],z||T.handleEvent,!1,T.h||T);if(!je)break;T.g[je.key]=je}T=m.J?ee(m.J):{},m.u?(m.v||(m.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,T)):(m.v="GET",m.g.ea(m.B,m.v,null,T)),Sr(),ra(m.i,m.v,m.B,m.l,m.S,m.u)}q.prototype.ba=function(m){m=m.target;const T=this.O;T&&Ui(m)==3?T.j():this.Y(m)},q.prototype.Y=function(m){try{if(m==this.g)e:{const ht=Ui(this.g),_n=this.g.ya(),Dt=this.g.ca();if(!(ht<3)&&(ht!=3||this.g&&(this.h.h||this.g.la()||Jn(this.g)))){this.K||ht!=4||_n==7||(_n==8||Dt<=0?Sr(3):Sr(2)),De(this);var T=this.g.ca();this.X=T;var A=ye(this);if(this.o=T==200,Mr(this.i,this.v,this.B,this.l,this.S,ht,T),this.o){if(this.U&&!this.L){t:{if(this.g){var z,ae=this.g;if((z=ae.g?ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(z)){var ge=z;break t}}ge=null}if(m=ge)Qn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fe(this,m);else{this.o=!1,this.m=3,cn(12),Ce(this),Ve(this);break e}}if(this.R){m=!0;let un;for(;!this.K&&this.C<A.length;)if(un=he(this,A),un==Y){ht==4&&(this.m=4,cn(14),m=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(un==H){this.m=4,cn(15),Qn(this.i,this.l,A,"[Invalid Chunk]"),m=!1;break}else Qn(this.i,this.l,un,null),Fe(this,un);if(ce(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||A.length!=0||this.h.h||(this.m=1,cn(16),m=!1),this.o=this.o&&m,!m)Qn(this.i,this.l,A,"[Invalid Chunked Response]"),Ce(this),Ve(this);else if(A.length>0&&!this.W){this.W=!0;var je=this.j;je.g==this&&je.aa&&!je.P&&(je.j.info("Great, no buffering proxy detected. Bytes received: "+A.length),au(je),je.P=!0,cn(11))}}else Qn(this.i,this.l,A,null),Fe(this,A);ht==4&&Ce(this),this.o&&!this.K&&(ht==4?lh(this.j,this):(this.o=!1,fe(this)))}else ka(this.g),T==400&&A.indexOf("Unknown SID")>0?(this.m=3,cn(12)):(this.m=0,cn(13)),Ce(this),Ve(this)}}}catch{}finally{}};function ye(m){if(!ce(m))return m.g.la();const T=Jn(m.g);if(T==="")return"";let A="";const z=T.length,ae=Ui(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return Ce(m),Ve(m),"";m.h.i=new c.TextDecoder}for(let ge=0;ge<z;ge++)m.h.h=!0,A+=m.h.i.decode(T[ge],{stream:!(ae&&ge==z-1)});return T.length=0,m.h.g+=A,m.C=0,m.h.g}function ce(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function he(m,T){var A=m.C,z=T.indexOf(`
`,A);return z==-1?Y:(A=Number(T.substring(A,z)),isNaN(A)?H:(z+=1,z+A>T.length?Y:(T=T.slice(z,z+A),m.C=z+A,T)))}q.prototype.cancel=function(){this.K=!0,Ce(this)};function fe(m){m.T=Date.now()+m.H,Ne(m,m.H)}function Ne(m,T){if(m.D!=null)throw Error("WatchDog timer not null");m.D=kr(d(m.aa,m),T)}function De(m){m.D&&(c.clearTimeout(m.D),m.D=null)}q.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(dr(this.i,this.B),this.M!=2&&(Sr(),cn(17)),Ce(this),this.m=2,Ve(this)):Ne(this,this.T-m)};function Ve(m){m.j.I==0||m.K||lh(m.j,m)}function Ce(m){De(m);var T=m.O;T&&typeof T.dispose=="function"&&T.dispose(),m.O=null,ki(m.V),m.g&&(T=m.g,m.g=null,T.abort(),T.dispose())}function Fe(m,T){try{var A=m.j;if(A.I!=0&&(A.g==m||mr(A.h,m))){if(!m.L&&mr(A.h,m)&&A.I==3){try{var z=A.Ba.g.parse(T)}catch{z=null}if(Array.isArray(z)&&z.length==3){var ae=z;if(ae[0]==0){e:if(!A.v){if(A.g)if(A.g.F+3e3<m.F)Io(A),Ts(A);else break e;Pl(A),cn(18)}}else A.xa=ae[1],0<A.xa-A.K&&ae[2]<37500&&A.F&&A.A==0&&!A.C&&(A.C=kr(d(A.Va,A),6e3));Jt(A.h)<=1&&A.ta&&(A.ta=void 0)}else ua(A,11)}else if((m.L||A.g==m)&&Io(A),!V(T))for(ae=A.Ba.g.parse(T),T=0;T<ae.length;T++){let Dt=ae[T];const un=Dt[0];if(!(un<=A.K))if(A.K=un,Dt=Dt[1],A.I==2)if(Dt[0]=="c"){A.M=Dt[1],A.ba=Dt[2];const vi=Dt[3];vi!=null&&(A.ka=vi,A.j.info("VER="+A.ka));const fa=Dt[4];fa!=null&&(A.za=fa,A.j.info("SVER="+A.za));const zi=Dt[5];zi!=null&&typeof zi=="number"&&zi>0&&(z=1.5*zi,A.O=z,A.j.info("backChannelRequestTimeoutMs_="+z)),z=A;const Hi=m.g;if(Hi){const Ll=Hi.g?Hi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ll){var ge=z.h;ge.g||Ll.indexOf("spdy")==-1&&Ll.indexOf("quic")==-1&&Ll.indexOf("h2")==-1||(ge.j=ge.l,ge.g=new Set,ge.h&&(ji(ge,ge.h),ge.h=null))}if(z.G){const Oo=Hi.g?Hi.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(z.wa=Oo,Bt(z.J,z.G,Oo))}}A.I=3,A.l&&A.l.ra(),A.aa&&(A.T=Date.now()-m.F,A.j.info("Handshake RTT: "+A.T+"ms")),z=A;var je=m;if(z.na=uh(z,z.L?z.ba:null,z.W),je.L){Fi(z.h,je);var ht=je,_n=z.O;_n&&(ht.H=_n),ht.D&&(De(ht),fe(ht)),z.g=je}else ah(z);A.i.length>0&&ca(A)}else Dt[0]!="stop"&&Dt[0]!="close"||ua(A,7);else A.I==3&&(Dt[0]=="stop"||Dt[0]=="close"?Dt[0]=="stop"?ua(A,7):ru(A):Dt[0]!="noop"&&A.l&&A.l.qa(Dt),A.A=0)}}Sr(4)}catch{}}var We=class{constructor(m,T){this.g=m,this.map=T}};function jt(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ft(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function Jt(m){return m.h?1:m.g?m.g.size:0}function mr(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function ji(m,T){m.g?m.g.add(T):m.h=T}function Fi(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}jt.prototype.cancel=function(){if(this.i=Kr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Kr(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const A of m.g.values())T=T.concat(A.G);return T}return w(m.i)}var ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pr(m,T){if(m){m=m.split("&");for(let A=0;A<m.length;A++){const z=m[A].indexOf("=");let ae,ge=null;z>=0?(ae=m[A].substring(0,z),ge=m[A].substring(z+1)):ae=m[A],T(ae,ge?decodeURIComponent(ge.replace(/\+/g," ")):"")}}}function Qr(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;m instanceof Qr?(this.l=m.l,Vn(this,m.j),this.o=m.o,this.g=m.g,ps(this,m.u),this.h=m.h,Kc(this,rh(m.i)),this.m=m.m):m&&(T=String(m).match(ms))?(this.l=!1,Vn(this,T[1]||"",!0),this.o=aa(T[2]||""),this.g=aa(T[3]||"",!0),ps(this,T[4]),this.h=aa(T[5]||"",!0),Kc(this,T[6]||"",!0),this.m=aa(T[7]||"")):(this.l=!1,this.i=new vs(null,this.l))}Qr.prototype.toString=function(){const m=[];var T=this.j;T&&m.push(Rl(T,bo,!0),":");var A=this.g;return(A||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Rl(T,bo,!0),"@"),m.push(Pr(A).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.u,A!=null&&m.push(":",String(A))),(A=this.h)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Rl(A,A.charAt(0)=="/"?Qc:eh,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Rl(A,th)),m.join("")},Qr.prototype.resolve=function(m){const T=Sn(this);let A=!!m.j;A?Vn(T,m.j):A=!!m.o,A?T.o=m.o:A=!!m.g,A?T.g=m.g:A=m.u!=null;var z=m.h;if(A)ps(T,m.u);else if(A=!!m.h){if(z.charAt(0)!="/")if(this.g&&!this.h)z="/"+z;else{var ae=T.h.lastIndexOf("/");ae!=-1&&(z=T.h.slice(0,ae+1)+z)}if(ae=z,ae==".."||ae==".")z="";else if(ae.indexOf("./")!=-1||ae.indexOf("/.")!=-1){z=ae.lastIndexOf("/",0)==0,ae=ae.split("/");const ge=[];for(let je=0;je<ae.length;){const ht=ae[je++];ht=="."?z&&je==ae.length&&ge.push(""):ht==".."?((ge.length>1||ge.length==1&&ge[0]!="")&&ge.pop(),z&&je==ae.length&&ge.push("")):(ge.push(ht),z=!0)}z=ge.join("/")}else z=ae}return A?T.h=z:A=m.i.toString()!=="",A?Kc(T,rh(m.i)):A=!!m.m,A&&(T.m=m.m),T};function Sn(m){return new Qr(m)}function Vn(m,T,A){m.j=A?aa(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function ps(m,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);m.u=T}else m.u=null}function Kc(m,T,A){T instanceof vs?(m.i=T,Ao(m.i,m.l)):(A||(T=Rl(T,gs)),m.i=new vs(T,m.l))}function Bt(m,T,A){m.i.set(T,A)}function Nl(m){return Bt(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function aa(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Rl(m,T,A){return typeof m=="string"?(m=encodeURI(m).replace(T,Lr),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Lr(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var bo=/[#\/\?@]/g,eh=/[#\?:]/g,Qc=/[#\?]/g,gs=/[#\?@]/g,th=/#/g;function vs(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function jr(m){m.g||(m.g=new Map,m.h=0,m.i&&pr(m.i,function(T,A){m.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}n=vs.prototype,n.add=function(m,T){jr(this),this.i=null,m=xs(this,m);let A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(T),this.h+=1,this};function nh(m,T){jr(m),T=xs(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function Jc(m,T){return jr(m),T=xs(m,T),m.g.has(T)}n.forEach=function(m,T){jr(this),this.g.forEach(function(A,z){A.forEach(function(ae){m.call(T,ae,z,this)},this)},this)};function Zc(m,T){jr(m);let A=[];if(typeof T=="string")Jc(m,T)&&(A=A.concat(m.g.get(xs(m,T))));else for(m=Array.from(m.g.values()),T=0;T<m.length;T++)A=A.concat(m[T]);return A}n.set=function(m,T){return jr(this),this.i=null,m=xs(this,m),Jc(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},n.get=function(m,T){return m?(m=Zc(this,m),m.length>0?String(m[0]):T):T};function So(m,T,A){nh(m,T),A.length>0&&(m.i=null,m.g.set(xs(m,T),w(A)),m.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(let z=0;z<T.length;z++){var A=T[z];const ae=Pr(A);A=Zc(this,A);for(let ge=0;ge<A.length;ge++){let je=ae;A[ge]!==""&&(je+="="+Pr(A[ge])),m.push(je)}}return this.i=m.join("&")};function rh(m){const T=new vs;return T.i=m.i,m.g&&(T.g=new Map(m.g),T.h=m.h),T}function xs(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function Ao(m,T){T&&!m.j&&(jr(m),m.i=null,m.g.forEach(function(A,z){const ae=z.toLowerCase();z!=ae&&(nh(this,z),So(this,ae,A))},m)),m.j=T}function Bi(m,T){const A=new hr;if(c.Image){const z=new Image;z.onload=p(pi,A,"TestLoadImage: loaded",!0,T,z),z.onerror=p(pi,A,"TestLoadImage: error",!1,T,z),z.onabort=p(pi,A,"TestLoadImage: abort",!1,T,z),z.ontimeout=p(pi,A,"TestLoadImage: timeout",!1,T,z),c.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=m}else T(!1)}function eu(m,T){const A=new hr,z=new AbortController,ae=setTimeout(()=>{z.abort(),pi(A,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:z.signal}).then(ge=>{clearTimeout(ae),ge.ok?pi(A,"TestPingServer: ok",!0,T):pi(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ae),pi(A,"TestPingServer: error",!1,T)})}function pi(m,T,A,z,ae){try{ae&&(ae.onload=null,ae.onerror=null,ae.onabort=null,ae.ontimeout=null),z(A)}catch{}}function ys(){this.g=new mi}function sa(m){this.i=m.Sb||null,this.h=m.ab||!1}y(sa,na),sa.prototype.g=function(){return new Il(this.i,this.h)};function Il(m,T){Nt.call(this),this.H=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Il,Nt),n=Il.prototype,n.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=T,this.readyState=1,Vi(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(T.body=m),(this.H||c).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Vi(this)),this.g&&(this.readyState=3,Vi(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Co(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function Co(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?_s(this):Vi(this),this.readyState==3&&Co(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,_s(this))},n.Na=function(m){this.g&&(this.response=m,_s(this))},n.ga=function(){this.g&&_s(this)};function _s(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Vi(m)}n.setRequestHeader=function(m,T){this.A.append(m,T)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=T.next();return m.join(`\r
`)};function Vi(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Il.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function gi(m){let T="";return Ze(m,function(A,z){T+=z,T+=":",T+=A,T+=`\r
`}),T}function Ol(m,T,A){e:{for(z in A){var z=!1;break e}z=!0}z||(A=gi(A),typeof m=="string"?A!=null&&Pr(A):Bt(m,T,A))}function Xt(m){Nt.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Xt,Nt);var la=/^https?$/i,tu=["POST","PUT"];n=Xt.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,T,A,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oa.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(ge){Dl(this,ge);return}if(m=A||"",A=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var ae in z)A.set(ae,z[ae]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const ge of z.keys())A.set(ge,z.get(ge));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(A.keys()).find(ge=>ge.toLowerCase()=="content-type"),ae=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(tu,T,void 0)>=0)||z||ae||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ge,je]of A)this.g.setRequestHeader(ge,je);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(ge){Dl(this,ge)}};function Dl(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.o=5,nu(m),Da(m)}function nu(m){m.A||(m.A=!0,Pt(m,"complete"),Pt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,Pt(this,"complete"),Pt(this,"abort"),Da(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Da(this,!0)),Xt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?kl(this):this.Xa())},n.Xa=function(){kl(this)};function kl(m){if(m.h&&typeof l<"u"){if(m.v&&Ui(m)==4)setTimeout(m.Ca.bind(m),0);else if(Pt(m,"readystatechange"),Ui(m)==4){m.h=!1;try{const ge=m.ca();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var z;if(z=ge===0){let je=String(m.D).match(ms)[1]||null;!je&&c.self&&c.self.location&&(je=c.self.location.protocol.slice(0,-1)),z=!la.test(je?je.toLowerCase():"")}A=z}if(A)Pt(m,"complete"),Pt(m,"success");else{m.o=6;try{var ae=Ui(m)>2?m.g.statusText:""}catch{ae=""}m.l=ae+" ["+m.ca()+"]",nu(m)}}finally{Da(m)}}}}function Da(m,T){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const A=m.g;m.g=null,T||Pt(m,"ready");try{A.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ui(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Ui(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),ds(T)}};function Jn(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function ka(m){const T={};m=(m.g&&Ui(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<m.length;z++){if(V(m[z]))continue;var A=k(m[z]);const ae=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const ge=T[ae]||[];T[ae]=ge,ge.push(A)}Je(T,function(z){return z.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function oa(m,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||T}function Es(m){this.za=0,this.i=[],this.j=new hr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=oa("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=oa("baseRetryDelayMs",5e3,m),this.Za=oa("retryDelaySeedMs",1e4,m),this.Ta=oa("forwardChannelMaxRetries",2,m),this.va=oa("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new jt(m&&m.concurrentRequestLimit),this.Ba=new ys,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Es.prototype,n.ka=8,n.I=1,n.connect=function(m,T,A,z){cn(0),this.W=m,this.H=T||{},A&&z!==void 0&&(this.H.OSID=A,this.H.OAID=z),this.F=this.X,this.J=uh(this,null,this.W),ca(this)};function ru(m){if(No(m),m.I==3){var T=m.V++,A=Sn(m.J);if(Bt(A,"SID",m.M),Bt(A,"RID",T),Bt(A,"TYPE","terminate"),Ml(m,A),T=new q(m,m.j,T),T.M=2,T.A=Nl(Sn(A)),A=!1,c.navigator&&c.navigator.sendBeacon)try{A=c.navigator.sendBeacon(T.A.toString(),"")}catch{}!A&&c.Image&&(new Image().src=T.A,A=!0),A||(T.g=fh(T.j,null),T.g.ea(T.A)),T.F=Date.now(),fe(T)}ch(m)}function Ts(m){m.g&&(au(m),m.g.cancel(),m.g=null)}function No(m){Ts(m),m.v&&(c.clearTimeout(m.v),m.v=null),Io(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function ca(m){if(!Ft(m.h)&&!m.m){m.m=!0;var T=m.Ea;te||O(),re||(te(),re=!0),N.add(T,m),m.D=0}}function Ro(m,T){return Jt(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=T.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=kr(d(m.Ea,m,T),oh(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const ae=new q(this,this.j,m);let ge=this.o;if(this.U&&(ge?(ge=ee(ge),J(ge,this.U)):ge=this.U),this.u!==null||this.R||(ae.J=ge,ge=null),this.S)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var z=this.i[A];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(T+=z,T>4096){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=ih(this,ae,T),A=Sn(this.J),Bt(A,"RID",m),Bt(A,"CVER",22),this.G&&Bt(A,"X-HTTP-Session-Id",this.G),Ml(this,A),ge&&(this.R?T="headers="+Pr(gi(ge))+"&"+T:this.u&&Ol(A,this.u,ge)),ji(this.h,ae),this.Ra&&Bt(A,"TYPE","init"),this.S?(Bt(A,"$req",T),Bt(A,"SID","null"),ae.U=!0,X(ae,A,null)):X(ae,A,T),this.I=2}}else this.I==3&&(m?iu(this,m):this.i.length==0||Ft(this.h)||iu(this))};function iu(m,T){var A;T?A=T.l:A=m.V++;const z=Sn(m.J);Bt(z,"SID",m.M),Bt(z,"RID",A),Bt(z,"AID",m.K),Ml(m,z),m.u&&m.o&&Ol(z,m.u,m.o),A=new q(m,m.j,A,m.D+1),m.u===null&&(A.J=m.o),T&&(m.i=T.G.concat(m.i)),T=ih(m,A,1e3),A.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),ji(m.h,A),X(A,z,T)}function Ml(m,T){m.H&&Ze(m.H,function(A,z){Bt(T,z,A)}),m.l&&Ze({},function(A,z){Bt(T,z,A)})}function ih(m,T,A){A=Math.min(m.i.length,A);const z=m.l?d(m.l.Ka,m.l,m):null;e:{var ae=m.i;let ht=-1;for(;;){const _n=["count="+A];ht==-1?A>0?(ht=ae[0].g,_n.push("ofs="+ht)):ht=0:_n.push("ofs="+ht);let Dt=!0;for(let un=0;un<A;un++){var ge=ae[un].g;const vi=ae[un].map;if(ge-=ht,ge<0)ht=Math.max(0,ae[un].g-100),Dt=!1;else try{ge="req"+ge+"_"||"";try{var je=vi instanceof Map?vi:Object.entries(vi);for(const[fa,zi]of je){let Hi=zi;f(zi)&&(Hi=$n(zi)),_n.push(ge+fa+"="+encodeURIComponent(Hi))}}catch(fa){throw _n.push(ge+"type="+encodeURIComponent("_badmap")),fa}}catch{z&&z(vi)}}if(Dt){je=_n.join("&");break e}}je=void 0}return m=m.i.splice(0,A),T.G=m,je}function ah(m){if(!m.g&&!m.v){m.Y=1;var T=m.Da;te||O(),re||(te(),re=!0),N.add(T,m),m.A=0}}function Pl(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=kr(d(m.Da,m),oh(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,sh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=kr(d(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,cn(10),Ts(this),sh(this))};function au(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function sh(m){m.g=new q(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var T=Sn(m.na);Bt(T,"RID","rpc"),Bt(T,"SID",m.M),Bt(T,"AID",m.K),Bt(T,"CI",m.F?"0":"1"),!m.F&&m.ia&&Bt(T,"TO",m.ia),Bt(T,"TYPE","xmlhttp"),Ml(m,T),m.u&&m.o&&Ol(T,m.u,m.o),m.O&&(m.g.H=m.O);var A=m.g;m=m.ba,A.M=1,A.A=Nl(Sn(T)),A.u=null,A.R=!0,oe(A,m)}n.Va=function(){this.C!=null&&(this.C=null,Ts(this),Pl(this),cn(19))};function Io(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function lh(m,T){var A=null;if(m.g==T){Io(m),au(m),m.g=null;var z=2}else if(mr(m.h,T))A=T.G,Fi(m.h,T),z=1;else return;if(m.I!=0){if(T.o)if(z==1){A=T.u?T.u.length:0,T=Date.now()-T.F;var ae=m.D;z=tn(),Pt(z,new Kn(z,A)),ca(m)}else ah(m);else if(ae=T.m,ae==3||ae==0&&T.X>0||!(z==1&&Ro(m,T)||z==2&&Pl(m)))switch(A&&A.length>0&&(T=m.h,T.i=T.i.concat(A)),ae){case 1:ua(m,5);break;case 4:ua(m,10);break;case 3:ua(m,6);break;default:ua(m,2)}}}function oh(m,T){let A=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(A*=2),A*T}function ua(m,T){if(m.j.info("Error code "+T),T==2){var A=d(m.bb,m),z=m.Ua;const ae=!z;z=new Qr(z||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Vn(z,"https"),Nl(z),ae?Bi(z.toString(),A):eu(z.toString(),A)}else cn(2);m.I=0,m.l&&m.l.pa(T),ch(m),No(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))};function ch(m){if(m.I=0,m.ja=[],m.l){const T=Kr(m.h);(T.length!=0||m.i.length!=0)&&(C(m.ja,T),C(m.ja,m.i),m.h.i.length=0,w(m.i),m.i.length=0),m.l.oa()}}function uh(m,T,A){var z=A instanceof Qr?Sn(A):new Qr(A);if(z.g!="")T&&(z.g=T+"."+z.g),ps(z,z.u);else{var ae=c.location;z=ae.protocol,T=T?T+"."+ae.hostname:ae.hostname,ae=+ae.port;const ge=new Qr(null);z&&Vn(ge,z),T&&(ge.g=T),ae&&ps(ge,ae),A&&(ge.h=A),z=ge}return A=m.G,T=m.wa,A&&T&&Bt(z,A,T),Bt(z,"VER",m.ka),Ml(m,z),z}function fh(m,T,A){if(T&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Aa&&!m.ma?new Xt(new sa({ab:A})):new Xt(m.ma),T.Fa(m.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hh(){}n=hh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ws(){}ws.prototype.g=function(m,T){return new Ar(m,T)};function Ar(m,T){Nt.call(this),this.g=new Es(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(m?m["X-WebChannel-Client-Profile"]=T.sa:m={"X-WebChannel-Client-Profile":T.sa}),this.g.U=m,(m=T&&T.Qb)&&!V(m)&&(this.g.u=m),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!V(T)&&(this.g.G=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new Ma(this)}y(Ar,Nt),Ar.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ar.prototype.close=function(){ru(this.g)},Ar.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.v&&(A={},A.__data__=$n(m),m=A);T.i.push(new We(T.Ya++,m)),T.I==3&&ca(T)},Ar.prototype.N=function(){this.g.l=null,delete this.j,ru(this.g),delete this.g,Ar.Z.N.call(this)};function dh(m){Me.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const A in T){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}y(dh,Me);function mh(){He.call(this),this.status=1}y(mh,He);function Ma(m){this.g=m}y(Ma,hh),Ma.prototype.ra=function(){Pt(this.g,"a")},Ma.prototype.qa=function(m){Pt(this.g,new dh(m))},Ma.prototype.pa=function(m){Pt(this.g,new mh)},Ma.prototype.oa=function(){Pt(this.g,"b")},ws.prototype.createWebChannel=ws.prototype.g,Ar.prototype.send=Ar.prototype.o,Ar.prototype.open=Ar.prototype.m,Ar.prototype.close=Ar.prototype.close,$w=function(){return new ws},Ww=function(){return tn()},Xw=Ie,Zg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pi.NO_ERROR=0,Pi.TIMEOUT=8,Pi.HTTP_ERROR=6,F0=Pi,Li.COMPLETE="complete",Yw=Li,Ia.EventType=se,se.OPEN="a",se.CLOSE="b",se.ERROR="c",se.MESSAGE="d",Nt.prototype.listen=Nt.prototype.J,$u=Ia,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,Gw=Xt}).apply(typeof y0<"u"?y0:typeof self<"u"?self:typeof window<"u"?window:{});const J2="@firebase/firestore",Z2="4.9.2";let xr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};xr.UNAUTHENTICATED=new xr(null),xr.GOOGLE_CREDENTIALS=new xr("google-credentials-uid"),xr.FIRST_PARTY=new xr("first-party-uid"),xr.MOCK_USER=new xr("mock-user");let Uc="12.3.0";const oo=new P1("@firebase/firestore");function uc(){return oo.logLevel}function Ge(n,...e){if(oo.logLevel<=Tt.DEBUG){const t=e.map(F1);oo.debug(`Firestore (${Uc}): ${n}`,...t)}}function as(n,...e){if(oo.logLevel<=Tt.ERROR){const t=e.map(F1);oo.error(`Firestore (${Uc}): ${n}`,...t)}}function Rc(n,...e){if(oo.logLevel<=Tt.WARN){const t=e.map(F1);oo.warn(`Firestore (${Uc}): ${n}`,...t)}}function F1(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function it(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Kw(n,r,t)}function Kw(n,e,t){let r=`FIRESTORE (${Uc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw as(r),new Error(r)}function Lt(n,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,n||Kw(e,a,r)}function ct(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Qe extends fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class no{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Qw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class n5{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(xr.UNAUTHENTICATED)))}shutdown(){}}class r5{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class i5{constructor(e){this.t=e,this.currentUser=xr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Lt(this.o===void 0,42304);let r=this.i;const a=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let l=new no;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new no,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const h=l;e.enqueueRetryable((async()=>{await h.promise,await a(this.currentUser)}))},f=h=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((h=>f(h))),setTimeout((()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?f(h):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new no)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Lt(typeof r.accessToken=="string",31837,{l:r}),new Qw(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string",2055,{h:e}),new xr(e)}}class a5{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=xr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class s5{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new a5(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(xr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class eE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l5{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ki(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Lt(this.o===void 0,3512);const r=l=>{l.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new eE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Lt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new eE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function o5(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class B1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=o5(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function e1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const a=n.charAt(r),l=e.charAt(r);if(a!==l)return Sg(a)===Sg(l)?wt(a,l):Sg(a)?1:-1}return wt(n.length,e.length)}const c5=55296,u5=57343;function Sg(n){const e=n.charCodeAt(0);return e>=c5&&e<=u5}function Ic(n,e,t){return n.length===e.length&&n.every(((r,a)=>t(r,e[a])))}const tE="__name__";class xa{constructor(e,t,r){t===void 0?t=0:t>e.length&&it(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&it(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return xa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof xa?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=xa.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return wt(e.length,t.length)}static compareSegments(e,t){const r=xa.isNumericId(e),a=xa.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?xa.extractNumericId(e).compare(xa.extractNumericId(t)):e1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return al.fromString(e.substring(4,e.length-2))}}class sn extends xa{construct(e,t,r){return new sn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Qe(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new sn(t)}static emptyPath(){return new sn([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends xa{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return f5.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tE}static keyField(){return new sr([tE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Qe(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Qe(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[a+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Qe(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,a+=2}else f==="`"?(c=!c,a++):f!=="."||c?(r+=f,a++):(l(),a++)}if(l(),c)throw new Qe(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class tt{constructor(e){this.path=e}static fromPath(e){return new tt(sn.fromString(e))}static fromName(e){return new tt(sn.fromString(e).popFirst(5))}static empty(){return new tt(sn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&sn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return sn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new tt(new sn(e.slice()))}}function Jw(n,e,t){if(!t)throw new Qe(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function h5(n,e,t,r){if(e===!0&&r===!0)throw new Qe(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function nE(n){if(!tt.isDocumentKey(n))throw new Qe(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function rE(n){if(tt.isDocumentKey(n))throw new Qe(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Zw(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function V1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":it(12329,{type:typeof n})}function ea(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Qe(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=V1(n);throw new Qe(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Dn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Mf(n,e){if(!Zw(n))throw new Qe(Ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new Qe(Ae.INVALID_ARGUMENT,t);return!0}const iE=-62135596800,aE=1e6;class ln{static now(){return ln.fromMillis(Date.now())}static fromDate(e){return ln.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*aE);return new ln(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<iE)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Qe(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/aE}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ln._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mf(e,ln._jsonSchema))return new ln(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-iE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ln._jsonSchemaVersion="firestore/timestamp/1.0",ln._jsonSchema={type:Dn("string",ln._jsonSchemaVersion),seconds:Dn("number"),nanoseconds:Dn("number")};class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new ln(0,0))}static max(){return new st(new ln(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const gf=-1;function d5(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,a=st.fromTimestamp(r===1e9?new ln(t+1,0):new ln(t,r));return new ul(a,tt.empty(),e)}function m5(n){return new ul(n.readTime,n.key,gf)}class ul{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ul(st.min(),tt.empty(),gf)}static max(){return new ul(st.max(),tt.empty(),gf)}}function p5(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=tt.comparator(n.documentKey,e.documentKey),t!==0?t:wt(n.largestBatchId,e.largestBatchId))}const g5="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class v5{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function zc(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==g5)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):we.reject(t)}static resolve(e){return new we(((t,r)=>{t(e)}))}static reject(e){return new we(((t,r)=>{r(e)}))}static waitFor(e){return new we(((t,r)=>{let a=0,l=0,c=!1;e.forEach((f=>{++a,f.next((()=>{++l,c&&l===a&&t()}),(h=>r(h)))})),c=!0,l===a&&t()}))}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next((a=>a?we.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new we(((r,a)=>{const l=e.length,c=new Array(l);let f=0;for(let h=0;h<l;h++){const d=h;t(e[d]).next((p=>{c[d]=p,++f,f===l&&r(c)}),(p=>a(p)))}}))}static doWhile(e,t){return new we(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}function x5(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Hc(n){return n.name==="IndexedDbTransactionError"}class Bd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bd.ce=-1;const U1=-1;function Vd(n){return n==null}function J0(n){return n===0&&1/n==-1/0}function y5(n){return typeof n=="number"&&Number.isInteger(n)&&!J0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const eb="";function _5(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sE(e)),e=E5(n.get(t),e);return sE(e)}function E5(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case eb:t+="";break;default:t+=l}}return t}function sE(n){return n+eb+""}function lE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function wl(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function tb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class pn{constructor(e,t){this.comparator=e,this.root=t||ar.EMPTY}insert(e,t){return new pn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ar.BLACK,null,null))}remove(e){return new pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ar.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _0(this.root,e,this.comparator,!1)}getReverseIterator(){return new _0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _0(this.root,e,this.comparator,!0)}}class _0{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ar{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??ar.RED,this.left=a??ar.EMPTY,this.right=l??ar.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new ar(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ar.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return ar.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ar.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ar.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw it(43730,{key:this.key,value:this.value});if(this.right.isRed())throw it(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw it(27949);return e+(this.isRed()?0:1)}}ar.EMPTY=null,ar.RED=!0,ar.BLACK=!1;ar.EMPTY=new class{constructor(){this.size=0}get key(){throw it(57766)}get value(){throw it(16141)}get color(){throw it(16727)}get left(){throw it(29726)}get right(){throw it(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new ar(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new pn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oE(this.data.getIterator())}getIteratorFrom(e){return new oE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class oE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new ui([])}unionWith(e){let t=new Bn(sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ui(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ic(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new nb("Invalid base64 string: "+l):l}})(e);return new ur(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const T5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fl(n){if(Lt(!!n,39018),typeof n=="string"){let e=0;const t=T5.exec(n);if(Lt(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:wn(n.seconds),nanos:wn(n.nanos)}}function wn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function hl(n){return typeof n=="string"?ur.fromBase64String(n):ur.fromUint8Array(n)}const rb="server_timestamp",ib="__type__",ab="__previous_value__",sb="__local_write_time__";function z1(n){return(n?.mapValue?.fields||{})[ib]?.stringValue===rb}function Ud(n){const e=n.mapValue.fields[ab];return z1(e)?Ud(e):e}function vf(n){const e=fl(n.mapValue.fields[sb].timestampValue);return new ln(e.seconds,e.nanos)}class w5{constructor(e,t,r,a,l,c,f,h,d,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=h,this.useFetchStreams=d,this.isUsingEmulator=p}}const Z0="(default)";class xf{constructor(e,t){this.projectId=e,this.database=t||Z0}static empty(){return new xf("","")}get isDefaultDatabase(){return this.database===Z0}isEqual(e){return e instanceof xf&&e.projectId===this.projectId&&e.database===this.database}}const lb="__type__",b5="__max__",E0={mapValue:{}},ob="__vector__",ed="value";function dl(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z1(n)?4:A5(n)?9007199254740991:S5(n)?10:11:it(28295,{value:n})}function Aa(n,e){if(n===e)return!0;const t=dl(n);if(t!==dl(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vf(n).isEqual(vf(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=fl(a.timestampValue),f=fl(l.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return hl(a.bytesValue).isEqual(hl(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return wn(a.geoPointValue.latitude)===wn(l.geoPointValue.latitude)&&wn(a.geoPointValue.longitude)===wn(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return wn(a.integerValue)===wn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=wn(a.doubleValue),f=wn(l.doubleValue);return c===f?J0(c)===J0(f):isNaN(c)&&isNaN(f)}return!1})(n,e);case 9:return Ic(n.arrayValue.values||[],e.arrayValue.values||[],Aa);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},f=l.mapValue.fields||{};if(lE(c)!==lE(f))return!1;for(const h in c)if(c.hasOwnProperty(h)&&(f[h]===void 0||!Aa(c[h],f[h])))return!1;return!0})(n,e);default:return it(52216,{left:n})}}function yf(n,e){return(n.values||[]).find((t=>Aa(t,e)))!==void 0}function Oc(n,e){if(n===e)return 0;const t=dl(n),r=dl(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const f=wn(l.integerValue||l.doubleValue),h=wn(c.integerValue||c.doubleValue);return f<h?-1:f>h?1:f===h?0:isNaN(f)?isNaN(h)?0:-1:1})(n,e);case 3:return cE(n.timestampValue,e.timestampValue);case 4:return cE(vf(n),vf(e));case 5:return e1(n.stringValue,e.stringValue);case 6:return(function(l,c){const f=hl(l),h=hl(c);return f.compareTo(h)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const f=l.split("/"),h=c.split("/");for(let d=0;d<f.length&&d<h.length;d++){const p=wt(f[d],h[d]);if(p!==0)return p}return wt(f.length,h.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const f=wt(wn(l.latitude),wn(c.latitude));return f!==0?f:wt(wn(l.longitude),wn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return uE(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const f=l.fields||{},h=c.fields||{},d=f[ed]?.arrayValue,p=h[ed]?.arrayValue,y=wt(d?.values?.length||0,p?.values?.length||0);return y!==0?y:uE(d,p)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===E0.mapValue&&c===E0.mapValue)return 0;if(l===E0.mapValue)return 1;if(c===E0.mapValue)return-1;const f=l.fields||{},h=Object.keys(f),d=c.fields||{},p=Object.keys(d);h.sort(),p.sort();for(let y=0;y<h.length&&y<p.length;++y){const _=e1(h[y],p[y]);if(_!==0)return _;const w=Oc(f[h[y]],d[p[y]]);if(w!==0)return w}return wt(h.length,p.length)})(n.mapValue,e.mapValue);default:throw it(23264,{he:t})}}function cE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return wt(n,e);const t=fl(n),r=fl(e),a=wt(t.seconds,r.seconds);return a!==0?a:wt(t.nanos,r.nanos)}function uE(n,e){const t=n.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Oc(t[a],r[a]);if(l)return l}return wt(t.length,r.length)}function Dc(n){return t1(n)}function t1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=fl(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return hl(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return tt.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=t1(l);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${t1(t.fields[c])}`;return a+"}"})(n.mapValue):it(61005,{value:n})}function B0(n){switch(dl(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ud(n);return e?16+B0(e):16;case 5:return 2*n.stringValue.length;case 6:return hl(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+B0(l)),0)})(n.arrayValue);case 10:case 11:return(function(r){let a=0;return wl(r.fields,((l,c)=>{a+=l.length+B0(c)})),a})(n.mapValue);default:throw it(13486,{value:n})}}function n1(n){return!!n&&"integerValue"in n}function H1(n){return!!n&&"arrayValue"in n}function fE(n){return!!n&&"nullValue"in n}function hE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function V0(n){return!!n&&"mapValue"in n}function S5(n){return(n?.mapValue?.fields||{})[lb]?.stringValue===ob}function nf(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return wl(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=nf(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=nf(n.arrayValue.values[t]);return e}return{...n}}function A5(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===b5}class Gr{constructor(e){this.value=e}static empty(){return new Gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!V0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=nf(t)}setAll(e){let t=sr.emptyPath(),r={},a=[];e.forEach(((c,f)=>{if(!t.isImmediateParentOf(f)){const h=this.getFieldsMap(t);this.applyChanges(h,r,a),r={},a=[],t=f.popLast()}c?r[f.lastSegment()]=nf(c):a.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());V0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Aa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];V0(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){wl(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new Gr(nf(this.value))}}function cb(n){const e=[];return wl(n.fields,((t,r)=>{const a=new sr([t]);if(V0(r)){const l=cb(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ui(e)}class yr{constructor(e,t,r,a,l,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=f}static newInvalidDocument(e){return new yr(e,0,st.min(),st.min(),st.min(),Gr.empty(),0)}static newFoundDocument(e,t,r,a){return new yr(e,1,t,st.min(),r,a,0)}static newNoDocument(e,t){return new yr(e,2,t,st.min(),st.min(),Gr.empty(),0)}static newUnknownDocument(e,t){return new yr(e,3,t,st.min(),st.min(),Gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof yr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class td{constructor(e,t){this.position=e,this.inclusive=t}}function dE(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?r=tt.comparator(tt.fromName(c.referenceValue),t.key):r=Oc(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function mE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Aa(n.position[t],e.position[t]))return!1;return!0}class nd{constructor(e,t="asc"){this.field=e,this.dir=t}}function C5(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class ub{}class Fn extends ub{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new R5(e,t,r):t==="array-contains"?new D5(e,r):t==="in"?new k5(e,r):t==="not-in"?new M5(e,r):t==="array-contains-any"?new P5(e,r):new Fn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new I5(e,r):new O5(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Oc(t,this.value)):t!==null&&dl(this.value)===dl(t)&&this.matchesComparison(Oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return it(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ca extends ub{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ca(e,t)}matches(e){return fb(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fb(n){return n.op==="and"}function hb(n){return N5(n)&&fb(n)}function N5(n){for(const e of n.filters)if(e instanceof Ca)return!1;return!0}function r1(n){if(n instanceof Fn)return n.field.canonicalString()+n.op.toString()+Dc(n.value);if(hb(n))return n.filters.map((e=>r1(e))).join(",");{const e=n.filters.map((t=>r1(t))).join(",");return`${n.op}(${e})`}}function db(n,e){return n instanceof Fn?(function(r,a){return a instanceof Fn&&r.op===a.op&&r.field.isEqual(a.field)&&Aa(r.value,a.value)})(n,e):n instanceof Ca?(function(r,a){return a instanceof Ca&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,f)=>l&&db(c,a.filters[f])),!0):!1})(n,e):void it(19439)}function mb(n){return n instanceof Fn?(function(t){return`${t.field.canonicalString()} ${t.op} ${Dc(t.value)}`})(n):n instanceof Ca?(function(t){return t.op.toString()+" {"+t.getFilters().map(mb).join(" ,")+"}"})(n):"Filter"}class R5 extends Fn{constructor(e,t,r){super(e,t,r),this.key=tt.fromName(r.referenceValue)}matches(e){const t=tt.comparator(e.key,this.key);return this.matchesComparison(t)}}class I5 extends Fn{constructor(e,t){super(e,"in",t),this.keys=pb("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class O5 extends Fn{constructor(e,t){super(e,"not-in",t),this.keys=pb("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function pb(n,e){return(e.arrayValue?.values||[]).map((t=>tt.fromName(t.referenceValue)))}class D5 extends Fn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return H1(t)&&yf(t.arrayValue,this.value)}}class k5 extends Fn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yf(this.value.arrayValue,t)}}class M5 extends Fn{constructor(e,t){super(e,"not-in",t)}matches(e){if(yf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!yf(this.value.arrayValue,t)}}class P5 extends Fn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!H1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>yf(this.value.arrayValue,r)))}}class L5{constructor(e,t=null,r=[],a=[],l=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=f,this.Te=null}}function pE(n,e=null,t=[],r=[],a=null,l=null,c=null){return new L5(n,e,t,r,a,l,c)}function q1(n){const e=ct(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>r1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),Vd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>Dc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>Dc(r))).join(",")),e.Te=t}return e.Te}function G1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!C5(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!db(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mE(n.startAt,e.startAt)&&mE(n.endAt,e.endAt)}function i1(n){return tt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class zd{constructor(e,t=null,r=[],a=[],l=null,c="F",f=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=f,this.endAt=h,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j5(n,e,t,r,a,l,c,f){return new zd(n,e,t,r,a,l,c,f)}function Y1(n){return new zd(n)}function gE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function F5(n){return n.collectionGroup!==null}function rf(n){const e=ct(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new Bn(sr.comparator);return c.filters.forEach((h=>{h.getFlattenedFilters().forEach((d=>{d.isInequality()&&(f=f.add(d.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new nd(l,r))})),t.has(sr.keyField().canonicalString())||e.Ie.push(new nd(sr.keyField(),r))}return e.Ie}function _a(n){const e=ct(n);return e.Ee||(e.Ee=B5(e,rf(n))),e.Ee}function B5(n,e){if(n.limitType==="F")return pE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new nd(a.field,l)}));const t=n.endAt?new td(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new td(n.startAt.position,n.startAt.inclusive):null;return pE(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function a1(n,e,t){return new zd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return G1(_a(n),_a(e))&&n.limitType===e.limitType}function gb(n){return`${q1(_a(n))}|lt:${n.limitType}`}function fc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>mb(a))).join(", ")}]`),Vd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>Dc(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>Dc(a))).join(",")),`Target(${r})`})(_a(n))}; limitType=${n.limitType})`}function qd(n,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):tt.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(n,e)&&(function(r,a){for(const l of rf(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(r,a){return!(r.startAt&&!(function(c,f,h){const d=dE(c,f,h);return c.inclusive?d<=0:d<0})(r.startAt,rf(r),a)||r.endAt&&!(function(c,f,h){const d=dE(c,f,h);return c.inclusive?d>=0:d>0})(r.endAt,rf(r),a))})(n,e)}function V5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vb(n){return(e,t)=>{let r=!1;for(const a of rf(n)){const l=U5(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function U5(n,e,t){const r=n.field.isKeyField()?tt.comparator(e.key,t.key):(function(l,c,f){const h=c.data.field(l),d=f.data.field(l);return h!==null&&d!==null?Oc(h,d):it(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it(19790,{direction:n.dir})}}class go{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){wl(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return tb(this.inner)}size(){return this.innerSize}}const z5=new pn(tt.comparator);function ss(){return z5}const xb=new pn(tt.comparator);function Ku(...n){let e=xb;for(const t of n)e=e.insert(t.key,t);return e}function yb(n){let e=xb;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function eo(){return af()}function _b(){return af()}function af(){return new go((n=>n.toString()),((n,e)=>n.isEqual(e)))}const H5=new pn(tt.comparator),q5=new Bn(tt.comparator);function bt(...n){let e=q5;for(const t of n)e=e.add(t);return e}const G5=new Bn(wt);function Y5(){return G5}function X1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J0(e)?"-0":e}}function Eb(n){return{integerValue:""+n}}function X5(n,e){return y5(e)?Eb(e):X1(n,e)}class Gd{constructor(){this._=void 0}}function W5(n,e,t){return n instanceof rd?(function(a,l){const c={fields:{[ib]:{stringValue:rb},[sb]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&z1(l)&&(l=Ud(l)),l&&(c.fields[ab]=l),{mapValue:c}})(t,e):n instanceof _f?wb(n,e):n instanceof Ef?bb(n,e):(function(a,l){const c=Tb(a,l),f=vE(c)+vE(a.Ae);return n1(c)&&n1(a.Ae)?Eb(f):X1(a.serializer,f)})(n,e)}function $5(n,e,t){return n instanceof _f?wb(n,e):n instanceof Ef?bb(n,e):t}function Tb(n,e){return n instanceof id?(function(r){return n1(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class rd extends Gd{}class _f extends Gd{constructor(e){super(),this.elements=e}}function wb(n,e){const t=Sb(e);for(const r of n.elements)t.some((a=>Aa(a,r)))||t.push(r);return{arrayValue:{values:t}}}class Ef extends Gd{constructor(e){super(),this.elements=e}}function bb(n,e){let t=Sb(e);for(const r of n.elements)t=t.filter((a=>!Aa(a,r)));return{arrayValue:{values:t}}}class id extends Gd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function vE(n){return wn(n.integerValue||n.doubleValue)}function Sb(n){return H1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function K5(n,e){return n.field.isEqual(e.field)&&(function(r,a){return r instanceof _f&&a instanceof _f||r instanceof Ef&&a instanceof Ef?Ic(r.elements,a.elements,Aa):r instanceof id&&a instanceof id?Aa(r.Ae,a.Ae):r instanceof rd&&a instanceof rd})(n.transform,e.transform)}class Q5{constructor(e,t){this.version=e,this.transformResults=t}}class Ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function U0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yd{}function Ab(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Xd(n.key,Ir.none()):new Pf(n.key,n.data,Ir.none());{const t=n.data,r=Gr.empty();let a=new Bn(sr.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new bl(n.key,r,new ui(a.toArray()),Ir.none())}}function J5(n,e,t){n instanceof Pf?(function(a,l,c){const f=a.value.clone(),h=yE(a.fieldTransforms,l,c.transformResults);f.setAll(h),l.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,e,t):n instanceof bl?(function(a,l,c){if(!U0(a.precondition,l))return void l.convertToUnknownDocument(c.version);const f=yE(a.fieldTransforms,l,c.transformResults),h=l.data;h.setAll(Cb(a)),h.setAll(f),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function sf(n,e,t,r){return n instanceof Pf?(function(l,c,f,h){if(!U0(l.precondition,c))return f;const d=l.value.clone(),p=_E(l.fieldTransforms,h,c);return d.setAll(p),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof bl?(function(l,c,f,h){if(!U0(l.precondition,c))return f;const d=_E(l.fieldTransforms,h,c),p=c.data;return p.setAll(Cb(l)),p.setAll(d),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((y=>y.field)))})(n,e,t,r):(function(l,c,f){return U0(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f})(n,e,t)}function Z5(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Tb(r.transform,a||null);l!=null&&(t===null&&(t=Gr.empty()),t.set(r.field,l))}return t||null}function xE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&Ic(r,a,((l,c)=>K5(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pf extends Yd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class bl extends Yd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Cb(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function yE(n,e,t){const r=new Map;Lt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,f=e.data.field(l.field);r.set(l.field,$5(c,f,t[a]))}return r}function _E(n,e,t){const r=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);r.set(a.field,W5(l,c,e))}return r}class Xd extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eI extends Yd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tI{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&J5(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=sf(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=_b();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let f=this.applyToLocalView(c,l.mutatedFields);f=t.has(a.key)?null:f;const h=Ab(c,f);h!==null&&r.set(a.key,h),c.isValidDocument()||c.convertToNoDocument(st.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),bt())}isEqual(e){return this.batchId===e.batchId&&Ic(this.mutations,e.mutations,((t,r)=>xE(t,r)))&&Ic(this.baseMutations,e.baseMutations,((t,r)=>xE(t,r)))}}class W1{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){Lt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return H5})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new W1(e,t,r,a)}}class nI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rI{constructor(e,t){this.count=e,this.unchangedNames=t}}var On,At;function iI(n){switch(n){case Ae.OK:return it(64938);case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0;default:return it(15467,{code:n})}}function Nb(n){if(n===void 0)return as("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case On.OK:return Ae.OK;case On.CANCELLED:return Ae.CANCELLED;case On.UNKNOWN:return Ae.UNKNOWN;case On.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case On.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case On.INTERNAL:return Ae.INTERNAL;case On.UNAVAILABLE:return Ae.UNAVAILABLE;case On.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case On.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case On.NOT_FOUND:return Ae.NOT_FOUND;case On.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case On.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case On.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case On.ABORTED:return Ae.ABORTED;case On.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case On.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case On.DATA_LOSS:return Ae.DATA_LOSS;default:return it(39323,{code:n})}}(At=On||(On={}))[At.OK=0]="OK",At[At.CANCELLED=1]="CANCELLED",At[At.UNKNOWN=2]="UNKNOWN",At[At.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",At[At.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",At[At.NOT_FOUND=5]="NOT_FOUND",At[At.ALREADY_EXISTS=6]="ALREADY_EXISTS",At[At.PERMISSION_DENIED=7]="PERMISSION_DENIED",At[At.UNAUTHENTICATED=16]="UNAUTHENTICATED",At[At.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",At[At.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",At[At.ABORTED=10]="ABORTED",At[At.OUT_OF_RANGE=11]="OUT_OF_RANGE",At[At.UNIMPLEMENTED=12]="UNIMPLEMENTED",At[At.INTERNAL=13]="INTERNAL",At[At.UNAVAILABLE=14]="UNAVAILABLE",At[At.DATA_LOSS=15]="DATA_LOSS";function aI(){return new TextEncoder}const sI=new al([4294967295,4294967295],0);function EE(n){const e=aI().encode(n),t=new qw;return t.update(e),new Uint8Array(t.digest())}function TE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new al([t,r],0),new al([a,l],0)]}class $1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qu(`Invalid padding: ${t}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=al.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(al.fromNumber(r)));return a.compare(sI)===1&&(a=new al([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=EE(e),[r,a]=TE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $1(l,a,t);return r.forEach((f=>c.insert(f))),c}insert(e){if(this.ge===0)return;const t=EE(e),[r,a]=TE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Lf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Wd(st.min(),a,new pn(wt),ss(),bt())}}class Lf{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Lf(r,t,bt(),bt(),bt())}}class z0{constructor(e,t,r,a){this.be=e,this.removedTargetIds=t,this.key=r,this.De=a}}class Rb{constructor(e,t){this.targetId=e,this.Ce=t}}class Ib{constructor(e,t,r=ur.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class wE{constructor(){this.ve=0,this.Fe=bE(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=bt(),t=bt(),r=bt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:it(38017,{changeType:l})}})),new Lf(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=bE()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Lt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ss(),this.Je=T0(),this.He=T0(),this.Ye=new pn(wt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:it(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(i1(l))if(r===0){const c=new tt(l.path);this.et(t,c,yr.newNoDocument(c,st.min()))}else Lt(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const f=this.ut(e),h=f?this.ct(f,e,c):1;if(h!==0){this.it(t);const d=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,f;try{c=hl(r).toUint8Array()}catch(h){if(h instanceof nb)return Rc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{f=new $1(c,a,l)}catch(h){return Rc(h instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return f.ge===0?null:f}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),f=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const f=this.ot(c);if(f){if(l.current&&i1(f.target)){const h=new tt(f.target.path);this.It(h).has(c)||this.Et(c,h)||this.et(c,h,yr.newNoDocument(h,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let r=bt();this.He.forEach(((l,c)=>{let f=!0;c.forEachWhile((h=>{const d=this.ot(h);return!d||d.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Wd(e,t,this.Ye,this.je,r);return this.je=ss(),this.Je=T0(),this.He=T0(),this.Ye=new pn(wt),a}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.Qe(t,1):a.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new wE,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bn(wt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bn(wt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new wE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function T0(){return new pn(tt.comparator)}function bE(){return new pn(tt.comparator)}const oI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uI={and:"AND",or:"OR"};class fI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function s1(n,e){return n.useProto3Json||Vd(e)?e:{value:e}}function ad(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ob(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function hI(n,e){return ad(n,e.toTimestamp())}function Ea(n){return Lt(!!n,49232),st.fromTimestamp((function(t){const r=fl(t);return new ln(r.seconds,r.nanos)})(n))}function K1(n,e){return l1(n,e).canonicalString()}function l1(n,e){const t=(function(a){return new sn(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Db(n){const e=sn.fromString(n);return Lt(jb(e),10190,{key:e.toString()}),e}function o1(n,e){return K1(n.databaseId,e.path)}function Ag(n,e){const t=Db(e);if(t.get(1)!==n.databaseId.projectId)throw new Qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Qe(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new tt(Mb(t))}function kb(n,e){return K1(n.databaseId,e)}function dI(n){const e=Db(n);return e.length===4?sn.emptyPath():Mb(e)}function c1(n){return new sn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Mb(n){return Lt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function SE(n,e,t){return{name:o1(n,e),fields:t.value.mapValue.fields}}function mI(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:it(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(d,p){return d.useProto3Json?(Lt(p===void 0||typeof p=="string",58123),ur.fromBase64String(p||"")):(Lt(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),ur.fromUint8Array(p||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&(function(d){const p=d.code===void 0?Ae.UNKNOWN:Nb(d.code);return new Qe(p,d.message||"")})(c);t=new Ib(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ag(n,r.document.name),l=Ea(r.document.updateTime),c=r.document.createTime?Ea(r.document.createTime):st.min(),f=new Gr({mapValue:{fields:r.document.fields}}),h=yr.newFoundDocument(a,l,c,f),d=r.targetIds||[],p=r.removedTargetIds||[];t=new z0(d,p,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ag(n,r.document),l=r.readTime?Ea(r.readTime):st.min(),c=yr.newNoDocument(a,l),f=r.removedTargetIds||[];t=new z0([],f,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ag(n,r.document),l=r.removedTargetIds||[];t=new z0([],l,a,null)}else{if(!("filter"in e))return it(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new rI(a,l),f=r.targetId;t=new Rb(f,c)}}return t}function pI(n,e){let t;if(e instanceof Pf)t={update:SE(n,e.key,e.value)};else if(e instanceof Xd)t={delete:o1(n,e.key)};else if(e instanceof bl)t={update:SE(n,e.key,e.data),updateMask:bI(e.fieldMask)};else{if(!(e instanceof eI))return it(16599,{Vt:e.type});t={verify:o1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const f=c.transform;if(f instanceof rd)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof _f)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Ef)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof id)return{fieldPath:c.field.canonicalString(),increment:f.Ae};throw it(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:hI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:it(27497)})(n,e.precondition)),t}function gI(n,e){return n&&n.length>0?(Lt(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?Ea(a.updateTime):Ea(l);return c.isEqual(st.min())&&(c=Ea(l)),new Q5(c,a.transformResults||[])})(t,e)))):[]}function vI(n,e){return{documents:[kb(n,e.path)]}}function xI(n,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=kb(n,a);const l=(function(d){if(d.length!==0)return Lb(Ca.create(d,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(d){if(d.length!==0)return d.map((p=>(function(_){return{field:hc(_.field),direction:EI(_.dir)}})(p)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const f=s1(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:a}}function yI(n){let e=dI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){Lt(r===1,65062);const p=t.from[0];p.allDescendants?a=p.collectionId:e=e.child(p.collectionId)}let l=[];t.where&&(l=(function(y){const _=Pb(y);return _ instanceof Ca&&hb(_)?_.getFilters():[_]})(t.where));let c=[];t.orderBy&&(c=(function(y){return y.map((_=>(function(C){return new nd(dc(C.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(_)))})(t.orderBy));let f=null;t.limit&&(f=(function(y){let _;return _=typeof y=="object"?y.value:y,Vd(_)?null:_})(t.limit));let h=null;t.startAt&&(h=(function(y){const _=!!y.before,w=y.values||[];return new td(w,_)})(t.startAt));let d=null;return t.endAt&&(d=(function(y){const _=!y.before,w=y.values||[];return new td(w,_)})(t.endAt)),j5(e,a,c,l,f,"F",h,d)}function _I(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return it(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Pb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=dc(t.unaryFilter.field);return Fn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=dc(t.unaryFilter.field);return Fn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=dc(t.unaryFilter.field);return Fn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=dc(t.unaryFilter.field);return Fn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return it(61313);default:return it(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Fn.create(dc(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return it(58110);default:return it(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ca.create(t.compositeFilter.filters.map((r=>Pb(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return it(1026)}})(t.compositeFilter.op))})(n):it(30097,{filter:n})}function EI(n){return oI[n]}function TI(n){return cI[n]}function wI(n){return uI[n]}function hc(n){return{fieldPath:n.canonicalString()}}function dc(n){return sr.fromServerFormat(n.fieldPath)}function Lb(n){return n instanceof Fn?(function(t){if(t.op==="=="){if(hE(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NAN"}};if(fE(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(hE(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NAN"}};if(fE(t.value))return{unaryFilter:{field:hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(t.field),op:TI(t.op),value:t.value}}})(n):n instanceof Ca?(function(t){const r=t.getFilters().map((a=>Lb(a)));return r.length===1?r[0]:{compositeFilter:{op:wI(t.op),filters:r}}})(n):it(54877,{filter:n})}function bI(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function jb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Zs{constructor(e,t,r,a,l=st.min(),c=st.min(),f=ur.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=h}withSequenceNumber(e){return new Zs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class SI{constructor(e){this.yt=e}}function AI(n){const e=yI({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?a1(e,e.limit,"L"):e}class CI{constructor(){this.Cn=new NI}addToCollectionParentIndex(e,t){return this.Cn.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return we.resolve()}deleteFieldIndex(e,t){return we.resolve()}deleteAllFieldIndexes(e){return we.resolve()}createTargetIndexes(e,t){return we.resolve()}getDocumentsMatchingTarget(e,t){return we.resolve(null)}getIndexType(e,t){return we.resolve(0)}getFieldIndexes(e,t){return we.resolve([])}getNextCollectionGroupToUpdate(e){return we.resolve(null)}getMinOffset(e,t){return we.resolve(ul.min())}getMinOffsetFromCollectionGroup(e,t){return we.resolve(ul.min())}updateCollectionGroup(e,t,r){return we.resolve()}updateIndexEntries(e,t){return we.resolve()}}class NI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Bn(sn.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Bn(sn.comparator)).toArray()}}const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fb=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(Fb,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);class kc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new kc(0)}static cr(){return new kc(-1)}}const CE="LruGarbageCollector",RI=1048576;function NE([n,e],[t,r]){const a=wt(n,t);return a===0?wt(e,r):a}class II{constructor(e){this.Ir=e,this.buffer=new Bn(NE),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class OI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(CE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Hc(t)?Ge(CE,"Ignoring IndexedDB error during garbage collection: ",t):await zc(t)}await this.Vr(3e5)}))}}class DI{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return we.resolve(Bd.ce);const r=new II(t);return this.mr.forEachTarget(e,(a=>r.Ar(a.sequenceNumber))).next((()=>this.mr.pr(e,(a=>r.Ar(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(AE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,a,l,c,f,h,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),a=this.params.maximumSequenceNumbersToCollect):a=y,c=Date.now(),this.nthSequenceNumber(e,a)))).next((y=>(r=y,f=Date.now(),this.removeTargets(e,r,t)))).next((y=>(l=y,h=Date.now(),this.removeOrphanedDocuments(e,r)))).next((y=>(d=Date.now(),uc()<=Tt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-p}ms
	Determined least recently used ${a} in `+(f-c)+`ms
	Removed ${l} targets in `+(h-f)+`ms
	Removed ${y} documents in `+(d-h)+`ms
Total Duration: ${d-p}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:y}))))}}function kI(n,e){return new DI(n,e)}class MI{constructor(){this.changes=new go((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?we.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class PI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class LI{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&sf(r.mutation,a,ui.empty(),ln.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,bt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=bt()){const a=eo();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Ku();return l.forEach(((f,h)=>{c=c.insert(f,h.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=eo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,bt())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,f)=>{t.set(c,f)}))}))}computeViews(e,t,r,a){let l=ss();const c=af(),f=(function(){return af()})();return t.forEach(((h,d)=>{const p=r.get(d.key);a.has(d.key)&&(p===void 0||p.mutation instanceof bl)?l=l.insert(d.key,d):p!==void 0?(c.set(d.key,p.mutation.getFieldMask()),sf(p.mutation,d,p.mutation.getFieldMask(),ln.now())):c.set(d.key,ui.empty())})),this.recalculateAndSaveOverlays(e,l).next((h=>(h.forEach(((d,p)=>c.set(d,p))),t.forEach(((d,p)=>f.set(d,new PI(p,c.get(d)??null)))),f)))}recalculateAndSaveOverlays(e,t){const r=af();let a=new pn(((c,f)=>c-f)),l=bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const f of c)f.keys().forEach((h=>{const d=t.get(h);if(d===null)return;let p=r.get(h)||ui.empty();p=f.applyToLocalView(d,p),r.set(h,p);const y=(a.get(f.batchId)||bt()).add(h);a=a.insert(f.batchId,y)}))})).next((()=>{const c=[],f=a.getReverseIterator();for(;f.hasNext();){const h=f.getNext(),d=h.key,p=h.value,y=_b();p.forEach((_=>{if(!l.has(_)){const w=Ab(t.get(_),r.get(_));w!==null&&y.set(_,w),l=l.add(_)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,y))}return we.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return(function(c){return tt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):F5(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):we.resolve(eo());let f=gf,h=l;return c.next((d=>we.forEach(d,((p,y)=>(f<y.largestBatchId&&(f=y.largestBatchId),l.get(p)?we.resolve():this.remoteDocumentCache.getEntry(e,p).next((_=>{h=h.insert(p,_)}))))).next((()=>this.populateOverlays(e,d,l))).next((()=>this.computeViews(e,h,d,bt()))).next((p=>({batchId:f,changes:yb(p)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new tt(t)).next((r=>{let a=Ku();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Ku();return this.indexManager.getCollectionParents(e,l).next((f=>we.forEach(f,(h=>{const d=(function(y,_){return new zd(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(t,h.child(l));return this.getDocumentsMatchingCollectionQuery(e,d,r,a).next((p=>{p.forEach(((y,_)=>{c=c.insert(y,_)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((h,d)=>{const p=d.getKey();c.get(p)===null&&(c=c.insert(p,yr.newInvalidDocument(p)))}));let f=Ku();return c.forEach(((h,d)=>{const p=l.get(h);p!==void 0&&sf(p.mutation,d,ui.empty(),ln.now()),qd(t,d)&&(f=f.insert(h,d))})),f}))}}class jI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return we.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:Ea(a.createTime)}})(t)),we.resolve()}getNamedQuery(e,t){return we.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(a){return{name:a.name,query:AI(a.bundledQuery),readTime:Ea(a.readTime)}})(t)),we.resolve()}}class FI{constructor(){this.overlays=new pn(tt.comparator),this.qr=new Map}getOverlay(e,t){return we.resolve(this.overlays.get(t))}getOverlays(e,t){const r=eo();return we.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.St(e,t,l)})),we.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.qr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(r)),we.resolve()}getOverlaysForCollection(e,t,r){const a=eo(),l=t.length+1,c=new tt(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const h=f.getNext().value,d=h.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===l&&h.largestBatchId>r&&a.set(h.getKey(),h)}return we.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new pn(((d,p)=>d-p));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=l.get(d.largestBatchId);p===null&&(p=eo(),l=l.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const f=eo(),h=l.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach(((d,p)=>f.set(d,p))),!(f.size()>=a)););return we.resolve(f)}St(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(r.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new nI(t,r));let l=this.qr.get(t);l===void 0&&(l=bt(),this.qr.set(t,l)),this.qr.set(t,l.add(r.key))}}class BI{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return we.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,we.resolve()}}class Q1{constructor(){this.Qr=new Bn(zn.$r),this.Ur=new Bn(zn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new zn(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new zn(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new tt(new sn([])),r=new zn(t,e),a=new zn(t,e+1),l=[];return this.Ur.forEachInRange([r,a],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new tt(new sn([])),r=new zn(t,e),a=new zn(t,e+1);let l=bt();return this.Ur.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new zn(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class zn{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return tt.comparator(e.key,t.key)||wt(e.Yr,t.Yr)}static Kr(e,t){return wt(e.Yr,t.Yr)||tt.comparator(e.key,t.key)}}class VI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bn(zn.$r)}checkEmpty(e){return we.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new tI(l,t,r,a);this.mutationQueue.push(c);for(const f of a)this.Zr=this.Zr.add(new zn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return we.resolve(c)}lookupMutationBatch(e,t){return we.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.ei(r),l=a<0?0:a;return we.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(this.mutationQueue.length===0?U1:this.tr-1)}getAllMutationBatches(e){return we.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zn(t,0),a=new zn(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([r,a],(c=>{const f=this.Xr(c.Yr);l.push(f)})),we.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(wt);return t.forEach((a=>{const l=new zn(a,0),c=new zn(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(f=>{r=r.add(f.Yr)}))})),we.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;tt.isDocumentKey(l)||(l=l.child(""));const c=new zn(new tt(l),0);let f=new Bn(wt);return this.Zr.forEachWhile((h=>{const d=h.key.path;return!!r.isPrefixOf(d)&&(d.length===a&&(f=f.add(h.Yr)),!0)}),c),we.resolve(this.ti(f))}ti(e){const t=[];return e.forEach((r=>{const a=this.Xr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){Lt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return we.forEach(t.mutations,(a=>{const l=new zn(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new zn(t,0),a=this.Zr.firstAfterOrEqual(r);return we.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,we.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class UI{constructor(e){this.ri=e,this.docs=(function(){return new pn(tt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.mutableCopy():yr.newInvalidDocument(t))}getEntries(e,t){let r=ss();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():yr.newInvalidDocument(a))})),we.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=ss();const c=t.path,f=new tt(c.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(f);for(;h.hasNext();){const{key:d,value:{document:p}}=h.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||p5(m5(p),r)<=0||(a.has(p.key)||qd(t,p))&&(l=l.insert(p.key,p.mutableCopy()))}return we.resolve(l)}getAllFromCollectionGroup(e,t,r,a){it(9500)}ii(e,t){return we.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new zI(this)}getSize(e){return we.resolve(this.size)}}class zI extends MI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Nr.addEntry(e,a)):this.Nr.removeEntry(r)})),we.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}class HI{constructor(e){this.persistence=e,this.si=new go((t=>q1(t)),G1),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.oi=0,this._i=new Q1,this.targetCount=0,this.ai=kc.ur()}forEachTarget(e,t){return this.si.forEach(((r,a)=>t(a))),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),we.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new kc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.Pr(t),we.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.si.forEach(((c,f)=>{f.sequenceNumber<=t&&r.get(f.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)})),we.waitFor(l).next((()=>a))}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),we.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),we.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this._i.containsKey(t))}}class Bb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Bd(0),this.li=!1,this.li=!0,this.hi=new BI,this.referenceDelegate=e(this),this.Pi=new HI(this),this.indexManager=new CI,this.remoteDocumentCache=(function(a){return new UI(a)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new SI(t),this.Ii=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new VI(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const a=new qI(this.ci.next());return this.referenceDelegate.Ei(),r(a).next((l=>this.referenceDelegate.di(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ai(e,t){return we.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class qI extends v5{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Ri=new Q1,this.Vi=null}static mi(e){return new J1(e)}get fi(){if(this.Vi)return this.Vi;throw it(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((a=>this.fi.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.fi.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.fi,(r=>{const a=tt.fromPath(r);return this.gi(e,a).next((l=>{l||t.removeEntry(a,st.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return we.or([()=>we.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.pi=new go((r=>_5(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=kI(this,t)}static mi(e,t){return new sd(e,t)}Ei(){}di(e){return we.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return we.forEach(this.pi,((r,a)=>this.br(e,r,a).next((l=>l?we.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ii(e,(c=>this.br(e,c,t).next((f=>{f||(r++,l.removeEntry(c,st.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),we.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),we.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=B0(e.data.value)),t}br(e,t,r){return we.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.pi.get(t);return we.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Z1{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=a}static As(e,t){let r=bt(),a=bt();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Z1(e,t.fromCache,r,a)}}class GI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class YI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return FR()?8:x5(Tr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new GI;return this.Ss(e,t,c).next((f=>{if(l.result=f,this.Vs)return this.bs(e,t,c,f.size)}))})).next((()=>l.result))}bs(e,t,r,a){return r.documentReadCount<this.fs?(uc()<=Tt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",fc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),we.resolve()):(uc()<=Tt.DEBUG&&Ge("QueryEngine","Query:",fc(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.gs*a?(uc()<=Tt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",fc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_a(t))):we.resolve())}ys(e,t){if(gE(t))return we.resolve(null);let r=_a(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=a1(t,null,"F"),r=_a(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=bt(...l);return this.ps.getDocuments(e,c).next((f=>this.indexManager.getMinOffset(e,r).next((h=>{const d=this.Ds(t,f);return this.Cs(t,d,c,h.readTime)?this.ys(e,a1(t,null,"F")):this.vs(e,d,t,h)}))))})))))}ws(e,t,r,a){return gE(t)||a.isEqual(st.min())?we.resolve(null):this.ps.getDocuments(e,r).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,r,a)?we.resolve(null):(uc()<=Tt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fc(t)),this.vs(e,c,t,d5(a,gf)).next((f=>f)))}))}Ds(e,t){let r=new Bn(vb(e));return t.forEach(((a,l)=>{qd(e,l)&&(r=r.add(l))})),r}Cs(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,t,r){return uc()<=Tt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",fc(t)),this.ps.getDocumentsMatchingQuery(e,t,ul.min(),r)}vs(e,t,r,a){return this.ps.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const ev="LocalStore",XI=3e8;class WI{constructor(e,t,r,a){this.persistence=e,this.Fs=t,this.serializer=a,this.Ms=new pn(wt),this.xs=new go((l=>q1(l)),G1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function $I(n,e,t,r){return new WI(n,e,t,r)}async function Vb(n,e){const t=ct(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],f=[];let h=bt();for(const d of a){c.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}for(const d of l){f.push(d.batchId);for(const p of d.mutations)h=h.add(p.key)}return t.localDocuments.getDocuments(r,h).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:f})))}))}))}function KI(n,e){const t=ct(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(f,h,d,p){const y=d.batch,_=y.keys();let w=we.resolve();return _.forEach((C=>{w=w.next((()=>p.getEntry(h,C))).next((E=>{const b=d.docVersions.get(C);Lt(b!==null,48541),E.version.compareTo(b)<0&&(y.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),p.addEntry(E)))}))})),w.next((()=>f.mutationQueue.removeMutationBatch(h,y)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(f){let h=bt();for(let d=0;d<f.mutationResults.length;++d)f.mutationResults[d].transformResults.length>0&&(h=h.add(f.batch.mutations[d].key));return h})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function Ub(n){const e=ct(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function QI(n,e){const t=ct(n),r=e.snapshotVersion;let a=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});a=t.Ms;const f=[];e.targetChanges.forEach(((p,y)=>{const _=a.get(y);if(!_)return;f.push(t.Pi.removeMatchingKeys(l,p.removedDocuments,y).next((()=>t.Pi.addMatchingKeys(l,p.addedDocuments,y))));let w=_.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(y)!==null?w=w.withResumeToken(ur.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):p.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(p.resumeToken,r)),a=a.insert(y,w),(function(E,b,j){return E.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=XI?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(_,w,p)&&f.push(t.Pi.updateTargetData(l,w))}));let h=ss(),d=bt();if(e.documentUpdates.forEach((p=>{e.resolvedLimboDocuments.has(p)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,p))})),f.push(JI(l,c,e.documentUpdates).next((p=>{h=p.ks,d=p.qs}))),!r.isEqual(st.min())){const p=t.Pi.getLastRemoteSnapshotVersion(l).next((y=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,r)));f.push(p)}return we.waitFor(f).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,h,d))).next((()=>h))})).then((l=>(t.Ms=a,l)))}function JI(n,e,t){let r=bt(),a=bt();return t.forEach((l=>r=r.add(l))),e.getEntries(n,r).next((l=>{let c=ss();return t.forEach(((f,h)=>{const d=l.get(f);h.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(f)),h.isNoDocument()&&h.version.isEqual(st.min())?(e.removeEntry(f,h.readTime),c=c.insert(f,h)):!d.isValidDocument()||h.version.compareTo(d.version)>0||h.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(h),c=c.insert(f,h)):Ge(ev,"Ignoring outdated watch update for ",f,". Current version:",d.version," Watch version:",h.version)})),{ks:c,qs:a}}))}function ZI(n,e){const t=ct(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=U1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function eO(n,e){const t=ct(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.Pi.getTargetData(r,e).next((l=>l?(a=l,we.resolve(a)):t.Pi.allocateTargetId(r).next((c=>(a=new Zs(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.Ms.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function u1(n,e,t){const r=ct(n),a=r.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Hc(c))throw c;Ge(ev,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(a.target)}function RE(n,e,t){const r=ct(n);let a=st.min(),l=bt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(h,d,p){const y=ct(h),_=y.xs.get(p);return _!==void 0?we.resolve(y.Ms.get(_)):y.Pi.getTargetData(d,p)})(r,c,_a(e)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,f.targetId).next((h=>{l=h}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?a:st.min(),t?l:bt()))).next((f=>(tO(r,V5(e),f),{documents:f,Qs:l})))))}function tO(n,e,t){let r=n.Os.get(e)||st.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),n.Os.set(e,r)}class IE{constructor(){this.activeTargetIds=Y5()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nO{constructor(){this.Mo=new IE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new IE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class rO{Oo(e){}shutdown(){}}const OE="ConnectivityMonitor";class DE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(OE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(OE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let w0=null;function f1(){return w0===null?w0=(function(){return 268435456+Math.round(2147483648*Math.random())})():w0++,"0x"+w0.toString(16)}const Cg="RestConnection",iO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${a}`,this.Wo=this.databaseId.database===Z0?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Go(e,t,r,a,l){const c=f1(),f=this.zo(e,t.toUriEncodedString());Ge(Cg,`Sending RPC '${e}' ${c}:`,f,r);const h={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(h,a,l);const{host:d}=new URL(f),p=Bc(d);return this.Jo(e,f,h,r,p).then((y=>(Ge(Cg,`Received RPC '${e}' ${c}: `,y),y)),(y=>{throw Rc(Cg,`RPC '${e}' ${c} failed with error: `,y,"url: ",f,"request:",r),y}))}Ho(e,t,r,a,l,c){return this.Go(e,t,r,a,l)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Uc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}zo(e,t){const r=iO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}class sO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const vr="WebChannelConnection";class lO extends aO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,a,l){const c=f1();return new Promise(((f,h)=>{const d=new Gw;d.setWithCredentials(!0),d.listenOnce(Yw.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case F0.NO_ERROR:const y=d.getResponseJson();Ge(vr,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(y)),f(y);break;case F0.TIMEOUT:Ge(vr,`RPC '${e}' ${c} timed out`),h(new Qe(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case F0.HTTP_ERROR:const _=d.getStatus();if(Ge(vr,`RPC '${e}' ${c} failed with status:`,_,"response text:",d.getResponseText()),_>0){let w=d.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const E=(function(j){const R=j.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(R)>=0?R:Ae.UNKNOWN})(C.status);h(new Qe(E,C.message))}else h(new Qe(Ae.UNKNOWN,"Server responded with status "+d.getStatus()))}else h(new Qe(Ae.UNAVAILABLE,"Connection failed."));break;default:it(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Ge(vr,`RPC '${e}' ${c} completed.`)}}));const p=JSON.stringify(a);Ge(vr,`RPC '${e}' ${c} sending request:`,a),d.send(t,"POST",p,r,15)}))}T_(e,t,r){const a=f1(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=$w(),f=Ww(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(h.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(h.useFetchStreams=!0),this.jo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const p=l.join("");Ge(vr,`Creating RPC '${e}' stream ${a}: ${p}`,h);const y=c.createWebChannel(p,h);this.I_(y);let _=!1,w=!1;const C=new sO({Yo:b=>{w?Ge(vr,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(_||(Ge(vr,`Opening RPC '${e}' stream ${a} transport.`),y.open(),_=!0),Ge(vr,`RPC '${e}' stream ${a} sending:`,b),y.send(b))},Zo:()=>y.close()}),E=(b,j,R)=>{b.listen(j,(M=>{try{R(M)}catch(G){setTimeout((()=>{throw G}),0)}}))};return E(y,$u.EventType.OPEN,(()=>{w||(Ge(vr,`RPC '${e}' stream ${a} transport opened.`),C.o_())})),E(y,$u.EventType.CLOSE,(()=>{w||(w=!0,Ge(vr,`RPC '${e}' stream ${a} transport closed`),C.a_(),this.E_(y))})),E(y,$u.EventType.ERROR,(b=>{w||(w=!0,Rc(vr,`RPC '${e}' stream ${a} transport errored. Name:`,b.name,"Message:",b.message),C.a_(new Qe(Ae.UNAVAILABLE,"The operation could not be completed")))})),E(y,$u.EventType.MESSAGE,(b=>{if(!w){const j=b.data[0];Lt(!!j,16349);const R=j,M=R?.error||R[0]?.error;if(M){Ge(vr,`RPC '${e}' stream ${a} received error:`,M);const G=M.status;let te=(function(O){const I=On[O];if(I!==void 0)return Nb(I)})(G),re=M.message;te===void 0&&(te=Ae.INTERNAL,re="Unknown error status: "+G+" with message "+M.message),w=!0,C.a_(new Qe(te,re)),y.close()}else Ge(vr,`RPC '${e}' stream ${a} received:`,j),C.u_(j)}})),E(f,Xw.STAT_EVENT,(b=>{b.stat===Zg.PROXY?Ge(vr,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Zg.NOPROXY&&Ge(vr,`RPC '${e}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{C.__()}),0),C}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ng(){return typeof document<"u"?document:null}function $d(n){return new fI(n,!0)}class zb{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=a,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&Ge("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const kE="PersistentStream";class Hb{constructor(e,t,r,a,l,c,f,h){this.Mi=e,this.S_=r,this.b_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=h,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new zb(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(as(t.toString()),as("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new Qe(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ge(kE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ge(kE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oO extends Hb{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=mI(this.serializer,e),r=(function(l){if(!("targetChange"in l))return st.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?st.min():c.readTime?Ea(c.readTime):st.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=c1(this.serializer),t.addTarget=(function(l,c){let f;const h=c.target;if(f=i1(h)?{documents:vI(l,h)}:{query:xI(l,h).ft},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Ob(l,c.resumeToken);const d=s1(l,c.expectedCount);d!==null&&(f.expectedCount=d)}else if(c.snapshotVersion.compareTo(st.min())>0){f.readTime=ad(l,c.snapshotVersion.toTimestamp());const d=s1(l,c.expectedCount);d!==null&&(f.expectedCount=d)}return f})(this.serializer,e);const r=_I(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=c1(this.serializer),t.removeTarget=e,this.q_(t)}}class cO extends Hb{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Lt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Lt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=gI(e.writeResults,e.commitTime),r=Ea(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=c1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>pI(this.serializer,r)))};this.q_(t)}}class uO{}class fO extends uO{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new Qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,l1(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Qe(Ae.UNKNOWN,l.toString())}))}Ho(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Ho(e,l1(t,r),a,c,f,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Qe(Ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class hO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(as(t),this.aa=!1):Ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const co="RemoteStore";class dO{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{vo(this)&&(Ge(co,"Restarting streams for network reachability change."),await(async function(h){const d=ct(h);d.Ea.add(4),await jf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Kd(d)})(this))}))})),this.Ra=new hO(r,a)}}async function Kd(n){if(vo(n))for(const e of n.da)await e(!0)}async function jf(n){for(const e of n.da)await e(!1)}function qb(n,e){const t=ct(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),iv(t)?rv(t):qc(t).O_()&&nv(t,e))}function tv(n,e){const t=ct(n),r=qc(t);t.Ia.delete(e),r.O_()&&Gb(t,e),t.Ia.size===0&&(r.O_()?r.L_():vo(t)&&t.Ra.set("Unknown"))}function nv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}qc(n).Y_(e)}function Gb(n,e){n.Va.Ue(e),qc(n).Z_(e)}function rv(n){n.Va=new lI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),qc(n).start(),n.Ra.ua()}function iv(n){return vo(n)&&!qc(n).x_()&&n.Ia.size>0}function vo(n){return ct(n).Ea.size===0}function Yb(n){n.Va=void 0}async function mO(n){n.Ra.set("Online")}async function pO(n){n.Ia.forEach(((e,t)=>{nv(n,e)}))}async function gO(n,e){Yb(n),iv(n)?(n.Ra.ha(e),rv(n)):n.Ra.set("Unknown")}async function vO(n,e,t){if(n.Ra.set("Online"),e instanceof Ib&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,c),a.Ia.delete(f),a.Va.removeTarget(f))})(n,e)}catch(r){Ge(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ld(n,r)}else if(e instanceof z0?n.Va.Ze(e):e instanceof Rb?n.Va.st(e):n.Va.tt(e),!t.isEqual(st.min()))try{const r=await Ub(n.localStore);t.compareTo(r)>=0&&await(function(l,c){const f=l.Va.Tt(c);return f.targetChanges.forEach(((h,d)=>{if(h.resumeToken.approximateByteSize()>0){const p=l.Ia.get(d);p&&l.Ia.set(d,p.withResumeToken(h.resumeToken,c))}})),f.targetMismatches.forEach(((h,d)=>{const p=l.Ia.get(h);if(!p)return;l.Ia.set(h,p.withResumeToken(ur.EMPTY_BYTE_STRING,p.snapshotVersion)),Gb(l,h);const y=new Zs(p.target,h,d,p.sequenceNumber);nv(l,y)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(r){Ge(co,"Failed to raise snapshot:",r),await ld(n,r)}}async function ld(n,e,t){if(!Hc(e))throw e;n.Ea.add(1),await jf(n),n.Ra.set("Offline"),t||(t=()=>Ub(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ge(co,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Kd(n)}))}function Xb(n,e){return e().catch((t=>ld(n,t,e)))}async function Qd(n){const e=ct(n),t=ml(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:U1;for(;xO(e);)try{const a=await ZI(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,yO(e,a)}catch(a){await ld(e,a)}Wb(e)&&$b(e)}function xO(n){return vo(n)&&n.Ta.length<10}function yO(n,e){n.Ta.push(e);const t=ml(n);t.O_()&&t.X_&&t.ea(e.mutations)}function Wb(n){return vo(n)&&!ml(n).x_()&&n.Ta.length>0}function $b(n){ml(n).start()}async function _O(n){ml(n).ra()}async function EO(n){const e=ml(n);for(const t of n.Ta)e.ea(t.mutations)}async function TO(n,e,t){const r=n.Ta.shift(),a=W1.from(r,e,t);await Xb(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Qd(n)}async function wO(n,e){e&&ml(n).X_&&await(async function(r,a){if((function(c){return iI(c)&&c!==Ae.ABORTED})(a.code)){const l=r.Ta.shift();ml(r).B_(),await Xb(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Qd(r)}})(n,e),Wb(n)&&$b(n)}async function ME(n,e){const t=ct(n);t.asyncQueue.verifyOperationInProgress(),Ge(co,"RemoteStore received new credentials");const r=vo(t);t.Ea.add(3),await jf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Kd(t)}async function bO(n,e){const t=ct(n);e?(t.Ea.delete(2),await Kd(t)):e||(t.Ea.add(2),await jf(t),t.Ra.set("Unknown"))}function qc(n){return n.ma||(n.ma=(function(t,r,a){const l=ct(t);return l.sa(),new oO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:mO.bind(null,n),t_:pO.bind(null,n),r_:gO.bind(null,n),H_:vO.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),iv(n)?rv(n):n.Ra.set("Unknown")):(await n.ma.stop(),Yb(n))}))),n.ma}function ml(n){return n.fa||(n.fa=(function(t,r,a){const l=ct(t);return l.sa(),new cO(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:_O.bind(null,n),r_:wO.bind(null,n),ta:EO.bind(null,n),na:TO.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Qd(n)):(await n.fa.stop(),n.Ta.length>0&&(Ge(co,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class av{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new no,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,f=new av(e,t,c,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Qe(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sv(n,e){if(as("AsyncQueue",`${e}: ${n}`),Hc(n))return new Qe(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class xc{static emptySet(e){return new xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||tt.comparator(t.key,r.key):(t,r)=>tt.comparator(t.key,r.key),this.keyedMap=Ku(),this.sortedSet=new pn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PE{constructor(){this.ga=new pn(tt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):it(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Mc{constructor(e,t,r,a,l,c,f,h,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=h,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((f=>{c.push({type:0,doc:f})})),new Mc(e,t,xc.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class SO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class AO{constructor(){this.queries=LE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=ct(t),l=a.queries;a.queries=LE(),l.forEach(((c,f)=>{for(const h of f.Sa)h.onError(r)}))})(this,new Qe(Ae.ABORTED,"Firestore shutting down"))}}function LE(){return new go((n=>gb(n)),Hd)}async function CO(n,e){const t=ct(n);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.ba()&&e.Da()&&(r=2):(l=new SO,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const f=sv(c,`Initialization of query '${fc(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&lv(t)}async function NO(n,e){const t=ct(n),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?a=e.Da()?0:1:!l.ba()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function RO(n,e){const t=ct(n);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const f of c.Sa)f.Fa(a)&&(r=!0);c.wa=a}}r&&lv(t)}function IO(n,e,t){const r=ct(n),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(t);r.queries.delete(e)}function lv(n){n.Ca.forEach((e=>{e.next()}))}var h1,jE;(jE=h1||(h1={})).Ma="default",jE.Cache="cache";class OO{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Mc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==h1.Cache}}class Kb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class DO{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=bt(),this.mutatedKeys=bt(),this.eu=vb(e),this.tu=new xc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new PE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,f=!1;const h=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((p,y)=>{const _=a.get(p),w=qd(this.query,y)?y:null,C=!!_&&this.mutatedKeys.has(_.key),E=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let b=!1;_&&w?_.data.isEqual(w.data)?C!==E&&(r.track({type:3,doc:w}),b=!0):this.su(_,w)||(r.track({type:2,doc:w}),b=!0,(h&&this.eu(w,h)>0||d&&this.eu(w,d)<0)&&(f=!0)):!_&&w?(r.track({type:0,doc:w}),b=!0):_&&!w&&(r.track({type:1,doc:_}),b=!0,(h||d)&&(f=!0)),b&&(w?(c=c.add(w),l=E?l.add(p):l.delete(p)):(c=c.delete(p),l=l.delete(p)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const p=this.query.limitType==="F"?c.last():c.first();c=c.delete(p.key),l=l.delete(p.key),r.track({type:1,doc:p})}return{tu:c,iu:r,Cs:f,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((p,y)=>(function(w,C){const E=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it(20277,{Rt:b})}};return E(w)-E(C)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(r),a=a??!1;const f=t&&!a?this._u():[],h=this.Xa.size===0&&this.current&&!a?1:0,d=h!==this.Za;return this.Za=h,c.length!==0||d?{snapshot:new Mc(this.query,e.tu,l,c,e.mutatedKeys,h===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new PE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new Qb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new Kb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=bt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Mc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ov="SyncEngine";class kO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class MO{constructor(e){this.key=e,this.hu=!1}}class PO{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new go((f=>gb(f)),Hd),this.Iu=new Map,this.Eu=new Set,this.du=new pn(tt.comparator),this.Au=new Map,this.Ru=new Q1,this.Vu={},this.mu=new Map,this.fu=kc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LO(n,e,t=!0){const r=rS(n);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await Jb(r,e,t,!0),a}async function jO(n,e){const t=rS(n);await Jb(t,e,!0,!1)}async function Jb(n,e,t,r){const a=await eO(n.localStore,_a(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let f;return r&&(f=await FO(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&qb(n.remoteStore,a),f}async function FO(n,e,t,r,a){n.pu=(y,_,w)=>(async function(E,b,j,R){let M=b.view.ru(j);M.Cs&&(M=await RE(E.localStore,b.query,!1).then((({documents:N})=>b.view.ru(N,M))));const G=R&&R.targetChanges.get(b.targetId),te=R&&R.targetMismatches.get(b.targetId)!=null,re=b.view.applyChanges(M,E.isPrimaryClient,G,te);return BE(E,b.targetId,re.au),re.snapshot})(n,y,_,w);const l=await RE(n.localStore,e,!0),c=new DO(e,l.Qs),f=c.ru(l.documents),h=Lf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",a),d=c.applyChanges(f,n.isPrimaryClient,h);BE(n,t,d.au);const p=new kO(e,t,c);return n.Tu.set(e,p),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function BO(n,e,t){const r=ct(n),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!Hd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await u1(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&tv(r.remoteStore,a.targetId),d1(r,a.targetId)})).catch(zc)):(d1(r,a.targetId),await u1(r.localStore,a.targetId,!0))}async function VO(n,e){const t=ct(n),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tv(t.remoteStore,r.targetId))}async function UO(n,e,t){const r=WO(n);try{const a=await(function(c,f){const h=ct(c),d=ln.now(),p=f.reduce(((w,C)=>w.add(C.key)),bt());let y,_;return h.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let C=ss(),E=bt();return h.Ns.getEntries(w,p).next((b=>{C=b,C.forEach(((j,R)=>{R.isValidDocument()||(E=E.add(j))}))})).next((()=>h.localDocuments.getOverlayedDocuments(w,C))).next((b=>{y=b;const j=[];for(const R of f){const M=Z5(R,y.get(R.key).overlayedDocument);M!=null&&j.push(new bl(R.key,M,cb(M.value.mapValue),Ir.exists(!0)))}return h.mutationQueue.addMutationBatch(w,d,j,f)})).next((b=>{_=b;const j=b.applyToLocalDocumentSet(y,E);return h.documentOverlayCache.saveOverlays(w,b.batchId,j)}))})).then((()=>({batchId:_.batchId,changes:yb(y)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,f,h){let d=c.Vu[c.currentUser.toKey()];d||(d=new pn(wt)),d=d.insert(f,h),c.Vu[c.currentUser.toKey()]=d})(r,a.batchId,t),await Ff(r,a.changes),await Qd(r.remoteStore)}catch(a){const l=sv(a,"Failed to persist write");t.reject(l)}}async function Zb(n,e){const t=ct(n);try{const r=await QI(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(Lt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Lt(c.hu,14607):a.removedDocuments.size>0&&(Lt(c.hu,42227),c.hu=!1))})),await Ff(t,r,e)}catch(r){await zc(r)}}function FE(n,e,t){const r=ct(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const f=c.view.va(e);f.snapshot&&a.push(f.snapshot)})),(function(c,f){const h=ct(c);h.onlineState=f;let d=!1;h.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(f)&&(d=!0)})),d&&lv(h)})(r.eventManager,e),a.length&&r.Pu.H_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zO(n,e,t){const r=ct(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new pn(tt.comparator);c=c.insert(l,yr.newNoDocument(l,st.min()));const f=bt().add(l),h=new Wd(st.min(),new Map,new pn(wt),c,f);await Zb(r,h),r.du=r.du.remove(l),r.Au.delete(e),cv(r)}else await u1(r.localStore,e,!1).then((()=>d1(r,e,t))).catch(zc)}async function HO(n,e){const t=ct(n),r=e.batch.batchId;try{const a=await KI(t.localStore,e);tS(t,r,null),eS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ff(t,a)}catch(a){await zc(a)}}async function qO(n,e,t){const r=ct(n);try{const a=await(function(c,f){const h=ct(c);return h.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let p;return h.mutationQueue.lookupMutationBatch(d,f).next((y=>(Lt(y!==null,37113),p=y.keys(),h.mutationQueue.removeMutationBatch(d,y)))).next((()=>h.mutationQueue.performConsistencyCheck(d))).next((()=>h.documentOverlayCache.removeOverlaysForBatchId(d,p,f))).next((()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p))).next((()=>h.localDocuments.getDocuments(d,p)))}))})(r.localStore,e);tS(r,e,t),eS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ff(r,a)}catch(a){await zc(a)}}function eS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function tS(n,e,t){const r=ct(n);let a=r.Vu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Vu[r.currentUser.toKey()]=a}}function d1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||nS(n,r)}))}function nS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),cv(n))}function BE(n,e,t){for(const r of t)r instanceof Kb?(n.Ru.addReference(r.key,e),GO(n,r)):r instanceof Qb?(Ge(ov,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||nS(n,r.key)):it(19791,{wu:r})}function GO(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ge(ov,"New document in limbo: "+t),n.Eu.add(r),cv(n))}function cv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new tt(sn.fromString(e)),r=n.fu.next();n.Au.set(r,new MO(t)),n.du=n.du.insert(t,r),qb(n.remoteStore,new Zs(_a(Y1(t.path)),r,"TargetPurposeLimboResolution",Bd.ce))}}async function Ff(n,e,t){const r=ct(n),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((f,h)=>{c.push(r.pu(h,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const p=d?!d.fromCache:t?.targetChanges.get(h.targetId)?.current;r.sharedClientState.updateQueryState(h.targetId,p?"current":"not-current")}if(d){a.push(d);const p=Z1.As(h.targetId,d);l.push(p)}})))})),await Promise.all(c),r.Pu.H_(a),await(async function(h,d){const p=ct(h);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>we.forEach(d,(_=>we.forEach(_.Es,(w=>p.persistence.referenceDelegate.addReference(y,_.targetId,w))).next((()=>we.forEach(_.ds,(w=>p.persistence.referenceDelegate.removeReference(y,_.targetId,w)))))))))}catch(y){if(!Hc(y))throw y;Ge(ev,"Failed to update sequence numbers: "+y)}for(const y of d){const _=y.targetId;if(!y.fromCache){const w=p.Ms.get(_),C=w.snapshotVersion,E=w.withLastLimboFreeSnapshotVersion(C);p.Ms=p.Ms.insert(_,E)}}})(r.localStore,l))}async function YO(n,e){const t=ct(n);if(!t.currentUser.isEqual(e)){Ge(ov,"User change. New user:",e.toKey());const r=await Vb(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((f=>{f.forEach((h=>{h.reject(new Qe(Ae.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ff(t,r.Ls)}}function XO(n,e){const t=ct(n),r=t.Au.get(e);if(r&&r.hu)return bt().add(r.key);{let a=bt();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const f=t.Tu.get(c);a=a.unionWith(f.view.nu)}return a}}function rS(n){const e=ct(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=XO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zO.bind(null,e),e.Pu.H_=RO.bind(null,e.eventManager),e.Pu.yu=IO.bind(null,e.eventManager),e}function WO(n){const e=ct(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qO.bind(null,e),e}class od{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$d(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return $I(this.persistence,new YI,e.initialUser,this.serializer)}Cu(e){return new Bb(J1.mi,this.serializer)}Du(e){return new nO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}od.provider={build:()=>new od};class $O extends od{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Lt(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OI(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new Bb((r=>sd.mi(r,t)),this.serializer)}}class m1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YO.bind(null,this.syncEngine),await bO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new AO})()}createDatastore(e){const t=$d(e.databaseInfo.databaseId),r=(function(l){return new lO(l)})(e.databaseInfo);return(function(l,c,f,h){return new fO(l,c,f,h)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,f){return new dO(r,a,l,c,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>FE(this.syncEngine,t,0)),(function(){return DE.v()?new DE:new rO})())}createSyncEngine(e,t){return(function(a,l,c,f,h,d,p){const y=new PO(a,l,c,f,h,d);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ct(t);Ge(co,"RemoteStore shutting down."),r.Ea.add(5),await jf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}m1.provider={build:()=>new m1};class KO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):as("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const pl="FirestoreClient";class QO{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=xr.UNAUTHENTICATED,this.clientId=B1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{Ge(pl,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(Ge(pl,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new no;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=sv(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rg(n,e){n.asyncQueue.verifyOperationInProgress(),Ge(pl,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async a=>{r.isEqual(a)||(await Vb(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function VE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await JO(n);Ge(pl,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>ME(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,a)=>ME(e.remoteStore,a))),n._onlineComponents=e}async function JO(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge(pl,"Using user provided OfflineComponentProvider");try{await Rg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Ae.FAILED_PRECONDITION||a.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Rc("Error using user provided cache. Falling back to memory cache: "+t),await Rg(n,new od)}}else Ge(pl,"Using default OfflineComponentProvider"),await Rg(n,new $O(void 0));return n._offlineComponents}async function iS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge(pl,"Using user provided OnlineComponentProvider"),await VE(n,n._uninitializedComponentsProvider._online)):(Ge(pl,"Using default OnlineComponentProvider"),await VE(n,new m1))),n._onlineComponents}function ZO(n){return iS(n).then((e=>e.syncEngine))}async function UE(n){const e=await iS(n),t=e.eventManager;return t.onListen=LO.bind(null,e.syncEngine),t.onUnlisten=BO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=VO.bind(null,e.syncEngine),t}function aS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const zE=new Map;const sS="firestore.googleapis.com",HE=!0;class qE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Qe(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sS,this.ssl=HE}else this.host=e.host,this.ssl=e.ssl??HE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<RI)throw new Qe(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h5("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Qe(Ae.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jd{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Qe(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Qe(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new n5;switch(r.type){case"firstParty":return new s5(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Qe(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=zE.get(t);r&&(Ge("ComponentProvider","Removing Datastore"),zE.delete(t),r.terminate())})(this),Promise.resolve()}}function eD(n,e,t,r={}){n=ea(n,Jd);const a=Bc(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},f=`${e}:${t}`;a&&(Lw(`https://${f}`),jw("Firestore",!0)),l.host!==sS&&l.host!==f&&Rc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h={...l,host:f,ssl:a,emulatorOptions:r};if(!so(h,c)&&(n._setSettings(h),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=xr.MOCK_USER;else{d=RR(r.mockUserToken,n._app?.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Qe(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xr(y)}n._authCredentials=new r5(new Qw(d,p))}}class Zd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zd(this.firestore,e,this._query)}}class kn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new sl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}toJSON(){return{type:kn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Mf(t,kn._jsonSchema))return new kn(e,r||null,new tt(sn.fromString(t.referencePath)))}}kn._jsonSchemaVersion="firestore/documentReference/1.0",kn._jsonSchema={type:Dn("string",kn._jsonSchemaVersion),referencePath:Dn("string")};class sl extends Zd{constructor(e,t,r){super(e,t,Y1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new tt(e))}withConverter(e){return new sl(this.firestore,e,this._path)}}function si(n,e,...t){if(n=Yn(n),Jw("collection","path",e),n instanceof Jd){const r=sn.fromString(e,...t);return rE(r),new sl(n,null,r)}{if(!(n instanceof kn||n instanceof sl))throw new Qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return rE(r),new sl(n.firestore,null,r)}}function vt(n,e,...t){if(n=Yn(n),arguments.length===1&&(e=B1.newId()),Jw("doc","path",e),n instanceof Jd){const r=sn.fromString(e,...t);return nE(r),new kn(n,null,new tt(r))}{if(!(n instanceof kn||n instanceof sl))throw new Qe(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(sn.fromString(e,...t));return nE(r),new kn(n.firestore,n instanceof sl?n.converter:null,new tt(r))}}const GE="AsyncQueue";class YE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new zb(this,"async_queue_retry"),this._c=()=>{const r=Ng();r&&Ge(GE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Ng();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ng();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new no;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Hc(e))throw e;Ge(GE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,as("INTERNAL UNHANDLED ERROR: ",XE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=av.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&it(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function XE(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function WE(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class gl extends Jd{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new YE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new YE(e),this._firestoreClient=void 0,await e}}}function tD(n,e){const t=typeof n=="object"?n:Uw(),r=typeof n=="string"?n:Z0,a=j1(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=CR("firestore");l&&eD(a,...l)}return a}function uv(n){if(n._terminated)throw new Qe(Ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nD(n),n._firestoreClient}function nD(n){const e=n._freezeSettings(),t=(function(a,l,c,f){return new w5(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,aS(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new QO(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class Ni{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ni(ur.fromBase64String(e))}catch(t){throw new Qe(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ni(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mf(e,Ni._jsonSchema))return Ni.fromBase64String(e.bytes)}}Ni._jsonSchemaVersion="firestore/bytes/1.0",Ni._jsonSchema={type:Dn("string",Ni._jsonSchemaVersion),bytes:Dn("string")};class Bf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Qe(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class fv{constructor(e){this._methodName=e}}class Ta{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Qe(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Qe(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ta._jsonSchemaVersion}}static fromJSON(e){if(Mf(e,Ta._jsonSchema))return new Ta(e.latitude,e.longitude)}}Ta._jsonSchemaVersion="firestore/geoPoint/1.0",Ta._jsonSchema={type:Dn("string",Ta._jsonSchemaVersion),latitude:Dn("number"),longitude:Dn("number")};class wa{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mf(e,wa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wa(e.vectorValues);throw new Qe(Ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wa._jsonSchemaVersion="firestore/vectorValue/1.0",wa._jsonSchema={type:Dn("string",wa._jsonSchemaVersion),vectorValues:Dn("object")};const rD=/^__.*__$/;class iD{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new bl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pf(e,this.data,t,this.fieldTransforms)}}class lS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new bl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it(40011,{Ac:n})}}class hv{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new hv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(oS(this.Ac)&&rD.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class aD{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||$d(e)}Cc(e,t,r,a=!1){return new hv({Ac:e,methodName:t,Dc:r,path:sr.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function em(n){const e=n._freezeSettings(),t=$d(n._databaseId);return new aD(n._databaseId,!!e.ignoreUndefinedProperties,t)}function dv(n,e,t,r,a,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,a);mv("Data must be an object, but it was:",c,r);const f=fS(r,c);let h,d;if(l.merge)h=new ui(c.fieldMask),d=c.fieldTransforms;else if(l.mergeFields){const p=[];for(const y of l.mergeFields){const _=p1(e,y,t);if(!c.contains(_))throw new Qe(Ae.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);dS(p,_)||p.push(_)}h=new ui(p),d=c.fieldTransforms.filter((y=>h.covers(y.field)))}else h=null,d=c.fieldTransforms;return new iD(new Gr(f),h,d)}class tm extends fv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tm}}function cS(n,e,t,r){const a=n.Cc(1,e,t);mv("Data must be an object, but it was:",a,r);const l=[],c=Gr.empty();wl(r,((h,d)=>{const p=pv(e,h,t);d=Yn(d);const y=a.yc(p);if(d instanceof tm)l.push(p);else{const _=nm(d,y);_!=null&&(l.push(p),c.set(p,_))}}));const f=new ui(l);return new lS(c,f,a.fieldTransforms)}function uS(n,e,t,r,a,l){const c=n.Cc(1,e,t),f=[p1(e,r,t)],h=[a];if(l.length%2!=0)throw new Qe(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<l.length;_+=2)f.push(p1(e,l[_])),h.push(l[_+1]);const d=[],p=Gr.empty();for(let _=f.length-1;_>=0;--_)if(!dS(d,f[_])){const w=f[_];let C=h[_];C=Yn(C);const E=c.yc(w);if(C instanceof tm)d.push(w);else{const b=nm(C,E);b!=null&&(d.push(w),p.set(w,b))}}const y=new ui(d);return new lS(p,y,c.fieldTransforms)}function nm(n,e){if(hS(n=Yn(n)))return mv("Unsupported field value:",e,n),fS(n,e);if(n instanceof fv)return(function(r,a){if(!oS(a.Ac))throw a.Sc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const f of r){let h=nm(f,a.wc(c));h==null&&(h={nullValue:"NULL_VALUE"}),l.push(h),c++}return{arrayValue:{values:l}}})(n,e)}return(function(r,a){if((r=Yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return X5(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=ln.fromDate(r);return{timestampValue:ad(a.serializer,l)}}if(r instanceof ln){const l=new ln(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ad(a.serializer,l)}}if(r instanceof Ta)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ni)return{bytesValue:Ob(a.serializer,r._byteString)};if(r instanceof kn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:K1(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof wa)return(function(c,f){return{mapValue:{fields:{[lb]:{stringValue:ob},[ed]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw f.Sc("VectorValues must only contain numeric values.");return X1(f.serializer,d)}))}}}}}})(r,a);throw a.Sc(`Unsupported field value: ${V1(r)}`)})(n,e)}function fS(n,e){const t={};return tb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wl(n,((r,a)=>{const l=nm(a,e.mc(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function hS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ln||n instanceof Ta||n instanceof Ni||n instanceof kn||n instanceof fv||n instanceof wa)}function mv(n,e,t){if(!hS(t)||!Zw(t)){const r=V1(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function p1(n,e,t){if((e=Yn(e))instanceof Bf)return e._internalPath;if(typeof e=="string")return pv(n,e);throw cd("Field path arguments must be of type string or ",n,!1,void 0,t)}const sD=new RegExp("[~\\*/\\[\\]]");function pv(n,e,t){if(e.search(sD)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bf(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cd(n,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let h="";return(l||c)&&(h+=" (found",l&&(h+=` in field ${r}`),c&&(h+=` in document ${a}`),h+=")"),new Qe(Ae.INVALID_ARGUMENT,f+n+h)}function dS(n,e){return n.some((t=>t.isEqual(e)))}class mS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class lD extends mS{data(){return super.data()}}function pS(n,e){return typeof e=="string"?pv(n,e):e instanceof Bf?e._internalPath:e._delegate._internalPath}function oD(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Qe(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cD{convertValue(e,t="none"){switch(dl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw it(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return wl(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[ed].arrayValue?.values?.map((r=>wn(r.doubleValue)));return new wa(t)}convertGeoPoint(e){return new Ta(wn(e.latitude),wn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ud(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vf(e));default:return null}}convertTimestamp(e){const t=fl(e);return new ln(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=sn.fromString(e);Lt(jb(r),9688,{name:e});const a=new xf(r.get(1),r.get(3)),l=new tt(r.popFirst(5));return a.isEqual(t)||as(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function gv(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ju{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ro extends mS{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new H0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(Ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ro._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ro._jsonSchemaVersion="firestore/documentSnapshot/1.0",ro._jsonSchema={type:Dn("string",ro._jsonSchemaVersion),bundleSource:Dn("string","DocumentSnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class H0 extends ro{data(e={}){return super.data(e)}}class yc{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Ju(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new H0(this._firestore,this._userDataWriter,r.key,r,new Ju(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Qe(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((f=>{const h=new H0(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:h,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const h=new H0(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Ju(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,p=-1;return f.type!==0&&(d=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),p=c.indexOf(f.doc.key)),{type:uD(f.type),doc:h,oldIndex:d,newIndex:p}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Qe(Ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=B1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function uD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it(61501,{type:n})}}yc._jsonSchemaVersion="firestore/querySnapshot/1.0",yc._jsonSchema={type:Dn("string",yc._jsonSchemaVersion),bundleSource:Dn("string","QuerySnapshot"),bundleName:Dn("string"),bundle:Dn("string")};class gS extends cD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ni(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function vv(n,e,t){n=ea(n,kn);const r=ea(n.firestore,gl),a=gv(n.converter,e,t);return Vf(r,[dv(em(r),"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,Ir.none())])}function mn(n,e,t,...r){n=ea(n,kn);const a=ea(n.firestore,gl),l=em(a);let c;return c=typeof(e=Yn(e))=="string"||e instanceof Bf?uS(l,"updateDoc",n._key,e,t,r):cS(l,"updateDoc",n._key,e),Vf(a,[c.toMutation(n._key,Ir.exists(!0))])}function Zu(n){return Vf(ea(n.firestore,gl),[new Xd(n._key,Ir.none())])}function mc(n,e){const t=ea(n.firestore,gl),r=vt(n),a=gv(n.converter,e);return Vf(t,[dv(em(n.firestore),"addDoc",r._key,a,n.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then((()=>r))}function Ka(n,...e){n=Yn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||WE(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(WE(e[r])){const h=e[r];e[r]=h.next?.bind(h),e[r+1]=h.error?.bind(h),e[r+2]=h.complete?.bind(h)}let l,c,f;if(n instanceof kn)c=ea(n.firestore,gl),f=Y1(n._key.path),l={next:h=>{e[r]&&e[r](fD(c,n,h))},error:e[r+1],complete:e[r+2]};else{const h=ea(n,Zd);c=ea(h.firestore,gl),f=h._query;const d=new gS(c);l={next:p=>{e[r]&&e[r](new yc(c,d,h,p))},error:e[r+1],complete:e[r+2]},oD(n._query)}return(function(d,p,y,_){const w=new KO(_),C=new OO(p,w,y);return d.asyncQueue.enqueueAndForget((async()=>CO(await UE(d),C))),()=>{w.Nu(),d.asyncQueue.enqueueAndForget((async()=>NO(await UE(d),C)))}})(uv(c),f,a,l)}function Vf(n,e){return(function(r,a){const l=new no;return r.asyncQueue.enqueueAndForget((async()=>UO(await ZO(r),a,l))),l.promise})(uv(n),e)}function fD(n,e,t){const r=t.docs.get(e._key),a=new gS(n);return new ro(n,a,e._key,r,new Ju(t.hasPendingWrites,t.fromCache),e.converter)}class hD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=em(e)}set(e,t,r){this._verifyNotCommitted();const a=Ig(e,this._firestore),l=gv(a.converter,t,r),c=dv(this._dataReader,"WriteBatch.set",a._key,l,a.converter!==null,r);return this._mutations.push(c.toMutation(a._key,Ir.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Ig(e,this._firestore);let c;return c=typeof(t=Yn(t))=="string"||t instanceof Bf?uS(this._dataReader,"WriteBatch.update",l._key,t,r,a):cS(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(c.toMutation(l._key,Ir.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ig(e,this._firestore);return this._mutations=this._mutations.concat(new Xd(t._key,Ir.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Qe(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ig(n,e){if((n=Yn(n)).firestore!==e)throw new Qe(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function $E(n){return uv(n=ea(n,gl)),new hD(n,(e=>Vf(n,e)))}(function(e,t=!0){(function(a){Uc=a})(Vc),Nc(new lo("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),f=new gl(new i5(r.getProvider("auth-internal")),new l5(c,r.getProvider("app-check-internal")),(function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Qe(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xf(d.options.projectId,p)})(c,a),c);return l={useFetchStreams:t,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),il(J2,Z2,e),il(J2,Z2,"esm2020")})();function vS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dD=vS,xS=new Df("auth","Firebase",vS());const ud=new P1("@firebase/auth");function mD(n,...e){ud.logLevel<=Tt.WARN&&ud.warn(`Auth (${Vc}): ${n}`,...e)}function q0(n,...e){ud.logLevel<=Tt.ERROR&&ud.error(`Auth (${Vc}): ${n}`,...e)}function ls(n,...e){throw xv(n,...e)}function ba(n,...e){return xv(n,...e)}function yS(n,e,t){const r={...dD(),[e]:t};return new Df("auth","Firebase",r).create(e,{appName:n.name})}function ll(n){return yS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return xS.create(n,...e)}function at(n,e,...t){if(!n)throw xv(e,...t)}function Qa(n){const e="INTERNAL ASSERTION FAILED: "+n;throw q0(e),new Error(e)}function os(n,e){n||Qa(e)}function g1(){return typeof self<"u"&&self.location?.href||""}function pD(){return KE()==="http:"||KE()==="https:"}function KE(){return typeof self<"u"&&self.location?.protocol||null}function gD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pD()||PR()||"connection"in navigator)?navigator.onLine:!0}function vD(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Uf{constructor(e,t){this.shortDelay=e,this.longDelay=t,os(t>e,"Short delay should be less than long delay!"),this.isMobile=DR()||LR()}get(){return gD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yv(n,e){os(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class _S{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const yD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_D=new Uf(3e4,6e4);function rm(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Gc(n,e,t,r,a={}){return ES(n,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const f=kf({key:n.config.apiKey,...c}).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:h,...l};return MR()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Bc(n.emulatorConfig.host)&&(d.credentials="include"),_S.fetch()(await wS(n,n.config.apiHost,t,f),d)})}async function ES(n,e,t){n._canInitEmulator=!1;const r={...xD,...e};try{const a=new ED(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw b0(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const f=l.ok?c.errorMessage:c.error.message,[h,d]=f.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw b0(n,"credential-already-in-use",c);if(h==="EMAIL_EXISTS")throw b0(n,"email-already-in-use",c);if(h==="USER_DISABLED")throw b0(n,"user-disabled",c);const p=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw yS(n,p,d);ls(n,p)}}catch(a){if(a instanceof fs)throw a;ls(n,"network-request-failed",{message:String(a)})}}async function TS(n,e,t,r,a={}){const l=await Gc(n,e,t,r,a);return"mfaPendingCredential"in l&&ls(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function wS(n,e,t,r){const a=`${e}${t}?${r}`,l=n,c=l.config.emulator?yv(n.config,a):`${n.config.apiScheme}://${a}`;return yD.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class ED{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ba(this.auth,"network-request-failed")),_D.get())})}}function b0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=ba(n,e,r);return a.customData._tokenResponse=t,a}async function TD(n,e){return Gc(n,"POST","/v1/accounts:delete",e)}async function fd(n,e){return Gc(n,"POST","/v1/accounts:lookup",e)}function lf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wD(n,e=!1){const t=Yn(n),r=await t.getIdToken(e),a=_v(r);at(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:lf(Og(a.auth_time)),issuedAtTime:lf(Og(a.iat)),expirationTime:lf(Og(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function Og(n){return Number(n)*1e3}function _v(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return q0("JWT malformed, contained fewer than 3 sections"),null;try{const a=Dw(t);return a?JSON.parse(a):(q0("Failed to decode base64 JWT payload"),null)}catch(a){return q0("Caught error parsing JWT payload as JSON",a?.toString()),null}}function QE(n){const e=_v(n);return at(e,"internal-error"),at(typeof e.exp<"u","internal-error"),at(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Tf(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof fs&&bD(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bD({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class SD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class v1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lf(this.lastLoginAt),this.creationTime=lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hd(n){const e=n.auth,t=await n.getIdToken(),r=await Tf(n,fd(e,{idToken:t}));at(r?.users.length,e,"internal-error");const a=r.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?bS(a.providerUserInfo):[],c=CD(n.providerData,l),f=n.isAnonymous,h=!(n.email&&a.passwordHash)&&!c?.length,d=f?h:!1,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new v1(a.createdAt,a.lastLoginAt),isAnonymous:d};Object.assign(n,p)}async function AD(n){const e=Yn(n);await hd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CD(n,e){return[...n.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function bS(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function ND(n,e){const t=await ES(n,{},async()=>{const r=kf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await wS(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const h={method:"POST",headers:f,body:r};return n.emulatorConfig&&Bc(n.emulatorConfig.host)&&(h.credentials="include"),_S.fetch()(c,h)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function RD(n,e){return Gc(n,"POST","/v2/accounts:revokeToken",rm(n,e))}class _c{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){at(e.idToken,"internal-error"),at(typeof e.idToken<"u","internal-error"),at(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){at(e.length!==0,"internal-error");const t=QE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(at(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await ND(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new _c;return r&&(at(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(at(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(at(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _c,this.toJSON())}_performRefresh(){return Qa("not implemented")}}function Ys(n,e){at(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ji{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new SD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new v1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await Tf(this,this.stsTokenManager.getToken(this.auth,e));return at(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return wD(this,e)}reload(){return AD(this)}_assign(e){this!==e&&(at(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ji({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){at(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await hd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ki(this.auth.app))return Promise.reject(ll(this.auth));const e=await this.getIdToken();return await Tf(this,TD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,f=t.tenantId??void 0,h=t._redirectEventId??void 0,d=t.createdAt??void 0,p=t.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:w,providerData:C,stsTokenManager:E}=t;at(y&&E,e,"internal-error");const b=_c.fromJSON(this.name,E);at(typeof y=="string",e,"internal-error"),Ys(r,e.name),Ys(a,e.name),at(typeof _=="boolean",e,"internal-error"),at(typeof w=="boolean",e,"internal-error"),Ys(l,e.name),Ys(c,e.name),Ys(f,e.name),Ys(h,e.name),Ys(d,e.name),Ys(p,e.name);const j=new Ji({uid:y,auth:e,email:a,emailVerified:_,displayName:r,isAnonymous:w,photoURL:c,phoneNumber:l,tenantId:f,stsTokenManager:b,createdAt:d,lastLoginAt:p});return C&&Array.isArray(C)&&(j.providerData=C.map(R=>({...R}))),h&&(j._redirectEventId=h),j}static async _fromIdTokenResponse(e,t,r=!1){const a=new _c;a.updateFromServerResponse(t);const l=new Ji({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await hd(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];at(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?bS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,f=new _c;f.updateFromIdToken(r);const h=new Ji({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:c}),d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new v1(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(h,d),h}}const JE=new Map;function Ja(n){os(n instanceof Function,"Expected a class definition");let e=JE.get(n);return e?(os(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,JE.set(n,e),e)}class SS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}SS.type="NONE";const ZE=SS;function G0(n,e,t){return`firebase:${n}:${e}:${t}`}class Ec{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=G0(this.userKey,a.apiKey,l),this.fullPersistenceKey=G0("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await fd(this.auth,{idToken:e}).catch(()=>{});return t?Ji._fromGetAccountInfoResponse(this.auth,t,e):null}return Ji._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Ec(Ja(ZE),e,r);const a=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let l=a[0]||Ja(ZE);const c=G0(r,e.config.apiKey,e.name);let f=null;for(const d of t)try{const p=await d._get(c);if(p){let y;if(typeof p=="string"){const _=await fd(e,{idToken:p}).catch(()=>{});if(!_)break;y=await Ji._fromGetAccountInfoResponse(e,_,p)}else y=Ji._fromJSON(e,p);d!==l&&(f=y),l=d;break}}catch{}const h=a.filter(d=>d._shouldAllowMigration);return!l._shouldAllowMigration||!h.length?new Ec(l,e,r):(l=h[0],f&&await l._set(c,f.toJSON()),await Promise.all(t.map(async d=>{if(d!==l)try{await d._remove(c)}catch{}})),new Ec(l,e,r))}}function eT(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(RS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OS(e))return"Blackberry";if(DS(e))return"Webos";if(CS(e))return"Safari";if((e.includes("chrome/")||NS(e))&&!e.includes("edge/"))return"Chrome";if(IS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function AS(n=Tr()){return/firefox\//i.test(n)}function CS(n=Tr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function NS(n=Tr()){return/crios\//i.test(n)}function RS(n=Tr()){return/iemobile/i.test(n)}function IS(n=Tr()){return/android/i.test(n)}function OS(n=Tr()){return/blackberry/i.test(n)}function DS(n=Tr()){return/webos/i.test(n)}function Ev(n=Tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ID(n=Tr()){return Ev(n)&&!!window.navigator?.standalone}function OD(){return jR()&&document.documentMode===10}function kS(n=Tr()){return Ev(n)||IS(n)||DS(n)||OS(n)||/windows phone/i.test(n)||RS(n)}function MS(n,e=[]){let t;switch(n){case"Browser":t=eT(Tr());break;case"Worker":t=`${eT(Tr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vc}/${r}`}class DD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,f)=>{try{const h=e(l);c(h)}catch(h){f(h)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function kD(n,e={}){return Gc(n,"GET","/v2/passwordPolicy",rm(n,e))}const MD=6;class PD{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??MD,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class LD{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new DD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ja(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ec.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await fd(this,{idToken:e}),r=await Ji._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Ki(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===c)&&f?.user&&(r=f.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return at(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hd(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ki(this.app))return Promise.reject(ll(this));const t=e?Yn(e):null;return t&&at(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&at(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ki(this.app)?Promise.reject(ll(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ki(this.app)?Promise.reject(ll(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kD(this),t=new PD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Df("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await RD(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ja(e)||this._popupRedirectResolver;at(t,this,"argument-error"),this.redirectPersistenceManager=await Ec.create(this,[Ja(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(at(f,this,"internal-error"),f.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,a);return()=>{c=!0,h()}}else{const h=e.addObserver(t);return()=>{c=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return at(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=MS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(Ki(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mD(`Error while retrieving App Check token: ${e.error}`),e?.token}}function im(n){return Yn(n)}class tT{constructor(e){this.auth=e,this.observer=null,this.addObserver=GR(t=>this.observer=t)}get next(){return at(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tv={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jD(n){Tv=n}function FD(n){return Tv.loadJS(n)}function BD(){return Tv.gapiScript}function VD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function UD(n,e){const t=j1(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(so(l,e??{}))return a;ls(a,"already-initialized")}return t.initialize({options:e})}function zD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ja);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function HD(n,e,t){const r=im(n);at(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=PS(e),{host:c,port:f}=qD(e),h=f===null?"":`:${f}`,d={url:`${l}//${c}${h}/`},p=Object.freeze({host:c,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){at(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),at(so(d,r.config.emulator)&&so(p,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=p,r.settings.appVerificationDisabledForTesting=!0,Bc(c)?(Lw(`${l}//${c}${h}`),jw("Auth",!0)):GD()}function PS(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function qD(n){const e=PS(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:nT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:nT(c)}}}function nT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function GD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class LS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qa("not implemented")}_getIdTokenResponse(e){return Qa("not implemented")}_linkToIdToken(e,t){return Qa("not implemented")}_getReauthenticationResolver(e){return Qa("not implemented")}}async function Tc(n,e){return TS(n,"POST","/v1/accounts:signInWithIdp",rm(n,e))}const YD="http://localhost";class uo extends LS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ls("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new uo(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Tc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Tc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tc(e,t)}buildRequest(){const e={requestUri:YD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kf(t)}return e}}class jS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class zf extends jS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class $s extends zf{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";class Ks extends zf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return uo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ks.credential(t,r)}catch{return null}}}Ks.GOOGLE_SIGN_IN_METHOD="google.com";Ks.PROVIDER_ID="google.com";class Qs extends zf{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qs.credentialFromTaggedObject(e)}static credentialFromError(e){return Qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qs.credential(e.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Js extends zf{constructor(){super("twitter.com")}static credential(e,t){return uo._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Js.credential(t,r)}catch{return null}}}Js.TWITTER_SIGN_IN_METHOD="twitter.com";Js.PROVIDER_ID="twitter.com";async function XD(n,e){return TS(n,"POST","/v1/accounts:signUp",rm(n,e))}class vl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Ji._fromIdTokenResponse(e,r,a),c=rT(r);return new vl({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=rT(r);return new vl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function rT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function WD(n){if(Ki(n.app))return Promise.reject(ll(n));const e=im(n);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new vl({user:e.currentUser,providerId:null,operationType:"signIn"});const t=await XD(e,{returnSecureToken:!0}),r=await vl._fromIdTokenResponse(e,"signIn",t,!0);return await e._updateCurrentUser(r.user),r}class dd extends fs{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,dd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new dd(e,t,r,a)}}function FS(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?dd._fromErrorAndOperation(n,l,e,r):l})}async function $D(n,e,t=!1){const r=await Tf(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return vl._forOperation(n,"link",r)}async function KD(n,e,t=!1){const{auth:r}=n;if(Ki(r.app))return Promise.reject(ll(r));const a="reauthenticate";try{const l=await Tf(n,FS(r,a,e,n),t);at(l.idToken,r,"internal-error");const c=_v(l.idToken);at(c,r,"internal-error");const{sub:f}=c;return at(n.uid===f,r,"user-mismatch"),vl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ls(r,"user-mismatch"),l}}async function QD(n,e,t=!1){if(Ki(n.app))return Promise.reject(ll(n));const r="signIn",a=await FS(n,r,e),l=await vl._fromIdTokenResponse(n,r,a);return t||await n._updateCurrentUser(l.user),l}function JD(n,e,t,r){return Yn(n).onIdTokenChanged(e,t,r)}function ZD(n,e,t){return Yn(n).beforeAuthStateChanged(e,t)}function ek(n,e,t,r){return Yn(n).onAuthStateChanged(e,t,r)}const md="__sak";class BS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(md,"1"),this.storage.removeItem(md),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const tk=1e3,nk=10;class VS extends BS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,f,h)=>{this.notifyListeners(c,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);OD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nk):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},tk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}VS.type="LOCAL";const rk=VS;class US extends BS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}US.type="SESSION";const zS=US;function ik(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new am(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(c).map(async d=>d(t.origin,l)),h=await ik(f);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}am.receivers=[];function wv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}class ak{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((f,h)=>{const d=wv("",20);a.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(y){const _=y;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),l=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(_.data.response);break;default:clearTimeout(p),clearTimeout(l),h(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Sa(){return window}function sk(n){Sa().location.href=n}function HS(){return typeof Sa().WorkerGlobalScope<"u"&&typeof Sa().importScripts=="function"}async function lk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ok(){return navigator?.serviceWorker?.controller||null}function ck(){return HS()?self:null}const qS="firebaseLocalStorageDb",uk=1,pd="firebaseLocalStorage",GS="fbase_key";class Hf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sm(n,e){return n.transaction([pd],e?"readwrite":"readonly").objectStore(pd)}function fk(){const n=indexedDB.deleteDatabase(qS);return new Hf(n).toPromise()}function x1(){const n=indexedDB.open(qS,uk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(pd,{keyPath:GS})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(pd)?e(r):(r.close(),await fk(),e(await x1()))})})}async function iT(n,e,t){const r=sm(n,!0).put({[GS]:e,value:t});return new Hf(r).toPromise()}async function hk(n,e){const t=sm(n,!1).get(e),r=await new Hf(t).toPromise();return r===void 0?null:r.value}function aT(n,e){const t=sm(n,!0).delete(e);return new Hf(t).toPromise()}const dk=800,mk=3;class YS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await x1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>mk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(ck()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lk(),!this.activeServiceWorker)return;this.sender=new ak(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ok()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await x1();return await iT(e,md,"1"),await aT(e,md),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>hk(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=sm(a,!1).getAll();return new Hf(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YS.type="LOCAL";const pk=YS;new Uf(3e4,6e4);function gk(n,e){return e?Ja(e):(at(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class bv extends LS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vk(n){return QD(n.auth,new bv(n),n.bypassAuthState)}function xk(n){const{auth:e,user:t}=n;return at(t,e,"internal-error"),KD(t,new bv(n),n.bypassAuthState)}async function yk(n){const{auth:e,user:t}=n;return at(t,e,"internal-error"),$D(t,new bv(n),n.bypassAuthState)}class XS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:f}=e;if(c){this.reject(c);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(h))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vk;case"linkViaPopup":case"linkViaRedirect":return yk;case"reauthViaPopup":case"reauthViaRedirect":return xk;default:ls(this.auth,"internal-error")}}resolve(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _k=new Uf(2e3,1e4);class gc extends XS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return at(e,this.auth,"internal-error"),e}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,_k.get())};e()}}gc.currentPopupAction=null;const Ek="pendingRedirect",Y0=new Map;class Tk extends XS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Y0.get(this.auth._key());if(!e){try{const r=await wk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Y0.set(this.auth._key(),e)}return this.bypassAuthState||Y0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wk(n,e){const t=Ak(e),r=Sk(n);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function bk(n,e){Y0.set(n._key(),e)}function Sk(n){return Ja(n._redirectPersistence)}function Ak(n){return G0(Ek,n.config.apiKey,n.name)}async function Ck(n,e,t=!1){if(Ki(n.app))return Promise.reject(ll(n));const r=im(n),a=gk(r,e),c=await new Tk(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const Nk=600*1e3;class Rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ik(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!WS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ba(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Nk&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function WS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Ik(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WS(n);default:return!1}}async function Ok(n,e={}){return Gc(n,"GET","/v1/projects",e)}const Dk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kk=/^https?/;async function Mk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Ok(n);for(const t of e)try{if(Pk(t))return}catch{}ls(n,"unauthorized-domain")}function Pk(n){const e=g1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!kk.test(t))return!1;if(Dk.test(n))return r===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const Lk=new Uf(3e4,6e4);function lT(){const n=Sa().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function jk(n){return new Promise((e,t)=>{function r(){lT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lT(),t(ba(n,"network-request-failed"))},timeout:Lk.get()})}if(Sa().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Sa().gapi?.load)r();else{const a=VD("iframefcb");return Sa()[a]=()=>{gapi.load?r():t(ba(n,"network-request-failed"))},FD(`${BD()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw X0=null,e})}let X0=null;function Fk(n){return X0=X0||jk(n),X0}const Bk=new Uf(5e3,15e3),Vk="__/auth/iframe",Uk="emulator/auth/iframe",zk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Hk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qk(n){const e=n.config;at(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?yv(e,Uk):`https://${n.config.authDomain}/${Vk}`,r={apiKey:e.apiKey,appName:n.name,v:Vc},a=Hk.get(n.config.apiHost);a&&(r.eid=a);const l=n._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${kf(r).slice(1)}`}async function Gk(n){const e=await Fk(n),t=Sa().gapi;return at(t,n,"internal-error"),e.open({where:document.body,url:qk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zk,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=ba(n,"network-request-failed"),f=Sa().setTimeout(()=>{l(c)},Bk.get());function h(){Sa().clearTimeout(f),a(r)}r.ping(h).then(h,()=>{l(c)})}))}const Yk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Xk=500,Wk=600,$k="_blank",Kk="http://localhost";class oT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Qk(n,e,t,r=Xk,a=Wk){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const h={...Yk,width:r.toString(),height:a.toString(),top:l,left:c},d=Tr().toLowerCase();t&&(f=NS(d)?$k:t),AS(d)&&(e=e||Kk,h.scrollbars="yes");const p=Object.entries(h).reduce((_,[w,C])=>`${_}${w}=${C},`,"");if(ID(d)&&f!=="_self")return Jk(e||"",f),new oT(null);const y=window.open(e||"",f,p);at(y,n,"popup-blocked");try{y.focus()}catch{}return new oT(y)}function Jk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const Zk="__/auth/handler",e8="emulator/auth/handler",t8=encodeURIComponent("fac");async function cT(n,e,t,r,a,l){at(n.config.authDomain,n,"auth-domain-config-required"),at(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vc,eventId:a};if(e instanceof jS){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",qR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))c[p]=y}if(e instanceof zf){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(c.scopes=p.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const p of Object.keys(f))f[p]===void 0&&delete f[p];const h=await n._getAppCheckToken(),d=h?`#${t8}=${encodeURIComponent(h)}`:"";return`${n8(n)}?${kf(f).slice(1)}${d}`}function n8({config:n}){return n.emulator?yv(n,e8):`https://${n.authDomain}/${Zk}`}const Dg="webStorageSupport";class r8{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zS,this._completeRedirectFn=Ck,this._overrideRedirectResult=bk}async _openPopup(e,t,r,a){os(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await cT(e,t,r,g1(),a);return Qk(e,l,wv())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await cT(e,t,r,g1(),a);return sk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(os(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await Gk(e),r=new Rk(e);return t.register("authEvent",a=>(at(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dg,{type:Dg},a=>{const l=a?.[0]?.[Dg];l!==void 0&&t(!!l),ls(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kS()||CS()||Ev()}}const i8=r8;var uT="@firebase/auth",fT="1.11.1";class a8{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){at(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function s8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l8(n){Nc(new lo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=r.options;at(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:MS(n)},d=new LD(r,a,l,h);return zD(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Nc(new lo("auth-internal",e=>{const t=im(e.getProvider("auth").getImmediate());return(r=>new a8(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),il(uT,fT,s8(n)),il(uT,fT,"esm2020")}const o8=300,c8=Pw("authIdTokenMaxAge")||o8;let hT=null;const u8=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>c8)return;const a=t?.token;hT!==a&&(hT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function f8(n=Uw()){const e=j1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=UD(n,{popupRedirectResolver:i8,persistence:[pk,rk,zS]}),r=Pw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=u8(l.toString());ZD(t,c,()=>c(t.currentUser)),JD(t,f=>c(f))}}const a=kw("auth");return a&&HD(t,`http://${a}`),t}function h8(){return document.getElementsByTagName("head")?.[0]??document}jD({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=a=>{const l=ba("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",h8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l8("Browser");const d8=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),m8=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),dT=n=>{const e=m8(n);return e.charAt(0).toUpperCase()+e.slice(1)},$S=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),p8=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var g8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const v8=Z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:c,...f},h)=>Z.createElement("svg",{ref:h,...g8,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:$S("lucide",a),...!l&&!p8(f)&&{"aria-hidden":"true"},...f},[...c.map(([d,p])=>Z.createElement(d,p)),...Array.isArray(l)?l:[l]]));const Ye=(n,e)=>{const t=Z.forwardRef(({className:r,...a},l)=>Z.createElement(v8,{ref:l,iconNode:e,className:$S(`lucide-${d8(dT(n))}`,`lucide-${n}`,r),...a}));return t.displayName=dT(n),t};const x8=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],y8=Ye("archive",x8);const _8=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Sv=Ye("arrow-down",_8);const E8=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],T8=Ye("arrow-left",E8);const w8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],b8=Ye("arrow-right",w8);const S8=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],KS=Ye("arrow-up",S8);const A8=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],C8=Ye("bold",A8);const N8=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],QS=Ye("calculator",N8);const R8=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],JS=Ye("calendar",R8);const I8=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Av=Ye("camera",I8);const O8=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],D8=Ye("chevron-left",O8);const k8=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],M8=Ye("chevron-right",k8);const P8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L8=Ye("circle-alert",P8);const j8=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lm=Ye("circle-check-big",j8);const F8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],B8=Ye("circle-x",F8);const V8=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ZS=Ye("clock-3",V8);const U8=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],eA=Ye("clock",U8);const z8=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],gd=Ye("crown",z8);const H8=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],q8=Ye("database",H8);const G8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],vd=Ye("dollar-sign",G8);const Y8=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],tA=Ye("download",Y8);const X8=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ya=Ye("external-link",X8);const W8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],$8=Ye("file-spreadsheet",W8);const K8=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],mT=Ye("heart",K8);const Q8=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qf=Ye("image",Q8);const J8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cv=Ye("info",J8);const Z8=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],eM=Ye("italic",Z8);const tM=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nA=Ye("key",tM);const nM=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],xd=Ye("link",nM);const rM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iM=Ye("list",rM);const aM=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sM=Ye("lock",aM);const lM=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rA=Ye("log-out",lM);const oM=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],cM=Ye("map-pin",oM);const uM=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],fM=Ye("megaphone",uM);const hM=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],pT=Ye("message-square",hM);const dM=[["path",{d:"M5 12h14",key:"1ays0h"}]],Nv=Ye("minus",dM);const mM=[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]],gT=Ye("music",mM);const pM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Rv=Ye("package",pM);const gM=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],to=Ye("pen-line",gM);const vM=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],iA=Ye("plane",vM);const xM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gf=Ye("plus",xM);const yM=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],_M=Ye("refresh-ccw",yM);const EM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],vT=Ye("rocket",EM);const TM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],wM=Ye("rotate-ccw",TM);const bM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],xo=Ye("save",bM);const SM=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],AM=Ye("school",SM);const CM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],aA=Ye("search",CM);const NM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sA=Ye("shield",NM);const RM=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],IM=Ye("shopping-bag",RM);const OM=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Iv=Ye("shopping-cart",OM);const DM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],kM=Ye("star",DM);const MM=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Pc=Ye("tag",MM);const PM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],LM=Ye("text-align-end",PM);const jM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],FM=Ye("text-align-center",jM);const BM=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],VM=Ye("text-align-start",BM);const UM=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],lA=Ye("ticket",UM);const zM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],W0=Ye("trash-2",zM);const HM=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Ov=Ye("truck",HM);const qM=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],kg=Ye("type",qM);const GM=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],YM=Ye("underline",GM);const XM=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Dv=Ye("upload",XM);const WM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],oA=Ye("user",WM);const $M=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],KM=Ye("wallet",$M);const QM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fi=Ye("x",QM);const JM=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],yd=Ye("zap",JM);const ZM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],e9=Ye("zoom-in",ZM);const t9=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],n9=Ye("zoom-out",t9);function r9({users:n,onLogin:e}){const[t,r]=Z.useState(""),[a,l]=Z.useState(""),c=f=>{f.preventDefault(),console.log("..."),e(t,a)};return g.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:g.jsxs("form",{onSubmit:c,className:`\r
          bg-white w-full max-w-md p-8 rounded-lg \r
          border-4 border-slate-900 \r
          shadow-[8px_8px_0px_0px_#FACC15] \r
          relative overflow-hidden\r
        `,children:[g.jsx("div",{className:"absolute top-0 left-0 w-full h-1/4 bg-red-600 transform -skew-y-3 -mt-8 opacity-10"}),g.jsxs("div",{className:"text-center mb-8 relative z-10",children:[g.jsx("div",{className:"inline-block p-4 bg-slate-900 rounded-full text-yellow-400 mb-4 border-2 border-yellow-400",children:g.jsx(sA,{size:36})}),g.jsx("h1",{className:"text-3xl font-black italic text-slate-900 tracking-wider",children:""}),g.jsx("p",{className:"text-slate-500 text-sm mt-1 font-bold",children:"U.A. ACADEMY LOGIN"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"text-slate-900 text-sm font-black italic block mb-1 flex items-center gap-1",children:[g.jsx(oA,{size:16}),"  (Your ID)"]}),g.jsxs("select",{className:`\r
                w-full border-2 border-slate-900 rounded-lg px-3 py-2.5 \r
                bg-slate-50 text-slate-800 font-bold \r
                focus:outline-none focus:ring-4 focus:ring-yellow-400 \r
                transition-all appearance-none\r
              `,value:t,onChange:f=>r(f.target.value),required:!0,children:[g.jsx("option",{value:"",children:"..."}),n.map(f=>g.jsx("option",{value:f.id,children:f.name},f.id))]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-slate-900 text-sm font-black italic block mb-1 flex items-center gap-1",children:[g.jsx(sM,{size:16}),"  (Password)"]}),g.jsx("input",{type:"password",value:a,onChange:f=>l(f.target.value),placeholder:"",className:`\r
                w-full border-2 border-slate-900 rounded-lg px-3 py-2 \r
                bg-slate-50 text-slate-900 font-bold \r
                focus:outline-none focus:ring-4 focus:ring-yellow-400 \r
                placeholder-slate-400 transition-all\r
              `,required:!0}),g.jsx("span",{className:"text-xs text-slate-500 font-medium mt-1",children:" 4  0 "})]}),g.jsxs("button",{type:"submit",className:`\r
              w-full py-3 mt-4 text-xl \r
              bg-red-600 text-white font-black italic \r
              rounded-lg border-2 border-red-800\r
              shadow-[4px_4px_0px_0px_rgba(15,23,42,1)]\r
              hover:bg-red-700 \r
              disabled:opacity-50 disabled:shadow-none\r
              transition-all transform active:translate-y-0.5 active:translate-x-0.5 active:shadow-none\r
            `,disabled:!t||!a,children:[g.jsx(b8,{size:20,className:"inline mr-2"})," (LOGIN!)"]})]})]})})}const i9=n=>new Promise(e=>{const t=new FileReader;t.readAsDataURL(n),t.onload=r=>{const a=new Image;a.src=r.target.result,a.onload=()=>{const l=document.createElement("canvas"),c=800,f=800;let h=a.width,d=a.height;h>d?h>c&&(d*=c/h,h=c):d>f&&(h*=f/d,d=f),l.width=h,l.height=d,l.getContext("2d").drawImage(a,0,0,h,d),e(l.toDataURL("image/jpeg",.7))}}});function a9({onSubmit:n,onCancel:e,initialData:t=null}){const[r,a]=Z.useState(t?.title||""),[l,c]=Z.useState(()=>t?.images?.filter(R=>R.startsWith("http"))?.join(", ")||""),[f,h]=Z.useState(t?.url||""),[d,p]=Z.useState(t?.note||""),[y,_]=Z.useState(()=>t?.images?.filter(R=>R.startsWith("data:"))||[]),w=async R=>{if(R.target.files){const re=5-(l.split(",").map(I=>I.trim()).filter(I=>I).length+y.length);if(re<=0){alert(" 5 "),R.target.value=null;return}const N=Array.from(R.target.files).slice(0,re),O=await Promise.all(N.map(I=>i9(I)));_(I=>[...I,...O]),R.target.value=null}},C=R=>{_(M=>M.filter((G,te)=>te!==R))},E=()=>{if(!r)return alert("");const M=[...l.split(",").map(G=>G.trim()).filter(G=>G),...y];n({title:r,images:M,url:f,note:d})},b=y.length+l.split(",").map(R=>R.trim()).filter(R=>R).length,j=!!t;return g.jsxs("form",{onSubmit:R=>{R.preventDefault(),E()},className:"flex flex-col gap-4 text-slate-800",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(pT,{size:16}),"  ()"]}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",placeholder:" ",value:r,onChange:R=>a(R.target.value),required:!0})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(qf,{size:16}),"  ()"]}),g.jsx("textarea",{className:"w-full border-2 border-slate-900 rounded p-2 text-sm h-16 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",placeholder:"",value:l,onChange:R=>c(R.target.value)})]}),g.jsxs("div",{className:"flex flex-col gap-2 p-3 border-2 border-dashed border-slate-300 rounded-lg bg-slate-100",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 flex items-center justify-between",children:[g.jsxs("span",{children:[g.jsx(Dv,{size:16,className:"inline mr-1"}),"  ( ",b," / 5)"]}),b>=5&&g.jsx("span",{className:"text-red-600 font-bold",children:""})]}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:w,disabled:b>=5,className:"block w-full text-sm text-slate-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-2 file:border-red-800 file:text-xs file:font-black file:bg-red-600 file:text-white hover:file:bg-red-700 cursor-pointer disabled:opacity-50"}),y.length>0&&g.jsx("div",{className:"flex gap-2 overflow-x-auto py-2 pb-4",children:y.map((R,M)=>g.jsxs("div",{className:"relative shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 border-slate-900 shadow",children:[g.jsx("img",{src:R,className:"w-full h-full object-cover",alt:"preview"}),g.jsx("button",{type:"button",onClick:()=>C(M),className:"absolute top-0 right-0 bg-red-600 text-white rounded-full p-1 transform translate-x-1/3 -translate-y-1/3 border-2 border-white hover:bg-red-700 transition-all",children:g.jsx(fi,{size:12})})]},M))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(ya,{size:16}),"  ()"]}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:f,onChange:R=>h(R.target.value),placeholder:"https://www.amazon.co.jp/..."})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(pT,{size:16})," / ()"]}),g.jsx("textarea",{className:"w-full border-2 border-slate-900 rounded p-2 h-24 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",maxLength:500,value:d,onChange:R=>p(R.target.value),placeholder:" M  8000"})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsxs("button",{type:"button",onClick:e,className:"px-6 py-2 rounded bg-white text-slate-900 border-2 border-slate-900 hover:bg-slate-100 font-bold italic transition-all",children:[g.jsx(fi,{size:16,className:"inline mr-1"})," "]}),g.jsxs("button",{type:"submit",className:"px-6 py-2 rounded bg-red-600 text-white border-2 border-red-800 hover:bg-red-700 font-black italic shadow-[2px_2px_0px_0px_rgba(153,27,27,1)] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(xo,{size:16,className:"inline mr-1"})," ",j?"":""]})]})]})}const s9=n=>new Promise(e=>{const t=new FileReader;t.readAsDataURL(n),t.onload=r=>{const a=new Image;a.src=r.target.result,a.onload=()=>{const l=document.createElement("canvas"),c=800,f=800;let h=a.width,d=a.height;h>d?h>c&&(d*=c/h,h=c):d>f&&(h*=f/d,d=f),l.width=h,l.height=d,l.getContext("2d").drawImage(a,0,0,h,d),e(l.toDataURL("image/jpeg",.7))}}});function l9({onSubmit:n,onCancel:e,initialData:t=null,submitLabel:r=""}){const[a,l]=Z.useState(t?.title||""),[c,f]=Z.useState(t?.type||""),[h,d]=Z.useState(()=>t?.images?.filter(D=>D.startsWith("http"))?.join(", ")||""),[p,y]=Z.useState(()=>t?.images?.filter(D=>D.startsWith("data:"))||[]),[_,w]=Z.useState(t?.infoUrl||""),[C,E]=Z.useState(()=>t?.deadline?t.deadline.slice(0,16):""),[b,j]=Z.useState(t?.releaseDate||""),[R,M]=Z.useState(t?.items||[{id:1,name:"",spec:"",price:"",limit:"",image:""}]),G=()=>M([...R,{id:Date.now(),name:"",spec:"",price:"",limit:"",image:""}]),te=(D,L,B)=>M(R.map(V=>V.id===D?{...V,[L]:B}:V)),re=D=>R.length>1?M(R.filter(L=>L.id!==D)):M([{id:Date.now(),name:"",spec:"",price:"",limit:"",image:""}]),N=(D,L)=>{const B=[...R];L==="up"&&D>0&&([B[D-1],B[D]]=[B[D],B[D-1]]),L==="down"&&D<B.length-1&&([B[D+1],B[D]]=[B[D],B[D+1]]),M(B)},O=async D=>{if(D.target.files){const L=Array.from(D.target.files),B=await Promise.all(L.map(V=>s9(V)));y(V=>[...V,...B]),D.target.value=null}},I=()=>{if(!a||!C)return alert("");const D=R.filter(B=>B.name&&B.price);if(D.length===0)return alert("/");const L=h.split(",").map(B=>B.trim()).filter(B=>B);n({title:a,type:c,images:[...L,...p],infoUrl:_,deadline:C,releaseDate:b,items:D})};return g.jsxs("form",{onSubmit:D=>{D.preventDefault(),I()},className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(Rv,{size:16}),"  ()"]}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:a,onChange:D=>l(D.target.value),placeholder:" 6  BD ",required:!0})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(Pc,{size:16})," "]}),g.jsxs("div",{className:"flex gap-2 text-xs sm:text-sm",children:[g.jsxs("label",{className:`flex-1 cursor-pointer border-2 rounded-lg py-2 px-1 text-center font-black transition-all ${c===""?"bg-slate-900 text-yellow-400 border-slate-900 shadow-md transform -translate-y-0.5":"bg-white text-slate-400 border-slate-200 hover:border-slate-400"}`,children:[g.jsx("input",{type:"radio",className:"hidden",name:"groupType",value:"",checked:c==="",onChange:()=>f("")})," "]}),g.jsxs("label",{className:`flex-1 cursor-pointer border-2 rounded-lg py-2 px-1 text-center font-black transition-all ${c===""?"bg-green-600 text-white border-green-800 shadow-md transform -translate-y-0.5":"bg-white text-slate-400 border-slate-200 hover:border-slate-400"}`,children:[g.jsx("input",{type:"radio",className:"hidden",name:"groupType",value:"",checked:c==="",onChange:()=>f("")})," "]})]})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(qf,{size:16}),"  ()"]}),g.jsx("textarea",{className:"w-full border-2 border-slate-900 rounded p-2 text-sm h-16 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:h,onChange:D=>d(D.target.value),placeholder:" ()"})]}),g.jsxs("div",{className:"flex flex-col gap-2 p-3 border-2 border-dashed border-slate-300 rounded-lg bg-slate-100",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 flex items-center gap-2",children:[g.jsx(Dv,{size:16})," "]}),g.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:O,className:"block w-full text-sm text-slate-700 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-2 file:border-red-800 file:text-xs file:font-black file:bg-red-600 file:text-white hover:file:bg-red-700 cursor-pointer"}),p.length>0&&g.jsx("div",{className:"flex gap-2 overflow-x-auto py-2 pb-4",children:p.map((D,L)=>g.jsxs("div",{className:"relative shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 border-slate-900 shadow",children:[g.jsx("img",{src:D,className:"w-full h-full object-cover",alt:"preview"}),g.jsx("button",{type:"button",onClick:()=>y(B=>B.filter((V,$e)=>$e!==L)),className:"absolute top-0 right-0 bg-red-600 text-white rounded-full p-1 transform translate-x-1/3 -translate-y-1/3 border-2 border-white hover:bg-red-700 transition-all",children:g.jsx(fi,{size:12})})]},L))})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(xd,{size:16})," / ()"]}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:_,onChange:D=>w(D.target.value),placeholder:"https://shueisha.co.jp/..."})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-black italic text-slate-900 mb-1 flex items-center gap-1",children:[g.jsx(JS,{size:16})," / ()"]}),g.jsx("input",{type:"datetime-local",className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:C,onChange:D=>E(D.target.value),required:!0})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"text-sm font-black italic text-slate-900 mb-1",children:" ()"}),g.jsx("input",{type:"date",className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 focus:border-slate-900 font-bold bg-slate-50 placeholder:text-slate-400 transition-all",value:b,onChange:D=>j(D.target.value)})]})]}),g.jsxs("div",{className:"bg-slate-100 p-4 rounded-xl border-2 border-slate-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap gap-2",children:[g.jsx("h4",{className:"font-black italic text-lg text-slate-900 transform -skew-x-3",children:c===""?" (ITEMS)":" (ITEMS)"}),g.jsx("button",{type:"button",onClick:G,className:"text-sm font-black px-3 py-1 bg-yellow-400 text-slate-900 rounded border-2 border-slate-900 hover:bg-yellow-500 transition-all",children:"+ "})]}),g.jsx("div",{className:"space-y-4",children:R.map((D,L)=>g.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-900 relative flex gap-3 items-start shadow-[2px_2px_0px_0px_rgba(15,23,42,1)]",children:[g.jsxs("div",{className:"flex flex-col gap-1 justify-center pt-1",children:[g.jsxs("span",{className:"text-xl font-black text-red-600 italic leading-none",children:[L+1,"."]}),g.jsx("button",{type:"button",onClick:()=>N(L,"up"),disabled:L===0,className:"text-slate-400 hover:text-blue-600 disabled:opacity-30 p-0.5",children:g.jsx(KS,{size:16})}),g.jsx("button",{type:"button",onClick:()=>N(L,"down"),disabled:L===R.length-1,className:"text-slate-400 hover:text-blue-600 disabled:opacity-30 p-0.5",children:g.jsx(Sv,{size:16})})]}),g.jsxs("div",{className:"flex-1 grid grid-cols-12 gap-2",children:[g.jsx("div",{className:"col-span-12 sm:col-span-7",children:g.jsx("input",{className:"w-full border-2 border-slate-900 p-2 rounded text-sm bg-slate-50 focus:bg-white focus:ring-2 focus:ring-yellow-400 font-bold placeholder:font-normal",placeholder:"",value:D.name,onChange:B=>te(D.id,"name",B.target.value),required:!0})}),g.jsxs("div",{className:"col-span-12 sm:col-span-5 relative",children:[g.jsx("div",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400",children:g.jsx(xd,{size:14})}),g.jsx("input",{className:"w-full border-2 border-slate-300 p-2 pl-7 rounded text-sm text-slate-700 focus:ring-2 focus:ring-yellow-400",placeholder:"",value:D.image||"",onChange:B=>te(D.id,"image",B.target.value)}),D.image&&g.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 w-6 h-6 rounded border-2 border-slate-900 bg-slate-100 overflow-hidden shadow",children:g.jsx("img",{src:D.image,className:"w-full h-full object-cover",onError:B=>B.target.style.display="none"})})]}),g.jsx("div",{className:"col-span-6 sm:col-span-5",children:g.jsx("input",{className:"w-full border-2 border-slate-900 p-2 rounded text-sm focus:ring-2 focus:ring-yellow-400",placeholder:"",value:D.spec,onChange:B=>te(D.id,"spec",B.target.value)})}),g.jsx("div",{className:"col-span-3 sm:col-span-4",children:g.jsx("input",{className:"w-full border-2 border-slate-900 p-2 rounded text-sm focus:ring-2 focus:ring-yellow-400 font-black text-red-600",type:"number",placeholder:"",value:D.price,onChange:B=>te(D.id,"price",B.target.value),required:!0})}),g.jsx("div",{className:"col-span-3 sm:col-span-3",children:g.jsx("input",{className:"w-full border-2 border-slate-900 p-2 rounded text-sm focus:ring-2 focus:ring-yellow-400",type:"number",placeholder:"",value:D.limit,onChange:B=>te(D.id,"limit",B.target.value)})})]}),g.jsx("button",{type:"button",onClick:()=>re(D.id),className:"text-red-600 hover:text-red-800 p-1 mt-1 shrink-0",children:g.jsx(fi,{size:18})})]},D.id))})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[g.jsxs("button",{type:"button",onClick:e,className:"px-6 py-2 rounded bg-white text-slate-900 border-2 border-slate-900 hover:bg-slate-100 font-bold italic transition-all",children:[g.jsx(fi,{size:16,className:"inline mr-1"})," "]}),g.jsxs("button",{type:"submit",className:"px-6 py-2 rounded bg-slate-900 text-yellow-400 border-2 border-slate-900 hover:bg-slate-700 font-black italic shadow-[4px_4px_0px_0px_#FACC15] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(xo,{size:16,className:"inline mr-1"})," ",r]})]})]})}function o9({onSubmit:n,onCancel:e}){const[t,r]=Z.useState(""),[a,l]=Z.useState(""),[c,f]=Z.useState(""),[h,d]=Z.useState(""),[p,y]=Z.useState([{id:Date.now(),name:"",price:"",quantity:1,url:""}]),_=()=>{y([...p,{id:Date.now(),name:"",price:"",quantity:1,url:""}])},w=b=>{p.length>1&&y(p.filter(j=>j.id!==b))},C=(b,j,R)=>{y(p.map(M=>M.id===b?{...M,[j]:R}:M))},E=b=>{if(b.preventDefault(),!t.trim())return alert(" IP ");if(!c.trim())return alert("");const j=p.filter(R=>R.name.trim()&&R.price);if(j.length===0)return alert("");n({ipName:t,type:a,sourceUrl:c,note:h,items:j})};return g.jsxs("form",{onSubmit:E,className:"space-y-5 font-sans text-slate-800",children:[g.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl border-2 border-slate-200",children:[g.jsxs("h4",{className:"font-black italic text-lg text-slate-900 border-b-2 border-slate-300 pb-2 mb-3 flex items-center gap-2",children:[g.jsx(Cv,{size:20,className:"text-blue-600"}),"  (INFO)"]}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-black text-slate-700 mb-1",children:[" IP /  ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-bold placeholder:font-normal",placeholder:" ...",value:t,onChange:b=>r(b.target.value)})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-black text-slate-700 mb-1",children:[" ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsxs("label",{className:`flex-1 cursor-pointer border-2 rounded-lg p-2 text-center font-black transition-all ${a===""?"bg-slate-900 text-yellow-400 border-slate-900 shadow-md transform -translate-y-0.5":"bg-white text-slate-400 border-slate-200 hover:border-slate-400"}`,children:[g.jsx("input",{type:"radio",className:"hidden",value:"",checked:a==="",onChange:()=>l("")})," "]}),g.jsxs("label",{className:`flex-1 cursor-pointer border-2 rounded-lg p-2 text-center font-black transition-all ${a===""?"bg-green-600 text-white border-green-800 shadow-md transform -translate-y-0.5":"bg-white text-slate-400 border-slate-200 hover:border-slate-400"}`,children:[g.jsx("input",{type:"radio",className:"hidden",value:"",checked:a==="",onChange:()=>l("")})," "]})]})]}),g.jsxs("div",{children:[g.jsxs("label",{className:"block text-sm font-black text-slate-700 mb-1",children:[" /  ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsxs("div",{className:"relative",children:[g.jsx(xd,{size:16,className:"absolute left-3 top-3 text-slate-400"}),g.jsx("input",{className:"w-full border-2 border-slate-900 rounded p-2 pl-9 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-bold placeholder:font-normal",placeholder:"...",value:c,onChange:b=>f(b.target.value)})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-black text-slate-700 mb-1",children:" ()"}),g.jsx("textarea",{className:"w-full border-2 border-slate-900 rounded p-2 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-medium placeholder:font-normal h-20",placeholder:"...",value:h,onChange:b=>d(b.target.value)})]})]})]}),g.jsxs("div",{className:"bg-slate-100 p-4 rounded-xl border-2 border-slate-300",children:[g.jsxs("div",{className:"flex justify-between items-center mb-4",children:[g.jsxs("h4",{className:"font-black italic text-lg text-slate-900 transform -skew-x-3 flex items-center gap-2",children:[g.jsx(Iv,{size:20,className:"text-red-600"}),"  (ITEMS)"]}),g.jsx("button",{type:"button",onClick:_,className:"text-xs font-black px-3 py-1.5 bg-yellow-400 text-slate-900 rounded border-2 border-slate-900 hover:bg-yellow-500 transition-all shadow-sm",children:"+ "})]}),g.jsx("div",{className:"space-y-3",children:p.map((b,j)=>g.jsxs("div",{className:"bg-white p-3 rounded-lg border-2 border-slate-900 relative shadow-[2px_2px_0px_0px_rgba(15,23,42,1)] animate-in fade-in slide-in-from-bottom-1",children:[g.jsxs("div",{className:"flex justify-between items-center mb-2 border-b border-dashed border-slate-200 pb-1",children:[g.jsxs("span",{className:"text-xs font-black text-slate-400 italic",children:["ITEM #",j+1]}),p.length>1&&g.jsx("button",{type:"button",onClick:()=>w(b.id),className:"text-red-400 hover:text-red-600",children:g.jsx(fi,{size:16})})]}),g.jsxs("div",{className:"grid grid-cols-12 gap-2",children:[g.jsxs("div",{className:"col-span-8",children:[g.jsxs("label",{className:"text-[10px] font-bold text-slate-500",children:[" ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{className:"w-full border-2 border-slate-200 rounded p-1.5 text-sm font-bold focus:border-slate-900 focus:ring-0",placeholder:" S",value:b.name,onChange:R=>C(b.id,"name",R.target.value)})]}),g.jsxs("div",{className:"col-span-4",children:[g.jsxs("label",{className:"text-[10px] font-bold text-slate-500",children:[" ",g.jsx("span",{className:"text-red-500",children:"*"})]}),g.jsx("input",{type:"number",className:"w-full border-2 border-slate-200 rounded p-1.5 text-sm font-black text-red-600 focus:border-slate-900 focus:ring-0",placeholder:"",value:b.price,onChange:R=>C(b.id,"price",R.target.value)})]}),g.jsxs("div",{className:"col-span-4 sm:col-span-3",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:""}),g.jsxs("div",{className:"flex items-center",children:[g.jsx("button",{type:"button",onClick:()=>C(b.id,"quantity",Math.max(1,b.quantity-1)),className:"bg-slate-200 p-1 rounded-l border-y-2 border-l-2 border-slate-200 hover:bg-slate-300",children:g.jsx(Nv,{size:12})}),g.jsx("input",{type:"number",className:"w-full text-center border-y-2 border-slate-200 p-1 text-sm font-bold h-[30px]",value:b.quantity,onChange:R=>C(b.id,"quantity",Math.max(1,parseInt(R.target.value)||1))}),g.jsx("button",{type:"button",onClick:()=>C(b.id,"quantity",b.quantity+1),className:"bg-slate-200 p-1 rounded-r border-y-2 border-r-2 border-slate-200 hover:bg-slate-300",children:g.jsx(Gf,{size:12})})]})]}),g.jsxs("div",{className:"col-span-8 sm:col-span-9",children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:" ()"}),g.jsx("input",{className:"w-full border-2 border-slate-200 rounded p-1.5 text-sm text-slate-500 focus:border-slate-900 focus:ring-0",placeholder:"http://...",value:b.url,onChange:R=>C(b.id,"url",R.target.value)})]})]})]},b.id))})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-slate-200",children:[g.jsxs("button",{type:"button",onClick:e,className:"px-6 py-2 rounded bg-white text-slate-900 border-2 border-slate-900 hover:bg-slate-100 font-bold italic transition-all",children:[g.jsx(fi,{size:16,className:"inline mr-1"})," "]}),g.jsxs("button",{type:"submit",className:"px-6 py-2 rounded bg-purple-600 text-white border-2 border-purple-800 hover:bg-purple-700 font-black italic shadow-[4px_4px_0px_0px_rgba(76,29,149,1)] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(xo,{size:16,className:"inline mr-1"})," "]})]})]})}function c9({group:n,currentOrder:e,onSubmit:t}){const[r,a]=Z.useState(()=>{const p={};return n.items.forEach(y=>{const _=e?.items?.find(w=>w.itemId==y.id||w.name?.trim()===y.name?.trim()&&(w.spec?.trim()||"")===(y.spec?.trim()||""));p[y.id]=_?_.quantity:0}),p}),l=(p,y)=>{const _=parseInt(y)||0,w=n.items.find(E=>E.id===p);let C=Math.max(0,_);w?.limit&&C>w.limit&&(C=w.limit),a(E=>({...E,[p]:C}))},c=()=>{const p=n.items.map(y=>({itemId:y.id||y.name,name:y.name,spec:y.spec,price:y.price,image:y.image,quantity:r[y.id]||0})).filter(y=>y.quantity>0);if(p.length===0){e?confirm(" 0()")&&t([]):alert("");return}t(p)},f=n.items.reduce((p,y)=>{const _=Number(y.price)||0,w=r[y.id]||0;return p+_*w},0),h=Number(n.shippingFee||0),d=Math.round((f+h)*n.exchangeRate);return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border-2 border-yellow-400 text-sm font-bold text-slate-800",children:[g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(yd,{size:16,className:"text-red-600"}),""]}),g.jsxs("ul",{className:"mt-1 ml-1 list-disc list-inside text-xs font-medium text-slate-600 space-y-0.5",children:[g.jsxs("li",{children:["",n.exchangeRate]}),g.jsxs("li",{children:[" ",h.toLocaleString()]}),g.jsxs("li",{children:["",n.deadline]})]})]}),g.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg border-2 border-slate-200",children:[g.jsx("h4",{className:"font-black italic text-lg text-slate-900 border-b border-slate-300 pb-3 mb-3",children:""}),g.jsx("div",{className:"space-y-4",children:n.items.map(p=>{const y=r[p.id]||0,_=p.limit&&y>=p.limit;return g.jsxs("div",{className:"flex items-center justify-between border-b-2 border-slate-100 pb-4 last:border-0 bg-white p-3 rounded-lg shadow-sm",children:[g.jsxs("div",{className:"flex items-start gap-3 flex-1 overflow-hidden",children:[g.jsx("div",{className:"w-14 h-14 rounded-full bg-slate-100 border-2 border-slate-900 shrink-0 overflow-hidden flex items-center justify-center shadow-md",children:p.image?g.jsx("img",{src:p.image,alt:p.spec,className:"w-full h-full object-cover"}):g.jsx(qf,{size:20,className:"text-slate-400"})}),g.jsxs("div",{className:"min-w-0 pt-1",children:[g.jsx("div",{className:"font-black italic text-slate-900 truncate",children:p.name}),g.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 mt-1 flex-wrap",children:[p.spec&&g.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full font-bold",children:p.spec}),g.jsxs("span",{className:"text-red-600 font-black flex items-center gap-0.5",children:["",p.price]}),p.limit&&g.jsxs("span",{className:"text-xs text-slate-500 font-medium",children:[" (: ",p.limit,")"]}),_&&g.jsx("span",{className:"text-red-600 font-black text-xs",children:" (MAX!)"})]})]})]}),g.jsxs("div",{className:"flex items-center gap-1 pl-2 shrink-0",children:[g.jsx("button",{type:"button",className:"w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 font-bold text-slate-900 flex items-center justify-center border-2 border-slate-900 transition-colors shadow-[1px_1px_0px_0px_rgba(15,23,42,1)] active:shadow-none active:translate-y-0.5 active:translate-x-0.5",onClick:()=>l(p.id,y-1),children:g.jsx(Nv,{size:16})}),g.jsx("input",{type:"number",className:"w-10 text-center font-black italic text-lg border-none focus:ring-2 focus:ring-yellow-400 p-0 bg-transparent text-slate-900",value:y,onChange:w=>l(p.id,w.target.value),min:"0",max:p.limit||999}),g.jsx("button",{type:"button",className:`w-8 h-8 rounded-full font-bold flex items-center justify-center border-2 border-slate-900 transition-colors shadow-[1px_1px_0px_0px_rgba(15,23,42,1)] active:shadow-none active:translate-y-0.5 active:translate-x-0.5 ${_?"bg-slate-300 text-slate-600 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"}`,onClick:()=>l(p.id,y+1),disabled:_,children:g.jsx(Gf,{size:16})})]})]},p.id)})})]}),g.jsxs("div",{className:"bg-slate-800 text-white p-4 rounded-lg border-2 border-yellow-400 shadow-md",children:[g.jsx("h4",{className:"text-xl font-black italic text-yellow-400 mb-2",children:" (Summary)"}),g.jsxs("p",{className:"flex justify-between font-bold text-white border-b border-slate-600 pb-1 text-base",children:[g.jsx("span",{children:" (Goods JPY)"}),g.jsxs("span",{className:"font-mono text-xl text-red-400",children:[" ",f.toLocaleString()]})]}),h>0&&g.jsxs("p",{className:"flex justify-between text-sm pt-1 text-slate-300",children:[g.jsx("span",{children:" (Shipping JPY)"}),g.jsxs("span",{className:"font-mono",children:[" ",h.toLocaleString()]})]}),g.jsxs("p",{className:"flex justify-between pt-2 border-t border-slate-600 mt-2 font-black text-xl italic",children:[g.jsx("span",{children:" (NT$)"}),g.jsxs("span",{className:"font-mono text-2xl text-yellow-400",children:["NT$ ",d.toLocaleString()]})]})]}),g.jsx("div",{className:"pt-4 sticky bottom-0 bg-white/90 backdrop-blur-sm pb-2 border-t-2 border-yellow-400 mt-4",children:g.jsxs("button",{type:"button",className:"w-full py-3 bg-red-600 text-white rounded-lg font-black italic text-xl hover:bg-red-700 transition-all shadow-[4px_4px_0px_0px_rgba(15,23,42,1)] active:translate-y-1 active:shadow-none active:translate-x-1 border-2 border-slate-900",onClick:c,children:[g.jsx(lm,{size:20,className:"inline mr-2"}),f===0&&e?"":e?"":" (PLUS ULTRA!)"]})})]})}var _d={};_d.version="0.18.5";var cA=1252,u9=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],uA=function(n){u9.indexOf(n)!=-1&&(cA=n)};function f9(){uA(1252)}var wf=function(n){uA(n)};function h9(){wf(1200),f9()}var S0=function(e){return String.fromCharCode(e)},xT=function(e){return String.fromCharCode(e)},Ed,el="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function bf(n){for(var e="",t=0,r=0,a=0,l=0,c=0,f=0,h=0,d=0;d<n.length;)t=n.charCodeAt(d++),l=t>>2,r=n.charCodeAt(d++),c=(t&3)<<4|r>>4,a=n.charCodeAt(d++),f=(r&15)<<2|a>>6,h=a&63,isNaN(r)?f=h=64:isNaN(a)&&(h=64),e+=el.charAt(l)+el.charAt(c)+el.charAt(f)+el.charAt(h);return e}function cs(n){var e="",t=0,r=0,a=0,l=0,c=0,f=0,h=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)l=el.indexOf(n.charAt(d++)),c=el.indexOf(n.charAt(d++)),t=l<<2|c>>4,e+=String.fromCharCode(t),f=el.indexOf(n.charAt(d++)),r=(c&15)<<4|f>>2,f!==64&&(e+=String.fromCharCode(r)),h=el.indexOf(n.charAt(d++)),a=(f&3)<<6|h,h!==64&&(e+=String.fromCharCode(a));return e}var Mt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),hs=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function fo(n){return Mt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function yT(n){return Mt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Qi=function(e){return Mt?hs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function om(n){if(typeof ArrayBuffer>"u")return Qi(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function Yf(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function d9(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var lr=Mt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:hs(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),a=0;for(e=0,t=0;e<n.length;t+=a,++e)if(a=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(l){return Array.isArray(l)?l:[].slice.call(l)}))};function m9(n){for(var e=[],t=0,r=n.length+250,a=fo(n.length+255),l=0;l<n.length;++l){var c=n.charCodeAt(l);if(c<128)a[t++]=c;else if(c<2048)a[t++]=192|c>>6&31,a[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var f=n.charCodeAt(++l)&1023;a[t++]=240|c>>8&7,a[t++]=128|c>>2&63,a[t++]=128|f>>6&15|(c&3)<<4,a[t++]=128|f&63}else a[t++]=224|c>>12&15,a[t++]=128|c>>6&63,a[t++]=128|c&63;t>r&&(e.push(a.slice(0,t)),t=0,a=fo(65535),r=65530)}return e.push(a.slice(0,t)),lr(e)}var of=/\u0000/g,A0=/[\u0001-\u0006]/g;function wc(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Zi(n,e){var t=""+n;return t.length>=e?t:xn("0",e-t.length)+t}function kv(n,e){var t=""+n;return t.length>=e?t:xn(" ",e-t.length)+t}function Td(n,e){var t=""+n;return t.length>=e?t:t+xn(" ",e-t.length)}function p9(n,e){var t=""+Math.round(n);return t.length>=e?t:xn("0",e-t.length)+t}function g9(n,e){var t=""+n;return t.length>=e?t:xn("0",e-t.length)+t}var _T=Math.pow(2,32);function lc(n,e){if(n>_T||n<-_T)return p9(n,e);var t=Math.round(n);return g9(t,e)}function wd(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var ET=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Mg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function v9(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var yn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},TT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},x9={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function bd(n,e,t){for(var r=n<0?-1:1,a=n*r,l=0,c=1,f=0,h=1,d=0,p=0,y=Math.floor(a);d<e&&(y=Math.floor(a),f=y*c+l,p=y*d+h,!(a-y<5e-8));)a=1/(a-y),l=c,c=f,h=d,d=p;if(p>e&&(d>e?(p=h,f=l):(p=d,f=c)),!t)return[0,r*f,p];var _=Math.floor(r*f/p);return[_,r*f-_*p,p]}function C0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,a=Math.floor(86400*(n-r)),l=0,c=[],f={D:r,T:a,u:86400*(n-r)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(f.u)<1e-6&&(f.u=0),e&&e.date1904&&(r+=1462),f.u>.9999&&(f.u=0,++a==86400&&(f.T=a=0,++r,++f.D)),r===60)c=t?[1317,10,29]:[1900,2,29],l=3;else if(r===0)c=t?[1317,8,29]:[1900,1,0],l=6;else{r>60&&--r;var h=new Date(1900,0,1);h.setDate(h.getDate()+r-1),c=[h.getFullYear(),h.getMonth()+1,h.getDate()],l=h.getDay(),r<60&&(l=(l+6)%7),t&&(l=S9(h,c))}return f.y=c[0],f.m=c[1],f.d=c[2],f.S=a%60,a=Math.floor(a/60),f.M=a%60,a=Math.floor(a/60),f.H=a,f.q=l,f}var fA=new Date(1899,11,31,0,0,0),y9=fA.getTime(),_9=new Date(1900,2,1,0,0,0);function hA(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=_9&&(t+=1440*60*1e3),(t-(y9+(n.getTimezoneOffset()-fA.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Mv(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function E9(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function T9(n){var e=n<0?12:11,t=Mv(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function w9(n){var e=Mv(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function b9(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=T9(n):e===10?t=n.toFixed(10).substr(0,12):t=w9(n),Mv(E9(t.toUpperCase()))}function y1(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):b9(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return xl(14,hA(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function S9(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function A9(n,e,t,r){var a="",l=0,c=0,f=t.y,h,d=0;switch(n){case 98:f=t.y+543;case 121:switch(e.length){case 1:case 2:h=f%100,d=2;break;default:h=f%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:h=t.m,d=e.length;break;case 3:return Mg[t.m-1][1];case 5:return Mg[t.m-1][0];default:return Mg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:h=t.d,d=e.length;break;case 3:return ET[t.q][0];default:return ET[t.q][1]}break;case 104:switch(e.length){case 1:case 2:h=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:h=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:h=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Zi(t.S,e.length):(r>=2?c=r===3?1e3:100:c=r===1?10:1,l=Math.round(c*(t.S+t.u)),l>=60*c&&(l=0),e==="s"?l===0?"0":""+l/c:(a=Zi(l,2+r),e==="ss"?a.substr(0,2):"."+a.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":h=t.D*24+t.H;break;case"[m]":case"[mm]":h=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":h=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:h=f,d=1;break}var p=d>0?Zi(h,d):"";return p}function tl(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var dA=/%/g;function C9(n,e,t){var r=e.replace(dA,""),a=e.length-r.length;return es(n,r,t*Math.pow(10,2*a))+xn("%",a)}function N9(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return es(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function mA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+mA(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%a;if(l<0&&(l+=a),t=(e/Math.pow(10,l)).toPrecision(r+1+(a+l)%a),t.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+l):t+="E+"+(c-l);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,a)+"."+t.substr(2+a),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,d,p){return h+d+p.substr(0,(a+l)%a)+"."+p.substr(l)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var pA=/# (\?+)( ?)\/( ?)(\d+)/;function R9(n,e,t){var r=parseInt(n[4],10),a=Math.round(e*r),l=Math.floor(a/r),c=a-l*r,f=r;return t+(l===0?"":""+l)+" "+(c===0?xn(" ",n[1].length+1+n[4].length):kv(c,n[1].length)+n[2]+"/"+n[3]+Zi(f,n[4].length))}function I9(n,e,t){return t+(e===0?"":""+e)+xn(" ",n[1].length+2+n[4].length)}var gA=/^#*0*\.([0#]+)/,vA=/\).*[0#]/,xA=/\(###\) ###\\?-####/;function Nr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function wT(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function bT(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function O9(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function D9(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function Ai(n,e,t){if(n.charCodeAt(0)===40&&!e.match(vA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ai("n",r,t):"("+Ai("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return N9(n,e,t);if(e.indexOf("%")!==-1)return C9(n,e,t);if(e.indexOf("E")!==-1)return mA(e,t);if(e.charCodeAt(0)===36)return"$"+Ai(n,e.substr(e.charAt(1)==" "?2:1),t);var a,l,c,f,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+lc(h,e.length);if(e.match(/^[#?]+$/))return a=lc(t,0),a==="0"&&(a=""),a.length>e.length?a:Nr(e.substr(0,e.length-a.length))+a;if(l=e.match(pA))return R9(l,h,d);if(e.match(/^#+0+$/))return d+lc(h,e.length-e.indexOf("0"));if(l=e.match(gA))return a=wT(t,l[1].length).replace(/^([^\.]+)$/,"$1."+Nr(l[1])).replace(/\.$/,"."+Nr(l[1])).replace(/\.(\d*)$/,function(C,E){return"."+E+xn("0",Nr(l[1]).length-E.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return d+wT(h,l[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return d+tl(lc(h,0));if(l=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ai(n,e,-t):tl(""+(Math.floor(t)+O9(t,l[1].length)))+"."+Zi(bT(t,l[1].length),l[1].length);if(l=e.match(/^#,#*,#0/))return Ai(n,e.replace(/^#,#*,/,""),t);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=wc(Ai(n,e.replace(/[\\-]/g,""),t)),c=0,wc(wc(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<a.length?a.charAt(c++):C==="0"?"0":""}));if(e.match(xA))return a=Ai(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),f=bd(h,Math.pow(10,c)-1,!1),a=""+d,p=es("n",l[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+l[2]+"/"+l[3],p=Td(f[2],c),p.length<l[4].length&&(p=Nr(l[4].substr(l[4].length-p.length))+p),a+=p,a;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),f=bd(h,Math.pow(10,c)-1,!0),d+(f[0]||(f[1]?"":"0"))+" "+(f[1]?kv(f[1],c)+l[2]+"/"+l[3]+Td(f[2],c):xn(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return a=lc(t,0),e.length<=a.length?a:Nr(e.substr(0,e.length-a.length))+a;if(l=e.match(/^([#0?]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,_=e.length-a.length-y;return Nr(e.substr(0,y)+a+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return c=bT(t,l[1].length),t<0?"-"+Ai(n,e,-t):tl(D9(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Zi(0,3-C.length):"")+C})+"."+Zi(c,l[1].length);switch(e){case"###,##0.00":return Ai(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var w=tl(lc(h,0));return w!=="0"?d+w:"";case"###,###.00":return Ai(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return Ai(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function k9(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return es(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function M9(n,e,t){var r=e.replace(dA,""),a=e.length-r.length;return es(n,r,t*Math.pow(10,2*a))+xn("%",a)}function yA(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+yA(n,-e);var a=n.indexOf(".");a===-1&&(a=n.indexOf("E"));var l=Math.floor(Math.log(e)*Math.LOG10E)%a;if(l<0&&(l+=a),t=(e/Math.pow(10,l)).toPrecision(r+1+(a+l)%a),!t.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+l):t+="E+"+(c-l),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(f,h,d,p){return h+d+p.substr(0,(a+l)%a)+"."+p.substr(l)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function ga(n,e,t){if(n.charCodeAt(0)===40&&!e.match(vA)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ga("n",r,t):"("+ga("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return k9(n,e,t);if(e.indexOf("%")!==-1)return M9(n,e,t);if(e.indexOf("E")!==-1)return yA(e,t);if(e.charCodeAt(0)===36)return"$"+ga(n,e.substr(e.charAt(1)==" "?2:1),t);var a,l,c,f,h=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Zi(h,e.length);if(e.match(/^[#?]+$/))return a=""+t,t===0&&(a=""),a.length>e.length?a:Nr(e.substr(0,e.length-a.length))+a;if(l=e.match(pA))return I9(l,h,d);if(e.match(/^#+0+$/))return d+Zi(h,e.length-e.indexOf("0"));if(l=e.match(gA))return a=(""+t).replace(/^([^\.]+)$/,"$1."+Nr(l[1])).replace(/\.$/,"."+Nr(l[1])),a=a.replace(/\.(\d*)$/,function(C,E){return"."+E+xn("0",Nr(l[1]).length-E.length)}),e.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),l=e.match(/^(0*)\.(#*)$/))return d+(""+h).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,l[1].length?"0.":".");if(l=e.match(/^#{1,3},##0(\.?)$/))return d+tl(""+h);if(l=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ga(n,e,-t):tl(""+t)+"."+xn("0",l[1].length);if(l=e.match(/^#,#*,#0/))return ga(n,e.replace(/^#,#*,/,""),t);if(l=e.match(/^([0#]+)(\\?-([0#]+))+$/))return a=wc(ga(n,e.replace(/[\\-]/g,""),t)),c=0,wc(wc(e.replace(/\\/g,"")).replace(/[0#]/g,function(C){return c<a.length?a.charAt(c++):C==="0"?"0":""}));if(e.match(xA))return a=ga(n,"##########",t),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(l=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(l[4].length,7),f=bd(h,Math.pow(10,c)-1,!1),a=""+d,p=es("n",l[1],f[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+l[2]+"/"+l[3],p=Td(f[2],c),p.length<l[4].length&&(p=Nr(l[4].substr(l[4].length-p.length))+p),a+=p,a;if(l=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(l[1].length,l[4].length),7),f=bd(h,Math.pow(10,c)-1,!0),d+(f[0]||(f[1]?"":"0"))+" "+(f[1]?kv(f[1],c)+l[2]+"/"+l[3]+Td(f[2],c):xn(" ",2*c+1+l[2].length+l[3].length));if(l=e.match(/^[#0?]+$/))return a=""+t,e.length<=a.length?a:Nr(e.substr(0,e.length-a.length))+a;if(l=e.match(/^([#0]+)\.([#0]+)$/)){a=""+t.toFixed(Math.min(l[2].length,10)).replace(/([^0])0+$/,"$1"),c=a.indexOf(".");var y=e.indexOf(".")-c,_=e.length-a.length-y;return Nr(e.substr(0,y)+a+e.substr(e.length-_))}if(l=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+ga(n,e,-t):tl(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(C){return"00,"+(C.length<3?Zi(0,3-C.length):"")+C})+"."+Zi(0,l[1].length);switch(e){case"###,###":case"##,###":case"#,###":var w=tl(""+h);return w!=="0"?d+w:"";default:if(e.match(/\.[0#?]*$/))return ga(n,e.slice(0,e.lastIndexOf(".")),t)+Nr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function es(n,e,t){return(t|0)===t?ga(n,e,t):Ai(n,e,t)}function P9(n){for(var e=[],t=!1,r=0,a=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(a,r-a),a=r+1}if(e[e.length]=n.substr(a),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var _A=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function EA(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":wd(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(_A))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function L9(n,e,t,r){for(var a=[],l="",c=0,f="",h="t",d,p,y,_="H";c<n.length;)switch(f=n.charAt(c)){case"G":if(!wd(n,c))throw new Error("unrecognized character "+f+" in "+n);a[a.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";(y=n.charCodeAt(++c))!==34&&c<n.length;)l+=String.fromCharCode(y);a[a.length]={t:"t",v:l},++c;break;case"\\":var w=n.charAt(++c),C=w==="("||w===")"?w:"t";a[a.length]={t:C,v:w},++c;break;case"_":a[a.length]={t:"t",v:" "},c+=2;break;case"@":a[a.length]={t:"T",v:e},++c;break;case"B":case"b":if(n.charAt(c+1)==="1"||n.charAt(c+1)==="2"){if(d==null&&(d=C0(e,t,n.charAt(c+1)==="2"),d==null))return"";a[a.length]={t:"X",v:n.substr(c,2)},h=f,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":f=f.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=C0(e,t),d==null))return"";for(l=f;++c<n.length&&n.charAt(c).toLowerCase()===f;)l+=f;f==="m"&&h.toLowerCase()==="h"&&(f="M"),f==="h"&&(f=_),a[a.length]={t:f,v:l},h=f;break;case"A":case"a":case"":var E={t:f,v:f};if(d==null&&(d=C0(e,t)),n.substr(c,3).toUpperCase()==="A/P"?(d!=null&&(E.v=d.H>=12?"P":"A"),E.t="T",_="h",c+=3):n.substr(c,5).toUpperCase()==="AM/PM"?(d!=null&&(E.v=d.H>=12?"PM":"AM"),E.t="T",c+=5,_="h"):n.substr(c,5).toUpperCase()==="/"?(d!=null&&(E.v=d.H>=12?"":""),E.t="T",c+=5,_="h"):(E.t="t",++c),d==null&&E.t==="T")return"";a[a.length]=E,h=f;break;case"[":for(l=f;n.charAt(c++)!=="]"&&c<n.length;)l+=n.charAt(c);if(l.slice(-1)!=="]")throw'unterminated "[" block: |'+l+"|";if(l.match(_A)){if(d==null&&(d=C0(e,t),d==null))return"";a[a.length]={t:"Z",v:l.toLowerCase()},h=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",EA(n)||(a[a.length]={t:"t",v:l}));break;case".":if(d!=null){for(l=f;++c<n.length&&(f=n.charAt(c))==="0";)l+=f;a[a.length]={t:"s",v:l};break}case"0":case"#":for(l=f;++c<n.length&&"0#?.,E+-%".indexOf(f=n.charAt(c))>-1;)l+=f;a[a.length]={t:"n",v:l};break;case"?":for(l=f;n.charAt(++c)===f;)l+=f;a[a.length]={t:f,v:l},h=f;break;case"*":++c,(n.charAt(c)==" "||n.charAt(c)=="*")&&++c;break;case"(":case")":a[a.length]={t:r===1?"t":f,v:f},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=f;c<n.length&&"0123456789".indexOf(n.charAt(++c))>-1;)l+=n.charAt(c);a[a.length]={t:"D",v:l};break;case" ":a[a.length]={t:f,v:f},++c;break;case"$":a[a.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(f)===-1)throw new Error("unrecognized character "+f+" in "+n);a[a.length]={t:"t",v:f},++c;break}var b=0,j=0,R;for(c=a.length-1,h="t";c>=0;--c)switch(a[c].t){case"h":case"H":a[c].t=_,h="h",b<1&&(b=1);break;case"s":(R=a[c].v.match(/\.0+$/))&&(j=Math.max(j,R[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":h=a[c].t;break;case"m":h==="s"&&(a[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&a[c].v.match(/[Hh]/)&&(b=1),b<2&&a[c].v.match(/[Mm]/)&&(b=2),b<3&&a[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var M="",G;for(c=0;c<a.length;++c)switch(a[c].t){case"t":case"T":case" ":case"D":break;case"X":a[c].v="",a[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[c].v=A9(a[c].t.charCodeAt(0),a[c].v,d,j),a[c].t="t";break;case"n":case"?":for(G=c+1;a[G]!=null&&((f=a[G].t)==="?"||f==="D"||(f===" "||f==="t")&&a[G+1]!=null&&(a[G+1].t==="?"||a[G+1].t==="t"&&a[G+1].v==="/")||a[c].t==="("&&(f===" "||f==="n"||f===")")||f==="t"&&(a[G].v==="/"||a[G].v===" "&&a[G+1]!=null&&a[G+1].t=="?"));)a[c].v+=a[G].v,a[G]={v:"",t:";"},++G;M+=a[c].v,c=G-1;break;case"G":a[c].t="t",a[c].v=y1(e,t);break}var te="",re,N;if(M.length>0){M.charCodeAt(0)==40?(re=e<0&&M.charCodeAt(0)===45?-e:e,N=es("n",M,re)):(re=e<0&&r>1?-e:e,N=es("n",M,re),re<0&&a[0]&&a[0].t=="t"&&(N=N.substr(1),a[0].v="-"+a[0].v)),G=N.length-1;var O=a.length;for(c=0;c<a.length;++c)if(a[c]!=null&&a[c].t!="t"&&a[c].v.indexOf(".")>-1){O=c;break}var I=a.length;if(O===a.length&&N.indexOf("E")===-1){for(c=a.length-1;c>=0;--c)a[c]==null||"n?".indexOf(a[c].t)===-1||(G>=a[c].v.length-1?(G-=a[c].v.length,a[c].v=N.substr(G+1,a[c].v.length)):G<0?a[c].v="":(a[c].v=N.substr(0,G+1),G=-1),a[c].t="t",I=c);G>=0&&I<a.length&&(a[I].v=N.substr(0,G+1)+a[I].v)}else if(O!==a.length&&N.indexOf("E")===-1){for(G=N.indexOf(".")-1,c=O;c>=0;--c)if(!(a[c]==null||"n?".indexOf(a[c].t)===-1)){for(p=a[c].v.indexOf(".")>-1&&c===O?a[c].v.indexOf(".")-1:a[c].v.length-1,te=a[c].v.substr(p+1);p>=0;--p)G>=0&&(a[c].v.charAt(p)==="0"||a[c].v.charAt(p)==="#")&&(te=N.charAt(G--)+te);a[c].v=te,a[c].t="t",I=c}for(G>=0&&I<a.length&&(a[I].v=N.substr(0,G+1)+a[I].v),G=N.indexOf(".")+1,c=O;c<a.length;++c)if(!(a[c]==null||"n?(".indexOf(a[c].t)===-1&&c!==O)){for(p=a[c].v.indexOf(".")>-1&&c===O?a[c].v.indexOf(".")+1:0,te=a[c].v.substr(0,p);p<a[c].v.length;++p)G<N.length&&(te+=N.charAt(G++));a[c].v=te,a[c].t="t",I=c}}}for(c=0;c<a.length;++c)a[c]!=null&&"n?".indexOf(a[c].t)>-1&&(re=r>1&&e<0&&c>0&&a[c-1].v==="-"?-e:e,a[c].v=es(a[c].t,a[c].v,re),a[c].t="t");var D="";for(c=0;c!==a.length;++c)a[c]!=null&&(D+=a[c].v);return D}var ST=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function AT(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function j9(n,e){var t=P9(n),r=t.length,a=t[r-1].indexOf("@");if(r<4&&a>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||a>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=a>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=a>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=a>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var l=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,l];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(ST),f=t[1].match(ST);return AT(e,c)?[r,t[0]]:AT(e,f)?[r,t[1]]:[r,t[c!=null&&f!=null?2:1]]}return[r,l]}function xl(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:yn)[n],r==null&&(r=t.table&&t.table[TT[n]]||yn[TT[n]]),r==null&&(r=x9[n]||"General");break}if(wd(r,0))return y1(e,t);e instanceof Date&&(e=hA(e,t.date1904));var a=j9(r,e);if(wd(a[1]))return y1(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return L9(a[1],e,t,a[0])}function TA(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(yn[t]==null){e<0&&(e=t);continue}if(yn[t]==n){e=t;break}}e<0&&(e=391)}return yn[e]=n,e}function cm(n){for(var e=0;e!=392;++e)n[e]!==void 0&&TA(n[e],e)}function um(){yn=v9()}var wA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function F9(n){var e=typeof n=="number"?yn[n]:n;return e=e.replace(wA,"(\\d+)"),new RegExp("^"+e+"$")}function B9(n,e,t){var r=-1,a=-1,l=-1,c=-1,f=-1,h=-1;(e.match(wA)||[]).forEach(function(y,_){var w=parseInt(t[_+1],10);switch(y.toLowerCase().charAt(0)){case"y":r=w;break;case"d":l=w;break;case"h":c=w;break;case"s":h=w;break;case"m":c>=0?f=w:a=w;break}}),h>=0&&f==-1&&a>=0&&(f=a,a=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(l>=1?l:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var p=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(f>=0?f:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2);return c==-1&&f==-1&&h==-1?d:r==-1&&a==-1&&l==-1?p:d+"T"+p}var V9=(function(){var n={};n.version="1.2.0";function e(){for(var N=0,O=new Array(256),I=0;I!=256;++I)N=I,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,N=N&1?-306674912^N>>>1:N>>>1,O[I]=N;return typeof Int32Array<"u"?new Int32Array(O):O}var t=e();function r(N){var O=0,I=0,D=0,L=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)L[D]=N[D];for(D=0;D!=256;++D)for(I=N[D],O=256+D;O<4096;O+=256)I=L[O]=I>>>8^N[I&255];var B=[];for(D=1;D!=16;++D)B[D-1]=typeof Int32Array<"u"?L.subarray(D*256,D*256+256):L.slice(D*256,D*256+256);return B}var a=r(t),l=a[0],c=a[1],f=a[2],h=a[3],d=a[4],p=a[5],y=a[6],_=a[7],w=a[8],C=a[9],E=a[10],b=a[11],j=a[12],R=a[13],M=a[14];function G(N,O){for(var I=O^-1,D=0,L=N.length;D<L;)I=I>>>8^t[(I^N.charCodeAt(D++))&255];return~I}function te(N,O){for(var I=O^-1,D=N.length-15,L=0;L<D;)I=M[N[L++]^I&255]^R[N[L++]^I>>8&255]^j[N[L++]^I>>16&255]^b[N[L++]^I>>>24]^E[N[L++]]^C[N[L++]]^w[N[L++]]^_[N[L++]]^y[N[L++]]^p[N[L++]]^d[N[L++]]^h[N[L++]]^f[N[L++]]^c[N[L++]]^l[N[L++]]^t[N[L++]];for(D+=15;L<D;)I=I>>>8^t[(I^N[L++])&255];return~I}function re(N,O){for(var I=O^-1,D=0,L=N.length,B=0,V=0;D<L;)B=N.charCodeAt(D++),B<128?I=I>>>8^t[(I^B)&255]:B<2048?(I=I>>>8^t[(I^(192|B>>6&31))&255],I=I>>>8^t[(I^(128|B&63))&255]):B>=55296&&B<57344?(B=(B&1023)+64,V=N.charCodeAt(D++)&1023,I=I>>>8^t[(I^(240|B>>8&7))&255],I=I>>>8^t[(I^(128|B>>2&63))&255],I=I>>>8^t[(I^(128|V>>6&15|(B&3)<<4))&255],I=I>>>8^t[(I^(128|V&63))&255]):(I=I>>>8^t[(I^(224|B>>12&15))&255],I=I>>>8^t[(I^(128|B>>6&63))&255],I=I>>>8^t[(I^(128|B&63))&255]);return~I}return n.table=t,n.bstr=G,n.buf=te,n.str=re,n})(),Qt=(function(){var e={};e.version="1.2.1";function t(k,q){for(var U=k.split("/"),H=q.split("/"),Y=0,X=0,oe=Math.min(U.length,H.length);Y<oe;++Y){if(X=U[Y].length-H[Y].length)return X;if(U[Y]!=H[Y])return U[Y]<H[Y]?-1:1}return U.length-H.length}function r(k){if(k.charAt(k.length-1)=="/")return k.slice(0,-1).indexOf("/")===-1?k:r(k.slice(0,-1));var q=k.lastIndexOf("/");return q===-1?k:k.slice(0,q+1)}function a(k){if(k.charAt(k.length-1)=="/")return a(k.slice(0,-1));var q=k.lastIndexOf("/");return q===-1?k:k.slice(q+1)}function l(k,q){typeof q=="string"&&(q=new Date(q));var U=q.getHours();U=U<<6|q.getMinutes(),U=U<<5|q.getSeconds()>>>1,k.write_shift(2,U);var H=q.getFullYear()-1980;H=H<<4|q.getMonth()+1,H=H<<5|q.getDate(),k.write_shift(2,H)}function c(k){var q=k.read_shift(2)&65535,U=k.read_shift(2)&65535,H=new Date,Y=U&31;U>>>=5;var X=U&15;U>>>=4,H.setMilliseconds(0),H.setFullYear(U+1980),H.setMonth(X-1),H.setDate(Y);var oe=q&31;q>>>=5;var ye=q&63;return q>>>=6,H.setHours(q),H.setMinutes(ye),H.setSeconds(oe<<1),H}function f(k){li(k,0);for(var q={},U=0;k.l<=k.length-4;){var H=k.read_shift(2),Y=k.read_shift(2),X=k.l+Y,oe={};switch(H){case 21589:U=k.read_shift(1),U&1&&(oe.mtime=k.read_shift(4)),Y>5&&(U&2&&(oe.atime=k.read_shift(4)),U&4&&(oe.ctime=k.read_shift(4))),oe.mtime&&(oe.mt=new Date(oe.mtime*1e3));break}k.l=X,q[H]=oe}return q}var h;function d(){return h||(h={})}function p(k,q){if(k[0]==80&&k[1]==75)return Sr(k,q);if((k[0]|32)==109&&(k[1]|32)==105)return dr(k,q);if(k.length<512)throw new Error("CFB file size "+k.length+" < 512");var U=3,H=512,Y=0,X=0,oe=0,ye=0,ce=0,he=[],fe=k.slice(0,512);li(fe,0);var Ne=y(fe);switch(U=Ne[0],U){case 3:H=512;break;case 4:H=4096;break;case 0:if(Ne[1]==0)return Sr(k,q);default:throw new Error("Major Version: Expected 3 or 4 saw "+U)}H!==512&&(fe=k.slice(0,H),li(fe,28));var De=k.slice(0,H);_(fe,U);var Ve=fe.read_shift(4,"i");if(U===3&&Ve!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ve);fe.l+=4,oe=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),ye=fe.read_shift(4,"i"),Y=fe.read_shift(4,"i"),ce=fe.read_shift(4,"i"),X=fe.read_shift(4,"i");for(var Ce=-1,Fe=0;Fe<109&&(Ce=fe.read_shift(4,"i"),!(Ce<0));++Fe)he[Fe]=Ce;var We=w(k,H);b(ce,X,We,H,he);var jt=R(We,oe,he,H);jt[oe].name="!Directory",Y>0&&ye!==V&&(jt[ye].name="!MiniFAT"),jt[he[0]].name="!FAT",jt.fat_addrs=he,jt.ssz=H;var Ft={},Jt=[],mr=[],ji=[];M(oe,jt,We,Jt,Y,Ft,mr,ye),C(mr,ji,Jt),Jt.shift();var Fi={FileIndex:mr,FullPaths:ji};return q&&q.raw&&(Fi.raw={header:De,sectors:We}),Fi}function y(k){if(k[k.l]==80&&k[k.l+1]==75)return[0,0];k.chk($e,"Header Signature: "),k.l+=16;var q=k.read_shift(2,"u");return[k.read_shift(2,"u"),q]}function _(k,q){var U=9;switch(k.l+=2,U=k.read_shift(2)){case 9:if(q!=3)throw new Error("Sector Shift: Expected 9 saw "+U);break;case 12:if(q!=4)throw new Error("Sector Shift: Expected 12 saw "+U);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+U)}k.chk("0600","Mini Sector Shift: "),k.chk("000000000000","Reserved: ")}function w(k,q){for(var U=Math.ceil(k.length/q)-1,H=[],Y=1;Y<U;++Y)H[Y-1]=k.slice(Y*q,(Y+1)*q);return H[U-1]=k.slice(U*q),H}function C(k,q,U){for(var H=0,Y=0,X=0,oe=0,ye=0,ce=U.length,he=[],fe=[];H<ce;++H)he[H]=fe[H]=H,q[H]=U[H];for(;ye<fe.length;++ye)H=fe[ye],Y=k[H].L,X=k[H].R,oe=k[H].C,he[H]===H&&(Y!==-1&&he[Y]!==Y&&(he[H]=he[Y]),X!==-1&&he[X]!==X&&(he[H]=he[X])),oe!==-1&&(he[oe]=H),Y!==-1&&H!=he[H]&&(he[Y]=he[H],fe.lastIndexOf(Y)<ye&&fe.push(Y)),X!==-1&&H!=he[H]&&(he[X]=he[H],fe.lastIndexOf(X)<ye&&fe.push(X));for(H=1;H<ce;++H)he[H]===H&&(X!==-1&&he[X]!==X?he[H]=he[X]:Y!==-1&&he[Y]!==Y&&(he[H]=he[Y]));for(H=1;H<ce;++H)if(k[H].type!==0){if(ye=H,ye!=he[ye])do ye=he[ye],q[H]=q[ye]+"/"+q[H];while(ye!==0&&he[ye]!==-1&&ye!=he[ye]);he[H]=-1}for(q[0]+="/",H=1;H<ce;++H)k[H].type!==2&&(q[H]+="/")}function E(k,q,U){for(var H=k.start,Y=k.size,X=[],oe=H;U&&Y>0&&oe>=0;)X.push(q.slice(oe*B,oe*B+B)),Y-=B,oe=Zl(U,oe*4);return X.length===0?xe(0):lr(X).slice(0,k.size)}function b(k,q,U,H,Y){var X=V;if(k===V){if(q!==0)throw new Error("DIFAT chain shorter than expected")}else if(k!==-1){var oe=U[k],ye=(H>>>2)-1;if(!oe)return;for(var ce=0;ce<ye&&(X=Zl(oe,ce*4))!==V;++ce)Y.push(X);b(Zl(oe,H-4),q-1,U,H,Y)}}function j(k,q,U,H,Y){var X=[],oe=[];Y||(Y=[]);var ye=H-1,ce=0,he=0;for(ce=q;ce>=0;){Y[ce]=!0,X[X.length]=ce,oe.push(k[ce]);var fe=U[Math.floor(ce*4/H)];if(he=ce*4&ye,H<4+he)throw new Error("FAT boundary crossed: "+ce+" 4 "+H);if(!k[fe])break;ce=Zl(k[fe],he)}return{nodes:X,data:MT([oe])}}function R(k,q,U,H){var Y=k.length,X=[],oe=[],ye=[],ce=[],he=H-1,fe=0,Ne=0,De=0,Ve=0;for(fe=0;fe<Y;++fe)if(ye=[],De=fe+q,De>=Y&&(De-=Y),!oe[De]){ce=[];var Ce=[];for(Ne=De;Ne>=0;){Ce[Ne]=!0,oe[Ne]=!0,ye[ye.length]=Ne,ce.push(k[Ne]);var Fe=U[Math.floor(Ne*4/H)];if(Ve=Ne*4&he,H<4+Ve)throw new Error("FAT boundary crossed: "+Ne+" 4 "+H);if(!k[Fe]||(Ne=Zl(k[Fe],Ve),Ce[Ne]))break}X[De]={nodes:ye,data:MT([ce])}}return X}function M(k,q,U,H,Y,X,oe,ye){for(var ce=0,he=H.length?2:0,fe=q[k].data,Ne=0,De=0,Ve;Ne<fe.length;Ne+=128){var Ce=fe.slice(Ne,Ne+128);li(Ce,64),De=Ce.read_shift(2),Ve=Bv(Ce,0,De-he),H.push(Ve);var Fe={name:Ve,type:Ce.read_shift(1),color:Ce.read_shift(1),L:Ce.read_shift(4,"i"),R:Ce.read_shift(4,"i"),C:Ce.read_shift(4,"i"),clsid:Ce.read_shift(16),state:Ce.read_shift(4,"i"),start:0,size:0},We=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);We!==0&&(Fe.ct=G(Ce,Ce.l-8));var jt=Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2)+Ce.read_shift(2);jt!==0&&(Fe.mt=G(Ce,Ce.l-8)),Fe.start=Ce.read_shift(4,"i"),Fe.size=Ce.read_shift(4,"i"),Fe.size<0&&Fe.start<0&&(Fe.size=Fe.type=0,Fe.start=V,Fe.name=""),Fe.type===5?(ce=Fe.start,Y>0&&ce!==V&&(q[ce].name="!StreamData")):Fe.size>=4096?(Fe.storage="fat",q[Fe.start]===void 0&&(q[Fe.start]=j(U,Fe.start,q.fat_addrs,q.ssz)),q[Fe.start].name=Fe.name,Fe.content=q[Fe.start].data.slice(0,Fe.size)):(Fe.storage="minifat",Fe.size<0?Fe.size=0:ce!==V&&Fe.start!==V&&q[ce]&&(Fe.content=E(Fe,q[ce].data,(q[ye]||{}).data))),Fe.content&&li(Fe.content,0),X[Ve]=Fe,oe.push(Fe)}}function G(k,q){return new Date((ci(k,q+4)/1e7*Math.pow(2,32)+ci(k,q)/1e7-11644473600)*1e3)}function te(k,q){return d(),p(h.readFileSync(k),q)}function re(k,q){var U=q&&q.type;switch(U||Mt&&Buffer.isBuffer(k)&&(U="buffer"),U||"base64"){case"file":return te(k,q);case"base64":return p(Qi(cs(k)),q);case"binary":return p(Qi(k),q)}return p(k,q)}function N(k,q){var U=q||{},H=U.root||"Root Entry";if(k.FullPaths||(k.FullPaths=[]),k.FileIndex||(k.FileIndex=[]),k.FullPaths.length!==k.FileIndex.length)throw new Error("inconsistent CFB structure");k.FullPaths.length===0&&(k.FullPaths[0]=H+"/",k.FileIndex[0]={name:H,type:5}),U.CLSID&&(k.FileIndex[0].clsid=U.CLSID),O(k)}function O(k){var q="Sh33tJ5";if(!Qt.find(k,"/"+q)){var U=xe(4);U[0]=55,U[1]=U[3]=50,U[2]=54,k.FileIndex.push({name:q,type:2,content:U,size:4,L:69,R:69,C:69}),k.FullPaths.push(k.FullPaths[0]+q),I(k)}}function I(k,q){N(k);for(var U=!1,H=!1,Y=k.FullPaths.length-1;Y>=0;--Y){var X=k.FileIndex[Y];switch(X.type){case 0:H?U=!0:(k.FileIndex.pop(),k.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(X.R*X.L*X.C)&&(U=!0),X.R>-1&&X.L>-1&&X.R==X.L&&(U=!0);break;default:U=!0;break}}if(!(!U&&!q)){var oe=new Date(1987,1,19),ye=0,ce=Object.create?Object.create(null):{},he=[];for(Y=0;Y<k.FullPaths.length;++Y)ce[k.FullPaths[Y]]=!0,k.FileIndex[Y].type!==0&&he.push([k.FullPaths[Y],k.FileIndex[Y]]);for(Y=0;Y<he.length;++Y){var fe=r(he[Y][0]);H=ce[fe],H||(he.push([fe,{name:a(fe).replace("/",""),type:1,clsid:de,ct:oe,mt:oe,content:null}]),ce[fe]=!0)}for(he.sort(function(Ve,Ce){return t(Ve[0],Ce[0])}),k.FullPaths=[],k.FileIndex=[],Y=0;Y<he.length;++Y)k.FullPaths[Y]=he[Y][0],k.FileIndex[Y]=he[Y][1];for(Y=0;Y<he.length;++Y){var Ne=k.FileIndex[Y],De=k.FullPaths[Y];if(Ne.name=a(De).replace("/",""),Ne.L=Ne.R=Ne.C=-(Ne.color=1),Ne.size=Ne.content?Ne.content.length:0,Ne.start=0,Ne.clsid=Ne.clsid||de,Y===0)Ne.C=he.length>1?1:-1,Ne.size=0,Ne.type=5;else if(De.slice(-1)=="/"){for(ye=Y+1;ye<he.length&&r(k.FullPaths[ye])!=De;++ye);for(Ne.C=ye>=he.length?-1:ye,ye=Y+1;ye<he.length&&r(k.FullPaths[ye])!=r(De);++ye);Ne.R=ye>=he.length?-1:ye,Ne.type=1}else r(k.FullPaths[Y+1]||"")==r(De)&&(Ne.R=Y+1),Ne.type=2}}}function D(k,q){var U=q||{};if(U.fileType=="mad")return Cl(k,U);switch(I(k),U.fileType){case"zip":return cn(k,U)}var H=(function(Ve){for(var Ce=0,Fe=0,We=0;We<Ve.FileIndex.length;++We){var jt=Ve.FileIndex[We];if(jt.content){var Ft=jt.content.length;Ft>0&&(Ft<4096?Ce+=Ft+63>>6:Fe+=Ft+511>>9)}}for(var Jt=Ve.FullPaths.length+3>>2,mr=Ce+7>>3,ji=Ce+127>>7,Fi=mr+Fe+Jt+ji,Kr=Fi+127>>7,ms=Kr<=109?0:Math.ceil((Kr-109)/127);Fi+Kr+ms+127>>7>Kr;)ms=++Kr<=109?0:Math.ceil((Kr-109)/127);var pr=[1,ms,Kr,ji,Jt,Fe,Ce,0];return Ve.FileIndex[0].size=Ce<<6,pr[7]=(Ve.FileIndex[0].start=pr[0]+pr[1]+pr[2]+pr[3]+pr[4]+pr[5])+(pr[6]+7>>3),pr})(k),Y=xe(H[7]<<9),X=0,oe=0;{for(X=0;X<8;++X)Y.write_shift(1,Ue[X]);for(X=0;X<8;++X)Y.write_shift(2,0);for(Y.write_shift(2,62),Y.write_shift(2,3),Y.write_shift(2,65534),Y.write_shift(2,9),Y.write_shift(2,6),X=0;X<3;++X)Y.write_shift(2,0);for(Y.write_shift(4,0),Y.write_shift(4,H[2]),Y.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),Y.write_shift(4,0),Y.write_shift(4,4096),Y.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:V),Y.write_shift(4,H[3]),Y.write_shift(-4,H[1]?H[0]-1:V),Y.write_shift(4,H[1]),X=0;X<109;++X)Y.write_shift(-4,X<H[2]?H[1]+X:-1)}if(H[1])for(oe=0;oe<H[1];++oe){for(;X<236+oe*127;++X)Y.write_shift(-4,X<H[2]?H[1]+X:-1);Y.write_shift(-4,oe===H[1]-1?V:oe+1)}var ye=function(Ve){for(oe+=Ve;X<oe-1;++X)Y.write_shift(-4,X+1);Ve&&(++X,Y.write_shift(-4,V))};for(oe=X=0,oe+=H[1];X<oe;++X)Y.write_shift(-4,be.DIFSECT);for(oe+=H[2];X<oe;++X)Y.write_shift(-4,be.FATSECT);ye(H[3]),ye(H[4]);for(var ce=0,he=0,fe=k.FileIndex[0];ce<k.FileIndex.length;++ce)fe=k.FileIndex[ce],fe.content&&(he=fe.content.length,!(he<4096)&&(fe.start=oe,ye(he+511>>9)));for(ye(H[6]+7>>3);Y.l&511;)Y.write_shift(-4,be.ENDOFCHAIN);for(oe=X=0,ce=0;ce<k.FileIndex.length;++ce)fe=k.FileIndex[ce],fe.content&&(he=fe.content.length,!(!he||he>=4096)&&(fe.start=oe,ye(he+63>>6)));for(;Y.l&511;)Y.write_shift(-4,be.ENDOFCHAIN);for(X=0;X<H[4]<<2;++X){var Ne=k.FullPaths[X];if(!Ne||Ne.length===0){for(ce=0;ce<17;++ce)Y.write_shift(4,0);for(ce=0;ce<3;++ce)Y.write_shift(4,-1);for(ce=0;ce<12;++ce)Y.write_shift(4,0);continue}fe=k.FileIndex[X],X===0&&(fe.start=fe.size?fe.start-1:V);var De=X===0&&U.root||fe.name;if(he=2*(De.length+1),Y.write_shift(64,De,"utf16le"),Y.write_shift(2,he),Y.write_shift(1,fe.type),Y.write_shift(1,fe.color),Y.write_shift(-4,fe.L),Y.write_shift(-4,fe.R),Y.write_shift(-4,fe.C),fe.clsid)Y.write_shift(16,fe.clsid,"hex");else for(ce=0;ce<4;++ce)Y.write_shift(4,0);Y.write_shift(4,fe.state||0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(4,fe.start),Y.write_shift(4,fe.size),Y.write_shift(4,0)}for(X=1;X<k.FileIndex.length;++X)if(fe=k.FileIndex[X],fe.size>=4096)if(Y.l=fe.start+1<<9,Mt&&Buffer.isBuffer(fe.content))fe.content.copy(Y,Y.l,0,fe.size),Y.l+=fe.size+511&-512;else{for(ce=0;ce<fe.size;++ce)Y.write_shift(1,fe.content[ce]);for(;ce&511;++ce)Y.write_shift(1,0)}for(X=1;X<k.FileIndex.length;++X)if(fe=k.FileIndex[X],fe.size>0&&fe.size<4096)if(Mt&&Buffer.isBuffer(fe.content))fe.content.copy(Y,Y.l,0,fe.size),Y.l+=fe.size+63&-64;else{for(ce=0;ce<fe.size;++ce)Y.write_shift(1,fe.content[ce]);for(;ce&63;++ce)Y.write_shift(1,0)}if(Mt)Y.l=Y.length;else for(;Y.l<Y.length;)Y.write_shift(1,0);return Y}function L(k,q){var U=k.FullPaths.map(function(ce){return ce.toUpperCase()}),H=U.map(function(ce){var he=ce.split("/");return he[he.length-(ce.slice(-1)=="/"?2:1)]}),Y=!1;q.charCodeAt(0)===47?(Y=!0,q=U[0].slice(0,-1)+q):Y=q.indexOf("/")!==-1;var X=q.toUpperCase(),oe=Y===!0?U.indexOf(X):H.indexOf(X);if(oe!==-1)return k.FileIndex[oe];var ye=!X.match(A0);for(X=X.replace(of,""),ye&&(X=X.replace(A0,"!")),oe=0;oe<U.length;++oe)if((ye?U[oe].replace(A0,"!"):U[oe]).replace(of,"")==X||(ye?H[oe].replace(A0,"!"):H[oe]).replace(of,"")==X)return k.FileIndex[oe];return null}var B=64,V=-2,$e="d0cf11e0a1b11ae1",Ue=[208,207,17,224,161,177,26,225],de="00000000000000000000000000000000",be={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:V,FREESECT:-1,HEADER_SIGNATURE:$e,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:de,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function qe(k,q,U){d();var H=D(k,U);h.writeFileSync(q,H)}function Ze(k){for(var q=new Array(k.length),U=0;U<k.length;++U)q[U]=String.fromCharCode(k[U]);return q.join("")}function Je(k,q){var U=D(k,q);switch(q&&q.type||"buffer"){case"file":return d(),h.writeFileSync(q.filename,U),U;case"binary":return typeof U=="string"?U:Ze(U);case"base64":return bf(typeof U=="string"?U:Ze(U));case"buffer":if(Mt)return Buffer.isBuffer(U)?U:hs(U);case"array":return typeof U=="string"?Qi(U):U}return U}var ee;function F(k){try{var q=k.InflateRaw,U=new q;if(U._processChunk(new Uint8Array([3,0]),U._finishFlushFlag),U.bytesRead)ee=k;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function J(k,q){if(!ee)return tn(k,q);var U=ee.InflateRaw,H=new U,Y=H._processChunk(k.slice(k.l),H._finishFlushFlag);return k.l+=H.bytesRead,Y}function W(k){return ee?ee.deflateRawSync(k):mi(k)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Re=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(k){var q=(k<<1|k<<11)&139536|(k<<5|k<<15)&558144;return(q>>16|q>>8|q)&255}for(var Oe=typeof Uint8Array<"u",ke=Oe?new Uint8Array(256):[],gt=0;gt<256;++gt)ke[gt]=Be(gt);function lt(k,q){var U=ke[k&255];return q<=8?U>>>8-q:(U=U<<8|ke[k>>8&255],q<=16?U>>>16-q:(U=U<<8|ke[k>>16&255],U>>>24-q))}function en(k,q){var U=q&7,H=q>>>3;return(k[H]|(U<=6?0:k[H+1]<<8))>>>U&3}function ut(k,q){var U=q&7,H=q>>>3;return(k[H]|(U<=5?0:k[H+1]<<8))>>>U&7}function Xn(k,q){var U=q&7,H=q>>>3;return(k[H]|(U<=4?0:k[H+1]<<8))>>>U&15}function Ct(k,q){var U=q&7,H=q>>>3;return(k[H]|(U<=3?0:k[H+1]<<8))>>>U&31}function ze(k,q){var U=q&7,H=q>>>3;return(k[H]|(U<=1?0:k[H+1]<<8))>>>U&127}function bn(k,q,U){var H=q&7,Y=q>>>3,X=(1<<U)-1,oe=k[Y]>>>H;return U<8-H||(oe|=k[Y+1]<<8-H,U<16-H)||(oe|=k[Y+2]<<16-H,U<24-H)||(oe|=k[Y+3]<<24-H),oe&X}function Nt(k,q,U){var H=q&7,Y=q>>>3;return H<=5?k[Y]|=(U&7)<<H:(k[Y]|=U<<H&255,k[Y+1]=(U&7)>>8-H),q+3}function Pt(k,q,U){var H=q&7,Y=q>>>3;return U=(U&1)<<H,k[Y]|=U,q+1}function Wn(k,q,U){var H=q&7,Y=q>>>3;return U<<=H,k[Y]|=U&255,U>>>=8,k[Y+1]=U,q+8}function wr(k,q,U){var H=q&7,Y=q>>>3;return U<<=H,k[Y]|=U&255,U>>>=8,k[Y+1]=U&255,k[Y+2]=U>>>8,q+16}function $r(k,q){var U=k.length,H=2*U>q?2*U:q+5,Y=0;if(U>=q)return k;if(Mt){var X=yT(H);if(k.copy)k.copy(X);else for(;Y<k.length;++Y)X[Y]=k[Y];return X}else if(Oe){var oe=new Uint8Array(H);if(oe.set)oe.set(k);else for(;Y<U;++Y)oe[Y]=k[Y];return oe}return k.length=H,k}function Yt(k){for(var q=new Array(k),U=0;U<k;++U)q[U]=0;return q}function Dr(k,q,U){var H=1,Y=0,X=0,oe=0,ye=0,ce=k.length,he=Oe?new Uint16Array(32):Yt(32);for(X=0;X<32;++X)he[X]=0;for(X=ce;X<U;++X)k[X]=0;ce=k.length;var fe=Oe?new Uint16Array(ce):Yt(ce);for(X=0;X<ce;++X)he[Y=k[X]]++,H<Y&&(H=Y),fe[X]=0;for(he[0]=0,X=1;X<=H;++X)he[X+16]=ye=ye+he[X-1]<<1;for(X=0;X<ce;++X)ye=k[X],ye!=0&&(fe[X]=he[ye+16]++);var Ne=0;for(X=0;X<ce;++X)if(Ne=k[X],Ne!=0)for(ye=lt(fe[X],H)>>H-Ne,oe=(1<<H+4-Ne)-1;oe>=0;--oe)q[ye|oe<<Ne]=Ne&15|X<<4;return H}var Di=Oe?new Uint16Array(512):Yt(512),ki=Oe?new Uint16Array(32):Yt(32);if(!Oe){for(var $n=0;$n<512;++$n)Di[$n]=0;for($n=0;$n<32;++$n)ki[$n]=0}(function(){for(var k=[],q=0;q<32;q++)k.push(5);Dr(k,ki,32);var U=[];for(q=0;q<=143;q++)U.push(8);for(;q<=255;q++)U.push(9);for(;q<=279;q++)U.push(7);for(;q<=287;q++)U.push(8);Dr(U,Di,288)})();var ds=(function(){for(var q=Oe?new Uint8Array(32768):[],U=0,H=0;U<Re.length-1;++U)for(;H<Re[U+1];++H)q[H]=U;for(;H<32768;++H)q[H]=29;var Y=Oe?new Uint8Array(259):[];for(U=0,H=0;U<pe.length-1;++U)for(;H<pe[U+1];++H)Y[H]=U;function X(ye,ce){for(var he=0;he<ye.length;){var fe=Math.min(65535,ye.length-he),Ne=he+fe==ye.length;for(ce.write_shift(1,+Ne),ce.write_shift(2,fe),ce.write_shift(2,~fe&65535);fe-- >0;)ce[ce.l++]=ye[he++]}return ce.l}function oe(ye,ce){for(var he=0,fe=0,Ne=Oe?new Uint16Array(32768):[];fe<ye.length;){var De=Math.min(65535,ye.length-fe);if(De<10){for(he=Nt(ce,he,+(fe+De==ye.length)),he&7&&(he+=8-(he&7)),ce.l=he/8|0,ce.write_shift(2,De),ce.write_shift(2,~De&65535);De-- >0;)ce[ce.l++]=ye[fe++];he=ce.l*8;continue}he=Nt(ce,he,+(fe+De==ye.length)+2);for(var Ve=0;De-- >0;){var Ce=ye[fe];Ve=(Ve<<5^Ce)&32767;var Fe=-1,We=0;if((Fe=Ne[Ve])&&(Fe|=fe&-32768,Fe>fe&&(Fe-=32768),Fe<fe))for(;ye[Fe+We]==ye[fe+We]&&We<250;)++We;if(We>2){Ce=Y[We],Ce<=22?he=Wn(ce,he,ke[Ce+1]>>1)-1:(Wn(ce,he,3),he+=5,Wn(ce,he,ke[Ce-23]>>5),he+=3);var jt=Ce<8?0:Ce-4>>2;jt>0&&(wr(ce,he,We-pe[Ce]),he+=jt),Ce=q[fe-Fe],he=Wn(ce,he,ke[Ce]>>3),he-=3;var Ft=Ce<4?0:Ce-2>>1;Ft>0&&(wr(ce,he,fe-Fe-Re[Ce]),he+=Ft);for(var Jt=0;Jt<We;++Jt)Ne[Ve]=fe&32767,Ve=(Ve<<5^ye[fe])&32767,++fe;De-=We-1}else Ce<=143?Ce=Ce+48:he=Pt(ce,he,1),he=Wn(ce,he,ke[Ce]),Ne[Ve]=fe&32767,++fe}he=Wn(ce,he,0)-1}return ce.l=(he+7)/8|0,ce.l}return function(ce,he){return ce.length<8?X(ce,he):oe(ce,he)}})();function mi(k){var q=xe(50+Math.floor(k.length*1.1)),U=ds(k,q);return q.slice(0,U)}var na=Oe?new Uint16Array(32768):Yt(32768),Ia=Oe?new Uint16Array(32768):Yt(32768),se=Oe?new Uint16Array(128):Yt(128),Me=1,He=1;function Ie(k,q){var U=Ct(k,q)+257;q+=5;var H=Ct(k,q)+1;q+=5;var Y=Xn(k,q)+4;q+=4;for(var X=0,oe=Oe?new Uint8Array(19):Yt(19),ye=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ce=1,he=Oe?new Uint8Array(8):Yt(8),fe=Oe?new Uint8Array(8):Yt(8),Ne=oe.length,De=0;De<Y;++De)oe[K[De]]=X=ut(k,q),ce<X&&(ce=X),he[X]++,q+=3;var Ve=0;for(he[0]=0,De=1;De<=ce;++De)fe[De]=Ve=Ve+he[De-1]<<1;for(De=0;De<Ne;++De)(Ve=oe[De])!=0&&(ye[De]=fe[Ve]++);var Ce=0;for(De=0;De<Ne;++De)if(Ce=oe[De],Ce!=0){Ve=ke[ye[De]]>>8-Ce;for(var Fe=(1<<7-Ce)-1;Fe>=0;--Fe)se[Ve|Fe<<Ce]=Ce&7|De<<3}var We=[];for(ce=1;We.length<U+H;)switch(Ve=se[ze(k,q)],q+=Ve&7,Ve>>>=3){case 16:for(X=3+en(k,q),q+=2,Ve=We[We.length-1];X-- >0;)We.push(Ve);break;case 17:for(X=3+ut(k,q),q+=3;X-- >0;)We.push(0);break;case 18:for(X=11+ze(k,q),q+=7;X-- >0;)We.push(0);break;default:We.push(Ve),ce<Ve&&(ce=Ve);break}var jt=We.slice(0,U),Ft=We.slice(U);for(De=U;De<286;++De)jt[De]=0;for(De=H;De<30;++De)Ft[De]=0;return Me=Dr(jt,na,286),He=Dr(Ft,Ia,30),q}function ft(k,q){if(k[0]==3&&!(k[1]&3))return[fo(q),2];for(var U=0,H=0,Y=yT(q||1<<18),X=0,oe=Y.length>>>0,ye=0,ce=0;(H&1)==0;){if(H=ut(k,U),U+=3,H>>>1)H>>1==1?(ye=9,ce=5):(U=Ie(k,U),ye=Me,ce=He);else{U&7&&(U+=8-(U&7));var he=k[U>>>3]|k[(U>>>3)+1]<<8;if(U+=32,he>0)for(!q&&oe<X+he&&(Y=$r(Y,X+he),oe=Y.length);he-- >0;)Y[X++]=k[U>>>3],U+=8;continue}for(;;){!q&&oe<X+32767&&(Y=$r(Y,X+32767),oe=Y.length);var fe=bn(k,U,ye),Ne=H>>>1==1?Di[fe]:na[fe];if(U+=Ne&15,Ne>>>=4,(Ne>>>8&255)===0)Y[X++]=Ne;else{if(Ne==256)break;Ne-=257;var De=Ne<8?0:Ne-4>>2;De>5&&(De=0);var Ve=X+pe[Ne];De>0&&(Ve+=bn(k,U,De),U+=De),fe=bn(k,U,ce),Ne=H>>>1==1?ki[fe]:Ia[fe],U+=Ne&15,Ne>>>=4;var Ce=Ne<4?0:Ne-2>>1,Fe=Re[Ne];for(Ce>0&&(Fe+=bn(k,U,Ce),U+=Ce),!q&&oe<Ve&&(Y=$r(Y,Ve+100),oe=Y.length);X<Ve;)Y[X]=Y[X-Fe],++X}}}return q?[Y,U+7>>>3]:[Y.slice(0,X),U+7>>>3]}function tn(k,q){var U=k.slice(k.l||0),H=ft(U,q);return k.l+=H[1],H[0]}function br(k,q){if(k)typeof console<"u"&&console.error(q);else throw new Error(q)}function Sr(k,q){var U=k;li(U,0);var H=[],Y=[],X={FileIndex:H,FullPaths:Y};N(X,{root:q.root});for(var oe=U.length-4;(U[oe]!=80||U[oe+1]!=75||U[oe+2]!=5||U[oe+3]!=6)&&oe>=0;)--oe;U.l=oe+4,U.l+=4;var ye=U.read_shift(2);U.l+=6;var ce=U.read_shift(4);for(U.l=ce,oe=0;oe<ye;++oe){U.l+=20;var he=U.read_shift(4),fe=U.read_shift(4),Ne=U.read_shift(2),De=U.read_shift(2),Ve=U.read_shift(2);U.l+=8;var Ce=U.read_shift(4),Fe=f(U.slice(U.l+Ne,U.l+Ne+De));U.l+=Ne+De+Ve;var We=U.l;U.l=Ce+4,Mi(U,he,fe,X,Fe),U.l=We}return X}function Mi(k,q,U,H,Y){k.l+=2;var X=k.read_shift(2),oe=k.read_shift(2),ye=c(k);if(X&8257)throw new Error("Unsupported ZIP encryption");for(var ce=k.read_shift(4),he=k.read_shift(4),fe=k.read_shift(4),Ne=k.read_shift(2),De=k.read_shift(2),Ve="",Ce=0;Ce<Ne;++Ce)Ve+=String.fromCharCode(k[k.l++]);if(De){var Fe=f(k.slice(k.l,k.l+De));(Fe[21589]||{}).mt&&(ye=Fe[21589].mt),((Y||{})[21589]||{}).mt&&(ye=Y[21589].mt)}k.l+=De;var We=k.slice(k.l,k.l+he);switch(oe){case 8:We=J(k,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+oe)}var jt=!1;X&8&&(ce=k.read_shift(4),ce==134695760&&(ce=k.read_shift(4),jt=!0),he=k.read_shift(4),fe=k.read_shift(4)),he!=q&&br(jt,"Bad compressed size: "+q+" != "+he),fe!=U&&br(jt,"Bad uncompressed size: "+U+" != "+fe),Li(H,Ve,We,{unsafe:!0,mt:ye})}function cn(k,q){var U=q||{},H=[],Y=[],X=xe(1),oe=U.compression?8:0,ye=0,ce=0,he=0,fe=0,Ne=0,De=k.FullPaths[0],Ve=De,Ce=k.FileIndex[0],Fe=[],We=0;for(ce=1;ce<k.FullPaths.length;++ce)if(Ve=k.FullPaths[ce].slice(De.length),Ce=k.FileIndex[ce],!(!Ce.size||!Ce.content||Ve=="Sh33tJ5")){var jt=fe,Ft=xe(Ve.length);for(he=0;he<Ve.length;++he)Ft.write_shift(1,Ve.charCodeAt(he)&127);Ft=Ft.slice(0,Ft.l),Fe[Ne]=V9.buf(Ce.content,0);var Jt=Ce.content;oe==8&&(Jt=W(Jt)),X=xe(30),X.write_shift(4,67324752),X.write_shift(2,20),X.write_shift(2,ye),X.write_shift(2,oe),Ce.mt?l(X,Ce.mt):X.write_shift(4,0),X.write_shift(-4,Fe[Ne]),X.write_shift(4,Jt.length),X.write_shift(4,Ce.content.length),X.write_shift(2,Ft.length),X.write_shift(2,0),fe+=X.length,H.push(X),fe+=Ft.length,H.push(Ft),fe+=Jt.length,H.push(Jt),X=xe(46),X.write_shift(4,33639248),X.write_shift(2,0),X.write_shift(2,20),X.write_shift(2,ye),X.write_shift(2,oe),X.write_shift(4,0),X.write_shift(-4,Fe[Ne]),X.write_shift(4,Jt.length),X.write_shift(4,Ce.content.length),X.write_shift(2,Ft.length),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(4,0),X.write_shift(4,jt),We+=X.l,Y.push(X),We+=Ft.length,Y.push(Ft),++Ne}return X=xe(22),X.write_shift(4,101010256),X.write_shift(2,0),X.write_shift(2,0),X.write_shift(2,Ne),X.write_shift(2,Ne),X.write_shift(4,We),X.write_shift(4,fe),X.write_shift(2,0),lr([lr(H),lr(Y),X])}var Kn={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function kr(k,q){if(k.ctype)return k.ctype;var U=k.name||"",H=U.match(/\.([^\.]+)$/);return H&&Kn[H[1]]||q&&(H=(U=q).match(/[\.\\]([^\.\\])+$/),H&&Kn[H[1]])?Kn[H[1]]:"application/octet-stream"}function hr(k){for(var q=bf(k),U=[],H=0;H<q.length;H+=76)U.push(q.slice(H,H+76));return U.join(`\r
`)+`\r
`}function ra(k){var q=k.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(he){var fe=he.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});q=q.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),q.charAt(0)==`
`&&(q="=0D"+q.slice(1)),q=q.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var U=[],H=q.split(`\r
`),Y=0;Y<H.length;++Y){var X=H[Y];if(X.length==0){U.push("");continue}for(var oe=0;oe<X.length;){var ye=76,ce=X.slice(oe,oe+ye);ce.charAt(ye-1)=="="?ye--:ce.charAt(ye-2)=="="?ye-=2:ce.charAt(ye-3)=="="&&(ye-=3),ce=X.slice(oe,oe+ye),oe+=ye,oe<X.length&&(ce+="="),U.push(ce)}}return U.join(`\r
`)}function Mr(k){for(var q=[],U=0;U<k.length;++U){for(var H=k[U];U<=k.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+k[++U];q.push(H)}for(var Y=0;Y<q.length;++Y)q[Y]=q[Y].replace(/[=][0-9A-Fa-f]{2}/g,function(X){return String.fromCharCode(parseInt(X.slice(1),16))});return Qi(q.join(`\r
`))}function Qn(k,q,U){for(var H="",Y="",X="",oe,ye=0;ye<10;++ye){var ce=q[ye];if(!ce||ce.match(/^\s*$/))break;var he=ce.match(/^(.*?):\s*([^\s].*)$/);if(he)switch(he[1].toLowerCase()){case"content-location":H=he[2].trim();break;case"content-type":X=he[2].trim();break;case"content-transfer-encoding":Y=he[2].trim();break}}switch(++ye,Y.toLowerCase()){case"base64":oe=Qi(cs(q.slice(ye).join("")));break;case"quoted-printable":oe=Mr(q.slice(ye));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+Y)}var fe=Li(k,H.slice(U.length),oe,{unsafe:!0});X&&(fe.ctype=X)}function dr(k,q){if(Ze(k.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var U=q&&q.root||"",H=(Mt&&Buffer.isBuffer(k)?k.toString("binary"):Ze(k)).split(`\r
`),Y=0,X="";for(Y=0;Y<H.length;++Y)if(X=H[Y],!!/^Content-Location:/i.test(X)&&(X=X.slice(X.indexOf("file")),U||(U=X.slice(0,X.lastIndexOf("/")+1)),X.slice(0,U.length)!=U))for(;U.length>0&&(U=U.slice(0,U.length-1),U=U.slice(0,U.lastIndexOf("/")+1),X.slice(0,U.length)!=U););var oe=(H[1]||"").match(/boundary="(.*?)"/);if(!oe)throw new Error("MAD cannot find boundary");var ye="--"+(oe[1]||""),ce=[],he=[],fe={FileIndex:ce,FullPaths:he};N(fe);var Ne,De=0;for(Y=0;Y<H.length;++Y){var Ve=H[Y];Ve!==ye&&Ve!==ye+"--"||(De++&&Qn(fe,H.slice(Ne,Y),U),Ne=Y)}return fe}function Cl(k,q){var U=q||{},H=U.boundary||"SheetJS";H="------="+H;for(var Y=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],X=k.FullPaths[0],oe=X,ye=k.FileIndex[0],ce=1;ce<k.FullPaths.length;++ce)if(oe=k.FullPaths[ce].slice(X.length),ye=k.FileIndex[ce],!(!ye.size||!ye.content||oe=="Sh33tJ5")){oe=oe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(We){return"_x"+We.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(We){return"_u"+We.charCodeAt(0).toString(16)+"_"});for(var he=ye.content,fe=Mt&&Buffer.isBuffer(he)?he.toString("binary"):Ze(he),Ne=0,De=Math.min(1024,fe.length),Ve=0,Ce=0;Ce<=De;++Ce)(Ve=fe.charCodeAt(Ce))>=32&&Ve<128&&++Ne;var Fe=Ne>=De*4/5;Y.push(H),Y.push("Content-Location: "+(U.root||"file:///C:/SheetJS/")+oe),Y.push("Content-Transfer-Encoding: "+(Fe?"quoted-printable":"base64")),Y.push("Content-Type: "+kr(ye,oe)),Y.push(""),Y.push(Fe?ra(fe):hr(fe))}return Y.push(H+`--\r
`),Y.join(`\r
`)}function Pi(k){var q={};return N(q,k),q}function Li(k,q,U,H){var Y=H&&H.unsafe;Y||N(k);var X=!Y&&Qt.find(k,q);if(!X){var oe=k.FullPaths[0];q.slice(0,oe.length)==oe?oe=q:(oe.slice(-1)!="/"&&(oe+="/"),oe=(oe+q).replace("//","/")),X={name:a(q),type:2},k.FileIndex.push(X),k.FullPaths.push(oe),Y||Qt.utils.cfb_gc(k)}return X.content=U,X.size=U?U.length:0,H&&(H.CLSID&&(X.clsid=H.CLSID),H.mt&&(X.mt=H.mt),H.ct&&(X.ct=H.ct)),X}function Oa(k,q){N(k);var U=Qt.find(k,q);if(U){for(var H=0;H<k.FileIndex.length;++H)if(k.FileIndex[H]==U)return k.FileIndex.splice(H,1),k.FullPaths.splice(H,1),!0}return!1}function ia(k,q,U){N(k);var H=Qt.find(k,q);if(H){for(var Y=0;Y<k.FileIndex.length;++Y)if(k.FileIndex[Y]==H)return k.FileIndex[Y].name=a(U),k.FullPaths[Y]=U,!0}return!1}function Pr(k){I(k,!0)}return e.find=L,e.read=re,e.parse=p,e.write=Je,e.writeFile=qe,e.utils={cfb_new:Pi,cfb_add:Li,cfb_del:Oa,cfb_mov:ia,cfb_gc:Pr,ReadShift:uf,CheckField:UA,prep_blob:li,bconcat:lr,use_zlib:F,_deflateRaw:mi,_inflateRaw:tn,consts:be},e})();function U9(n){return typeof n=="string"?om(n):Array.isArray(n)?d9(n):n}function Xf(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=om(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Af(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var a=new Blob([U9(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,n);if(typeof saveAs<"u")return saveAs(a,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var l=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),chrome.downloads.download({url:l,filename:n,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=n,c.href=l,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(l)},6e4),l}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var f=File(n);return f.open("w"),f.encoding="binary",Array.isArray(e)&&(e=Yf(e)),f.write(e),f.close(),e}catch(h){if(!h.message||!h.message.match(/onstruct/))throw h}throw new Error("cannot save file "+n)}function fr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function CT(n,e){for(var t=[],r=fr(n),a=0;a!==r.length;++a)t[n[r[a]][e]]==null&&(t[n[r[a]][e]]=r[a]);return t}function Pv(n){for(var e=[],t=fr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function fm(n){for(var e=[],t=fr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function z9(n){for(var e=[],t=fr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var Sd=new Date(1899,11,30,0,0,0);function Xr(n,e){var t=n.getTime(),r=Sd.getTime()+(n.getTimezoneOffset()-Sd.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var bA=new Date,H9=Sd.getTime()+(bA.getTimezoneOffset()-Sd.getTimezoneOffset())*6e4,NT=bA.getTimezoneOffset();function SA(n){var e=new Date;return e.setTime(n*24*60*60*1e3+H9),e.getTimezoneOffset()!==NT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-NT)*6e4),e}var RT=new Date("2017-02-19T19:06:09.000Z"),AA=isNaN(RT.getFullYear())?new Date("2/19/17"):RT,q9=AA.getFullYear()==2017;function Or(n,e){var t=new Date(n);if(q9)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(AA.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var a=n.match(/\d+/g)||["2017","2","19","0","0","0"],l=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return n.indexOf("Z")>-1&&(l=new Date(l.getTime()-l.getTimezoneOffset()*60*1e3)),l}function hm(n,e){if(Mt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(l){return t[l]||l})}catch{}for(var r=[],a=0;a!=n.length;++a)r.push(String.fromCharCode(n[a]));return r.join("")}function Wr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Wr(n[t]));return e}function xn(n,e){for(var t="";t.length<e;)t+=n;return t}function ts(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(a,l){return t=-t,l}),!isNaN(e=Number(r)))?e/t:e}var G9=["january","february","march","april","may","june","july","august","september","october","november","december"];function Sf(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),a=e.getMonth(),l=e.getDate();if(isNaN(l))return t;var c=n.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&G9.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return r<0||r>8099?t:(a>0||l>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function pt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Mt?r=hs(t):r=m9(t),Qt.utils.cfb_add(n,e,r)}Qt.utils.cfb_add(n,e,t)}else n.file(e,t)}function Lv(){return Qt.utils.cfb_new()}var Pn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Y9={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},jv=Pv(Y9),Fv=/[&<>'"]/g,X9=/[\u0000-\u0008\u000b-\u001f]/g;function qt(n){var e=n+"";return e.replace(Fv,function(t){return jv[t]}).replace(X9,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function IT(n){return qt(n).replace(/ /g,"_x0020_")}var CA=/[\u0000-\u001f]/g;function W9(n){var e=n+"";return e.replace(Fv,function(t){return jv[t]}).replace(/\n/g,"<br/>").replace(CA,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function $9(n){var e=n+"";return e.replace(Fv,function(t){return jv[t]}).replace(CA,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function K9(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function Q9(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Pg(n){for(var e="",t=0,r=0,a=0,l=0,c=0,f=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(a=n.charCodeAt(t++),r>191&&r<224){c=(r&31)<<6,c|=a&63,e+=String.fromCharCode(c);continue}if(l=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(a&63)<<6|l&63);continue}c=n.charCodeAt(t++),f=((r&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(f>>>10&1023)),e+=String.fromCharCode(56320+(f&1023))}return e}function OT(n){var e=fo(2*n.length),t,r,a=1,l=0,c=0,f;for(r=0;r<n.length;r+=a)a=1,(f=n.charCodeAt(r))<128?t=f:f<224?(t=(f&31)*64+(n.charCodeAt(r+1)&63),a=2):f<240?(t=(f&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),a=3):(a=4,t=(f&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(e[l++]=c&255,e[l++]=c>>>8,c=0),e[l++]=t%256,e[l++]=t>>>8;return e.slice(0,l).toString("ucs2")}function DT(n){return hs(n,"binary").toString("utf8")}var N0="foo bar baz",cf=Mt&&(DT(N0)==Pg(N0)&&DT||OT(N0)==Pg(N0)&&OT)||Pg,Af=Mt?function(n){return hs(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,a=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,a=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(a>>18&7))),e.push(String.fromCharCode(144+(a>>12&63))),e.push(String.fromCharCode(128+(a>>6&63))),e.push(String.fromCharCode(128+(a&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},J9=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<n.length;++a)r=r.replace(n[a][0],n[a][1]);return r}})(),NA=/(^\s|\s$|\n)/;function or(n,e){return"<"+n+(e.match(NA)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Cf(n){return fr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Pe(n,e,t){return"<"+n+(t!=null?Cf(t):"")+(e!=null?(e.match(NA)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function _1(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function Z9(n,e){switch(typeof n){case"string":var t=Pe("vt:lpwstr",qt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Pe((n|0)==n?"vt:i4":"vt:r8",qt(String(n)));case"boolean":return Pe("vt:bool",n?"true":"false")}if(n instanceof Date)return Pe("vt:filetime",_1(n));throw new Error("Unable to serialize "+n)}var Hn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Yc=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],oi={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function eP(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),a=n[e+6]&15,l=5;l>=0;--l)a=a*256+n[e+l];return r==2047?a==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,a+=Math.pow(2,52)),t*Math.pow(2,r-52)*a)}function tP(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,a=0,l=0,c=r?-e:e;isFinite(c)?c==0?a=l=0:(a=Math.floor(Math.log(c)/Math.LN2),l=c*Math.pow(2,52-a),a<=-1023&&(!isFinite(l)||l<Math.pow(2,52))?a=-1022:(l-=Math.pow(2,52),a+=1023)):(a=2047,l=isNaN(e)?26985:0);for(var f=0;f<=5;++f,l/=256)n[t+f]=l&255;n[t+6]=(a&15)<<4|l&15,n[t+7]=a>>4|r}var kT=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var a=0,l=n[0][r].length;a<l;a+=t)e.push.apply(e,n[0][r].slice(a,a+t));return e},MT=Mt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:hs(e)})):kT(n)}:kT,PT=function(n,e,t){for(var r=[],a=e;a<t;a+=2)r.push(String.fromCharCode(ef(n,a)));return r.join("").replace(of,"")},Bv=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(of,""):PT(n,e,t)}:PT,LT=function(n,e,t){for(var r=[],a=e;a<e+t;++a)r.push(("0"+n[a].toString(16)).slice(-2));return r.join("")},RA=Mt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):LT(n,e,t)}:LT,jT=function(n,e,t){for(var r=[],a=e;a<t;a++)r.push(String.fromCharCode(pc(n,a)));return r.join("")},Wf=Mt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):jT(e,t,r)}:jT,IA=function(n,e){var t=ci(n,e);return t>0?Wf(n,e+4,e+4+t-1):""},OA=IA,DA=function(n,e){var t=ci(n,e);return t>0?Wf(n,e+4,e+4+t-1):""},kA=DA,MA=function(n,e){var t=2*ci(n,e);return t>0?Wf(n,e+4,e+4+t-1):""},PA=MA,LA=function(e,t){var r=ci(e,t);return r>0?Bv(e,t+4,t+4+r):""},jA=LA,FA=function(n,e){var t=ci(n,e);return t>0?Wf(n,e+4,e+4+t):""},BA=FA,VA=function(n,e){return eP(n,e)},Ad=VA,Vv=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Mt&&(OA=function(e,t){if(!Buffer.isBuffer(e))return IA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},kA=function(e,t){if(!Buffer.isBuffer(e))return DA(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},PA=function(e,t){if(!Buffer.isBuffer(e))return MA(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},jA=function(e,t){if(!Buffer.isBuffer(e))return LA(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},BA=function(e,t){if(!Buffer.isBuffer(e))return FA(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},Ad=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):VA(e,t)},Vv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var pc=function(n,e){return n[e]},ef=function(n,e){return n[e+1]*256+n[e]},nP=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ci=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},Zl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},rP=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function uf(n,e){var t="",r,a,l=[],c,f,h,d;switch(e){case"dbcs":if(d=this.l,Mt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(h=0;h<n;++h)t+=String.fromCharCode(ef(this,d)),d+=2;n*=2;break;case"utf8":t=Wf(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Bv(this,this.l,this.l+n);break;case"wstr":return uf.call(this,n,"dbcs");case"lpstr-ansi":t=OA(this,this.l),n=4+ci(this,this.l);break;case"lpstr-cp":t=kA(this,this.l),n=4+ci(this,this.l);break;case"lpwstr":t=PA(this,this.l),n=4+2*ci(this,this.l);break;case"lpp4":n=4+ci(this,this.l),t=jA(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ci(this,this.l),t=BA(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(c=pc(this,this.l+n++))!==0;)l.push(S0(c));t=l.join("");break;case"_wstr":for(n=0,t="";(c=ef(this,this.l+n))!==0;)l.push(S0(c)),n+=2;n+=2,t=l.join("");break;case"dbcs-cont":for(t="",d=this.l,h=0;h<n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return c=pc(this,d),this.l=d+1,f=uf.call(this,n-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(S0(ef(this,d))),d+=2}t=l.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,h=0;h!=n;++h){if(this.lens&&this.lens.indexOf(d)!==-1)return c=pc(this,d),this.l=d+1,f=uf.call(this,n-h,c?"dbcs-cont":"sbcs-cont"),l.join("")+f;l.push(S0(pc(this,d))),d+=1}t=l.join("");break;default:switch(n){case 1:return r=pc(this,this.l),this.l++,r;case 2:return r=(e==="i"?nP:ef)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?Zl:rP)(this,this.l),this.l+=4,r):(a=ci(this,this.l),this.l+=4,a);case 8:case-8:if(e==="f")return n==8?a=Ad(this,this.l):a=Ad([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;n=8;case 16:t=RA(this,this.l,n);break}}return this.l+=n,t}var iP=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},aP=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},sP=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function lP(n,e,t){var r=0,a=0;if(t==="dbcs"){for(a=0;a!=e.length;++a)sP(this,e.charCodeAt(a),this.l+2*a);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=e.length;++a)this[this.l+a]=e.charCodeAt(a)&255;r=e.length}else if(t==="hex"){for(;a<n;++a)this[this.l++]=parseInt(e.slice(2*a,2*a+2),16)||0;return this}else if(t==="utf16le"){var l=Math.min(this.l+n,this.length);for(a=0;a<Math.min(e.length,n);++a){var c=e.charCodeAt(a);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<l;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,iP(this,e,this.l);break;case 8:if(r=8,t==="f"){tP(this,e,this.l);break}case 16:break;case-4:r=4,aP(this,e,this.l);break}return this.l+=r,this}function UA(n,e){var t=RA(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function li(n,e){n.l=e,n.read_shift=uf,n.chk=UA,n.write_shift=lP}function Na(n,e){n.l+=e}function xe(n){var e=fo(n);return li(e,0),e}function Yr(){var n=[],e=Mt?256:2048,t=function(d){var p=xe(d);return li(p,0),p},r=t(e),a=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},l=function(d){return r&&d<r.length-r.l?r:(a(),r=t(Math.max(d+1,e)))},c=function(){return a(),lr(n)},f=function(d){a(),r=d,r.l==null&&(r.l=r.length),l(e)};return{next:l,push:f,end:c,_bufs:n}}function Se(n,e,t,r){var a=+e,l;if(!isNaN(a)){r||(r=eV[a].p||(t||[]).length||0),l=1+(a>=128?1:0)+1,r>=128&&++l,r>=16384&&++l,r>=2097152&&++l;var c=n.next(l);a<=127?c.write_shift(1,a):(c.write_shift(1,(a&127)+128),c.write_shift(1,a>>7));for(var f=0;f!=4;++f)if(r>=128)c.write_shift(1,(r&127)+128),r>>=7;else{c.write_shift(1,r);break}r>0&&Vv(t)&&n.push(t)}}function ff(n,e,t){var r=Wr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function FT(n,e,t){var r=Wr(n);return r.s=ff(r.s,e.s,t),r.e=ff(r.e,e.s,t),r}function hf(n,e){if(n.cRel&&n.c<0)for(n=Wr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Wr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Gt(n);return!n.cRel&&n.cRel!=null&&(t=uP(t)),!n.rRel&&n.rRel!=null&&(t=oP(t)),t}function Lg(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+_r(n.s.c)+":"+(n.e.cRel?"":"$")+_r(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+cr(n.s.r)+":"+(n.e.rRel?"":"$")+cr(n.e.r):hf(n.s,e.biff)+":"+hf(n.e,e.biff)}function Uv(n){return parseInt(cP(n),10)-1}function cr(n){return""+(n+1)}function oP(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function cP(n){return n.replace(/\$(\d+)$/,"$1")}function zv(n){for(var e=fP(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function _r(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function uP(n){return n.replace(/^([A-Z])/,"$$$1")}function fP(n){return n.replace(/^\$([A-Z])/,"$1")}function hP(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qn(n){for(var e=0,t=0,r=0;r<n.length;++r){var a=n.charCodeAt(r);a>=48&&a<=57?e=10*e+(a-48):a>=65&&a<=90&&(t=26*t+(a-64))}return{c:t-1,r:e-1}}function Gt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function di(n){var e=n.indexOf(":");return e==-1?{s:qn(n),e:qn(n)}:{s:qn(n.slice(0,e)),e:qn(n.slice(e+1))}}function Mn(n,e){return typeof e>"u"||typeof e=="number"?Mn(n.s,n.e):(typeof n!="string"&&(n=Gt(n)),typeof e!="string"&&(e=Gt(e)),n==e?n:n+":"+e)}function on(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,a=0,l=n.length;for(t=0;r<l&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.s.c=--t,t=0;r<l&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;if(e.s.r=--t,r===l||a!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=l&&!((a=n.charCodeAt(r)-64)<1||a>26);++r)t=26*t+a;for(e.e.c=--t,t=0;r!=l&&!((a=n.charCodeAt(r)-48)<0||a>9);++r)t=10*t+a;return e.e.r=--t,e}function BT(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=xl(n.z,t?Xr(e):e)}catch{}try{return n.w=xl((n.XF||{}).numFmtId||(t?14:0),t?Xr(e):e)}catch{return""+e}}function us(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?$f[n.v]||n.v:e==null?BT(n,n.v):BT(n,e))}function yo(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function zA(n,e,t){var r=t||{},a=n?Array.isArray(n):r.dense,l=n||(a?[]:{}),c=0,f=0;if(l&&r.origin!=null){if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?qn(r.origin):r.origin;c=h.r,f=h.c}l["!ref"]||(l["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(l["!ref"]){var p=on(l["!ref"]);d.s.c=p.s.c,d.s.r=p.s.r,d.e.c=Math.max(d.e.c,p.e.c),d.e.r=Math.max(d.e.r,p.e.r),c==-1&&(d.e.r=c=p.e.r+1)}for(var y=0;y!=e.length;++y)if(e[y]){if(!Array.isArray(e[y]))throw new Error("aoa_to_sheet expects an array of arrays");for(var _=0;_!=e[y].length;++_)if(!(typeof e[y][_]>"u")){var w={v:e[y][_]},C=c+y,E=f+_;if(d.s.r>C&&(d.s.r=C),d.s.c>E&&(d.s.c=E),d.e.r<C&&(d.e.r=C),d.e.c<E&&(d.e.c=E),e[y][_]&&typeof e[y][_]=="object"&&!Array.isArray(e[y][_])&&!(e[y][_]instanceof Date))w=e[y][_];else if(Array.isArray(w.v)&&(w.f=e[y][_][1],w.v=w.v[0]),w.v===null)if(w.f)w.t="n";else if(r.nullError)w.t="e",w.v=0;else if(r.sheetStubs)w.t="z";else continue;else typeof w.v=="number"?w.t="n":typeof w.v=="boolean"?w.t="b":w.v instanceof Date?(w.z=r.dateNF||yn[14],r.cellDates?(w.t="d",w.w=xl(w.z,Xr(w.v))):(w.t="n",w.v=Xr(w.v),w.w=xl(w.z,w.v))):w.t="s";if(a)l[C]||(l[C]=[]),l[C][E]&&l[C][E].z&&(w.z=l[C][E].z),l[C][E]=w;else{var b=Gt({c:E,r:C});l[b]&&l[b].z&&(w.z=l[b].z),l[b]=w}}}return d.s.c<1e7&&(l["!ref"]=Mn(d)),l}function Xc(n,e){return zA(null,n,e)}function dP(n){return n.read_shift(4,"i")}function ta(n,e){return e||(e=xe(4)),e.write_shift(4,n),e}function Er(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Gn(n,e){var t=!1;return e==null&&(t=!0,e=xe(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function mP(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function pP(n,e){return e||(e=xe(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Hv(n,e){var t=n.l,r=n.read_shift(1),a=Er(n),l=[],c={t:a,h:a};if((r&1)!==0){for(var f=n.read_shift(4),h=0;h!=f;++h)l.push(mP(n));c.r=l}else c.r=[{ich:0,ifnt:0}];return n.l=t+e,c}function gP(n,e){var t=!1;return e==null&&(t=!0,e=xe(15+4*n.t.length)),e.write_shift(1,0),Gn(n.t,e),t?e.slice(0,e.l):e}var vP=Hv;function xP(n,e){var t=!1;return e==null&&(t=!0,e=xe(23+4*n.t.length)),e.write_shift(1,1),Gn(n.t,e),e.write_shift(4,1),pP({},e),t?e.slice(0,e.l):e}function Oi(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function _o(n,e){return e==null&&(e=xe(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Eo(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function To(n,e){return e==null&&(e=xe(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var yP=Er,HA=Gn;function qv(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function Cd(n,e){var t=!1;return e==null&&(t=!0,e=xe(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var _P=Er,E1=qv,Gv=Cd;function qA(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var a=r===0?Ad([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):Zl(e,0)>>2;return t?a/100:a}function GA(n,e){e==null&&(e=xe(4));var t=0,r=0,a=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:a==(a|0)&&a>=-536870912&&a<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?a:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function YA(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function EP(n,e){return e||(e=xe(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var wo=YA,Wc=EP;function $c(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function ho(n,e){return(e||xe(8)).write_shift(8,n,"f")}function TP(n){var e={},t=n.read_shift(1),r=t>>>1,a=n.read_shift(1),l=n.read_shift(2,"i"),c=n.read_shift(1),f=n.read_shift(1),h=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=a;var d=OP[a];d&&(e.rgb=KT(d));break;case 2:e.rgb=KT([c,f,h]);break;case 3:e.theme=a;break}return l!=0&&(e.tint=l>0?l/32767:l/32768),e}function Nd(n,e){if(e||(e=xe(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function wP(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function bP(n,e){e||(e=xe(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var XA=2,ai=3,R0=11,Rd=19,I0=64,SP=65,AP=71,CP=4108,NP=4126,ir=80,VT={1:{n:"CodePage",t:XA},2:{n:"Category",t:ir},3:{n:"PresentationFormat",t:ir},4:{n:"ByteCount",t:ai},5:{n:"LineCount",t:ai},6:{n:"ParagraphCount",t:ai},7:{n:"SlideCount",t:ai},8:{n:"NoteCount",t:ai},9:{n:"HiddenCount",t:ai},10:{n:"MultimediaClipCount",t:ai},11:{n:"ScaleCrop",t:R0},12:{n:"HeadingPairs",t:CP},13:{n:"TitlesOfParts",t:NP},14:{n:"Manager",t:ir},15:{n:"Company",t:ir},16:{n:"LinksUpToDate",t:R0},17:{n:"CharacterCount",t:ai},19:{n:"SharedDoc",t:R0},22:{n:"HyperlinksChanged",t:R0},23:{n:"AppVersion",t:ai,p:"version"},24:{n:"DigSig",t:SP},26:{n:"ContentType",t:ir},27:{n:"ContentStatus",t:ir},28:{n:"Language",t:ir},29:{n:"Version",t:ir},255:{},2147483648:{n:"Locale",t:Rd},2147483651:{n:"Behavior",t:Rd},1919054434:{}},UT={1:{n:"CodePage",t:XA},2:{n:"Title",t:ir},3:{n:"Subject",t:ir},4:{n:"Author",t:ir},5:{n:"Keywords",t:ir},6:{n:"Comments",t:ir},7:{n:"Template",t:ir},8:{n:"LastAuthor",t:ir},9:{n:"RevNumber",t:ir},10:{n:"EditTime",t:I0},11:{n:"LastPrinted",t:I0},12:{n:"CreatedDate",t:I0},13:{n:"ModifiedDate",t:I0},14:{n:"PageCount",t:ai},15:{n:"WordCount",t:ai},16:{n:"CharCount",t:ai},17:{n:"Thumbnail",t:AP},18:{n:"Application",t:ir},19:{n:"DocSecurity",t:ai},255:{},2147483648:{n:"Locale",t:Rd},2147483651:{n:"Behavior",t:Rd},1919054434:{}};function RP(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var IP=RP([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),OP=Wr(IP),$f={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},DP={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},O0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function WA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function $A(n,e){var t=z9(DP),r=[],a;r[r.length]=Pn,r[r.length]=Pe("Types",null,{xmlns:Hn.CT,"xmlns:xsd":Hn.xsd,"xmlns:xsi":Hn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(h){return Pe("Default",null,{Extension:h[0],ContentType:h[1]})}));var l=function(h){n[h]&&n[h].length>0&&(a=n[h][0],r[r.length]=Pe("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:O0[h][e.bookType]||O0[h].xlsx}))},c=function(h){(n[h]||[]).forEach(function(d){r[r.length]=Pe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:O0[h][e.bookType]||O0[h].xlsx})})},f=function(h){(n[h]||[]).forEach(function(d){r[r.length]=Pe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[h][0]})})};return l("workbooks"),c("sheets"),c("charts"),f("themes"),["strs","styles"].forEach(l),["coreprops","extprops","custprops"].forEach(f),f("vba"),f("comments"),f("threadedcomments"),f("drawings"),c("metadata"),f("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var Ot={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function KA(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function bc(n){var e=[Pn,Pe("Relationships",null,{xmlns:Hn.RELS})];return fr(n["!id"]).forEach(function(t){e[e.length]=Pe("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ht(n,e,t,r,a,l){if(a||(a={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,a.Id="rId"+e,a.Type=r,a.Target=t,[Ot.HLINK,Ot.XPATH,Ot.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),n["!id"][a.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][a.Id]=a,n[("/"+a.Target).replace("//","/")]=a,e}function kP(n){var e=[Pn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function zT(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function MP(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function PP(n){var e=[Pn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(zT(n[t][0],n[t][1])),e.push(MP("",n[t][0]));return e.push(zT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function QA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+_d.version+"</meta:generator></office:meta></office:document-meta>"}var io=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function jg(n,e,t,r,a){a[n]!=null||e==null||e===""||(a[n]=e,e=qt(e),r[r.length]=t?Pe(n,e,t):or(n,e))}function JA(n,e){var t=e||{},r=[Pn,Pe("cp:coreProperties",null,{"xmlns:cp":Hn.CORE_PROPS,"xmlns:dc":Hn.dc,"xmlns:dcterms":Hn.dcterms,"xmlns:dcmitype":Hn.dcmitype,"xmlns:xsi":Hn.xsi})],a={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&jg("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:_1(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a),n.ModifiedDate!=null&&jg("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:_1(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,a));for(var l=0;l!=io.length;++l){var c=io[l],f=t.Props&&t.Props[c[1]]!=null?t.Props[c[1]]:n?n[c[1]]:null;f===!0?f="1":f===!1?f="0":typeof f=="number"&&(f=String(f)),f!=null&&jg(c[0],f,null,r,a)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Sc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],ZA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function e4(n){var e=[],t=Pe;return n||(n={}),n.Application="SheetJS",e[e.length]=Pn,e[e.length]=Pe("Properties",null,{xmlns:Hn.EXT_PROPS,"xmlns:vt":Hn.vt}),Sc.forEach(function(r){if(n[r[1]]!==void 0){var a;switch(r[2]){case"string":a=qt(String(n[r[1]]));break;case"bool":a=n[r[1]]?"true":"false";break}a!==void 0&&(e[e.length]=t(r[0],a))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+qt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function t4(n){var e=[Pn,Pe("Properties",null,{xmlns:Hn.CUST_PROPS,"xmlns:vt":Hn.vt})];if(!n)return e.join("");var t=1;return fr(n).forEach(function(a){++t,e[e.length]=Pe("property",Z9(n[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:qt(a)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var HT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function LP(n,e){var t=[];return fr(HT).map(function(r){for(var a=0;a<io.length;++a)if(io[a][1]==r)return io[a];for(a=0;a<Sc.length;++a)if(Sc[a][1]==r)return Sc[a];throw r}).forEach(function(r){if(n[r[1]]!=null){var a=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),t.push(or(HT[r[1]]||r[1],a))}}),Pe("DocumentProperties",t.join(""),{xmlns:oi.o})}function jP(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",a=[];return n&&fr(n).forEach(function(l){if(Object.prototype.hasOwnProperty.call(n,l)){for(var c=0;c<io.length;++c)if(l==io[c][1])return;for(c=0;c<Sc.length;++c)if(l==Sc[c][1])return;for(c=0;c<t.length;++c)if(l==t[c])return;var f=n[l],h="string";typeof f=="number"?(h="float",f=String(f)):f===!0||f===!1?(h="boolean",f=f?"1":"0"):f=String(f),a.push(Pe(IT(l),f,{"dt:dt":h}))}}),e&&fr(e).forEach(function(l){if(Object.prototype.hasOwnProperty.call(e,l)&&!(n&&Object.prototype.hasOwnProperty.call(n,l))){var c=e[l],f="string";typeof c=="number"?(f="float",c=String(c)):c===!0||c===!1?(f="boolean",c=c?"1":"0"):c instanceof Date?(f="dateTime.tz",c=c.toISOString()):c=String(c),a.push(Pe(IT(l),c,{"dt:dt":f}))}}),"<"+r+' xmlns="'+oi.o+'">'+a.join("")+"</"+r+">"}function FP(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),a=(t-r)/Math.pow(2,32);r*=1e7,a*=1e7;var l=r/Math.pow(2,32)|0;l>0&&(r=r%Math.pow(2,32),a+=l);var c=xe(8);return c.write_shift(4,r),c.write_shift(4,a),c}function qT(n,e){var t=xe(4),r=xe(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=xe(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=FP(e);break;case 31:case 80:for(r=xe(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return lr([t,r])}var n4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function BP(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function GT(n,e,t){var r=xe(8),a=[],l=[],c=8,f=0,h=xe(8),d=xe(8);if(h.write_shift(4,2),h.write_shift(4,1200),d.write_shift(4,1),l.push(h),a.push(d),c+=8+h.length,!e){d=xe(8),d.write_shift(4,0),a.unshift(d);var p=[xe(4)];for(p[0].write_shift(4,n.length),f=0;f<n.length;++f){var y=n[f][0];for(h=xe(8+2*(y.length+1)+(y.length%2?0:2)),h.write_shift(4,f+2),h.write_shift(4,y.length+1),h.write_shift(0,y,"dbcs");h.l!=h.length;)h.write_shift(1,0);p.push(h)}h=lr(p),l.unshift(h),c+=8+h.length}for(f=0;f<n.length;++f)if(!(e&&!e[n[f][0]])&&!(n4.indexOf(n[f][0])>-1||ZA.indexOf(n[f][0])>-1)&&n[f][1]!=null){var _=n[f][1],w=0;if(e){w=+e[n[f][0]];var C=t[w];if(C.p=="version"&&typeof _=="string"){var E=_.split(".");_=(+E[0]<<16)+(+E[1]||0)}h=qT(C.t,_)}else{var b=BP(_);b==-1&&(b=31,_=String(_)),h=qT(b,_)}l.push(h),d=xe(8),d.write_shift(4,e?w:2+f),a.push(d),c+=8+h.length}var j=8*(l.length+1);for(f=0;f<l.length;++f)a[f].write_shift(4,j),j+=l[f].length;return r.write_shift(4,c),r.write_shift(4,l.length),lr([r].concat(a).concat(l))}function YT(n,e,t,r,a,l){var c=xe(a?68:48),f=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Qt.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,a?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,a?68:48);var h=GT(n,t,r);if(f.push(h),a){var d=GT(a,null,null);c.write_shift(16,l,"hex"),c.write_shift(4,68+h.length),f.push(d)}return lr(f)}function VP(n,e){e||(e=xe(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function UP(n,e){return n.read_shift(e)===1}function Rr(n,e){return e||(e=xe(2)),e.write_shift(2,+!!n),e}function r4(n){return n.read_shift(2,"u")}function Ci(n,e){return e||(e=xe(2)),e.write_shift(2,n),e}function i4(n,e,t){return t||(t=xe(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function a4(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),a="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var l=n.read_shift(1);l&&(a="dbcs-cont")}else t.biff==12&&(a="wstr");t.biff>=2&&t.biff<=5&&(a="cpstr");var c=r?n.read_shift(r,a):"";return c}function zP(n){var e=n.t||"",t=xe(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=xe(2*e.length);r.write_shift(2*e.length,e,"utf16le");var a=[t,r];return lr(a)}function HP(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var a=n.read_shift(1);return a===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function qP(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):HP(n,r,t)}function GP(n,e,t){if(t.biff>5)return qP(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function s4(n,e,t){return t||(t=xe(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function XT(n,e){e||(e=xe(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function YP(n){var e=xe(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var a=r.indexOf("#"),l=a>-1?31:23;switch(r.charAt(0)){case"#":l=28;break;case".":l&=-3;break}e.write_shift(4,2),e.write_shift(4,l);var c=[8,6815827,6619237,4849780,83];for(t=0;t<c.length;++t)e.write_shift(4,c[t]);if(l==28)r=r.slice(1),XT(r,e);else if(l&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));var f=a>-1?r.slice(0,a):r;for(e.write_shift(4,2*(f.length+1)),t=0;t<f.length;++t)e.write_shift(2,f.charCodeAt(t));e.write_shift(2,0),l&8&&XT(a>-1?r.slice(a+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));for(var h=0;r.slice(h*3,h*3+3)=="../"||r.slice(h*3,h*3+3)=="..\\";)++h;for(e.write_shift(2,h),e.write_shift(4,r.length-3*h+1),t=0;t<r.length-3*h;++t)e.write_shift(1,r.charCodeAt(t+3*h)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function mo(n,e,t,r){return r||(r=xe(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function XP(n,e,t){var r=t.biff>8?4:2,a=n.read_shift(r),l=n.read_shift(r,"i"),c=n.read_shift(r,"i");return[a,l,c]}function WP(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),a=n.read_shift(2);return{s:{c:r,r:e},e:{c:a,r:t}}}function l4(n,e){return e||(e=xe(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Yv(n,e,t){var r=1536,a=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,a=8;break;case"biff4":r=4,a=6;break;case"biff3":r=3,a=6;break;case"biff2":r=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var l=xe(a);return l.write_shift(2,r),l.write_shift(2,e),a>4&&l.write_shift(2,29282),a>6&&l.write_shift(2,1997),a>8&&(l.write_shift(2,49161),l.write_shift(2,1),l.write_shift(2,1798),l.write_shift(2,0)),l}function $P(n,e){var t=!e||e.biff==8,r=xe(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function KP(n,e){var t=!e||e.biff>=8?2:1,r=xe(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var a=r.slice(0,r.l);return a.l=r.l,a}function QP(n,e){var t=xe(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],a=0;a<n.length;++a)r[a]=zP(n[a]);var l=lr([t].concat(r));return l.parts=[t.length].concat(r.map(function(c){return c.length})),l}function JP(){var n=xe(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function ZP(n){var e=xe(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function eL(n,e){var t=n.name||"Arial",r=e&&e.biff==5,a=r?15+t.length:16+2*t.length,l=xe(a);return l.write_shift(2,n.sz*20),l.write_shift(4,0),l.write_shift(2,400),l.write_shift(4,0),l.write_shift(2,0),l.write_shift(1,t.length),r||l.write_shift(1,1),l.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),l}function tL(n,e,t,r){var a=xe(10);return mo(n,e,r,a),a.write_shift(4,t),a}function nL(n,e,t,r,a){var l=!a||a.biff==8,c=xe(8+ +l+(1+l)*t.length);return mo(n,e,r,c),c.write_shift(2,t.length),l&&c.write_shift(1,1),c.write_shift((1+l)*t.length,t,l?"utf16le":"sbcs"),c}function rL(n,e,t,r){var a=t&&t.biff==5;r||(r=xe(a?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(a?1:2,e.length),a||r.write_shift(1,1),r.write_shift((a?1:2)*e.length,e,a?"sbcs":"utf16le");var l=r.length>r.l?r.slice(0,r.l):r;return l.l==null&&(l.l=l.length),l}function iL(n,e){var t=e.biff==8||!e.biff?4:2,r=xe(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function WT(n,e,t,r){var a=t&&t.biff==5;r||(r=xe(a?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var l=0;return n.numFmtId>0&&a&&(l|=1024),r.write_shift(4,l),r.write_shift(4,0),a||r.write_shift(4,0),r.write_shift(2,0),r}function aL(n){var e=xe(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function sL(n,e,t,r,a,l){var c=xe(8);return mo(n,e,r,c),i4(t,l,c),c}function lL(n,e,t,r){var a=xe(14);return mo(n,e,r,a),ho(t,a),a}function oL(n,e,t){if(t.biff<8)return cL(n,e,t);for(var r=[],a=n.l+e,l=n.read_shift(t.biff>8?4:2);l--!==0;)r.push(XP(n,t.biff>8?12:6,t));if(n.l!=a)throw new Error("Bad ExternSheet: "+n.l+" != "+a);return r}function cL(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=a4(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function uL(n){var e=xe(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)l4(n[t],e);return e}function fL(n){var e=xe(24),t=qn(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)e.write_shift(1,parseInt(r[a],16));return lr([e,YP(n[1])])}function hL(n){var e=n[1].Tooltip,t=xe(10+2*(e.length+1));t.write_shift(2,2048);var r=qn(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var a=0;a<e.length;++a)t.write_shift(2,e.charCodeAt(a));return t.write_shift(2,0),t}function dL(n){return n||(n=xe(4)),n.write_shift(2,1),n.write_shift(2,1),n}function mL(n,e,t){if(!t.cellStyles)return Na(n,e);var r=t&&t.biff>=12?4:2,a=n.read_shift(r),l=n.read_shift(r),c=n.read_shift(r),f=n.read_shift(r),h=n.read_shift(2);r==2&&(n.l+=2);var d={s:a,e:l,w:c,ixfe:f,flags:h};return(t.biff>=5||!t.biff)&&(d.level=h>>8&7),d}function pL(n,e){var t=xe(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function gL(n){for(var e=xe(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function vL(n,e,t){var r=xe(15);return Qf(r,n,e),r.write_shift(8,t,"f"),r}function xL(n,e,t){var r=xe(9);return Qf(r,n,e),r.write_shift(2,t),r}var yL=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Pv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(f,h){var d=[],p=fo(1);switch(h.type){case"base64":p=Qi(cs(f));break;case"binary":p=Qi(f);break;case"buffer":case"array":p=f;break}li(p,0);var y=p.read_shift(1),_=!!(y&136),w=!1,C=!1;switch(y){case 2:break;case 3:break;case 48:w=!0,_=!0;break;case 49:w=!0,_=!0;break;case 131:break;case 139:break;case 140:C=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+y.toString(16))}var E=0,b=521;y==2&&(E=p.read_shift(2)),p.l+=3,y!=2&&(E=p.read_shift(4)),E>1048576&&(E=1e6),y!=2&&(b=p.read_shift(2));var j=p.read_shift(2),R=h.codepage||1252;y!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(R=n[p[p.l]]),p.l+=1,p.l+=2),C&&(p.l+=36);for(var M=[],G={},te=Math.min(p.length,y==2?521:b-10-(w?264:0)),re=C?32:11;p.l<te&&p[p.l]!=13;)switch(G={},G.name=Ed.utils.decode(R,p.slice(p.l,p.l+re)).replace(/[\u0000\r\n].*$/g,""),p.l+=re,G.type=String.fromCharCode(p.read_shift(1)),y!=2&&!C&&(G.offset=p.read_shift(4)),G.len=p.read_shift(1),y==2&&(G.offset=p.read_shift(2)),G.dec=p.read_shift(1),G.name.length&&M.push(G),y!=2&&(p.l+=C?13:14),G.type){case"B":(!w||G.len!=8)&&h.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"G":case"P":h.WTF&&console.log("Skipping "+G.name+":"+G.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+G.type)}if(p[p.l]!==13&&(p.l=b-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=b;var N=0,O=0;for(d[0]=[],O=0;O!=M.length;++O)d[0][O]=M[O].name;for(;E-- >0;){if(p[p.l]===42){p.l+=j;continue}for(++p.l,d[++N]=[],O=0,O=0;O!=M.length;++O){var I=p.slice(p.l,p.l+M[O].len);p.l+=M[O].len,li(I,0);var D=Ed.utils.decode(R,I);switch(M[O].type){case"C":D.trim().length&&(d[N][O]=D.replace(/\s+$/,""));break;case"D":D.length===8?d[N][O]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):d[N][O]=D;break;case"F":d[N][O]=parseFloat(D.trim());break;case"+":case"I":d[N][O]=C?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":d[N][O]=!0;break;case"N":case"F":d[N][O]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!_)throw new Error("DBF Unexpected MEMO for type "+y.toString(16));d[N][O]="##MEMO##"+(C?parseInt(D.trim(),10):I.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(d[N][O]=+D||0);break;case"@":d[N][O]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":d[N][O]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":d[N][O]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[N][O]=-I.read_shift(-8,"f");break;case"B":if(w&&M[O].len==8){d[N][O]=I.read_shift(8,"f");break}case"G":case"P":I.l+=M[O].len;break;case"0":if(M[O].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+M[O].type)}}}if(y!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return h&&h.sheetRows&&(d=d.slice(0,h.sheetRows)),h.DBF=M,d}function r(f,h){var d=h||{};d.dateNF||(d.dateNF="yyyymmdd");var p=Xc(t(f,d),d);return p["!cols"]=d.DBF.map(function(y){return{wch:y.len,DBF:y}}),delete d.DBF,p}function a(f,h){try{return yo(r(f,h),h)}catch(d){if(h&&h.WTF)throw d}return{SheetNames:[],Sheets:{}}}var l={B:8,C:250,L:1,D:8,"?":0,"":0};function c(f,h){var d=h||{};if(+d.codepage>=0&&wf(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var p=Yr(),y=Md(f,{header:1,raw:!0,cellDates:!0}),_=y[0],w=y.slice(1),C=f["!cols"]||[],E=0,b=0,j=0,R=1;for(E=0;E<_.length;++E){if(((C[E]||{}).DBF||{}).name){_[E]=C[E].DBF.name,++j;continue}if(_[E]!=null){if(++j,typeof _[E]=="number"&&(_[E]=_[E].toString(10)),typeof _[E]!="string")throw new Error("DBF Invalid column name "+_[E]+" |"+typeof _[E]+"|");if(_.indexOf(_[E])!==E){for(b=0;b<1024;++b)if(_.indexOf(_[E]+"_"+b)==-1){_[E]+="_"+b;break}}}}var M=on(f["!ref"]),G=[],te=[],re=[];for(E=0;E<=M.e.c-M.s.c;++E){var N="",O="",I=0,D=[];for(b=0;b<w.length;++b)w[b][E]!=null&&D.push(w[b][E]);if(D.length==0||_[E]==null){G[E]="?";continue}for(b=0;b<D.length;++b){switch(typeof D[b]){case"number":O="B";break;case"string":O="C";break;case"boolean":O="L";break;case"object":O=D[b]instanceof Date?"D":"C";break;default:O="C"}I=Math.max(I,String(D[b]).length),N=N&&N!=O?"C":O}I>250&&(I=250),O=((C[E]||{}).DBF||{}).type,O=="C"&&C[E].DBF.len>I&&(I=C[E].DBF.len),N=="B"&&O=="N"&&(N="N",re[E]=C[E].DBF.dec,I=C[E].DBF.len),te[E]=N=="C"||O=="N"?I:l[N]||0,R+=te[E],G[E]=N}var L=p.next(32);for(L.write_shift(4,318902576),L.write_shift(4,w.length),L.write_shift(2,296+32*j),L.write_shift(2,R),E=0;E<4;++E)L.write_shift(4,0);for(L.write_shift(4,0|(+e[cA]||3)<<8),E=0,b=0;E<_.length;++E)if(_[E]!=null){var B=p.next(32),V=(_[E].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);B.write_shift(1,V,"sbcs"),B.write_shift(1,G[E]=="?"?"C":G[E],"sbcs"),B.write_shift(4,b),B.write_shift(1,te[E]||l[G[E]]||0),B.write_shift(1,re[E]||0),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(1,0),B.write_shift(4,0),B.write_shift(4,0),b+=te[E]||l[G[E]]||0}var $e=p.next(264);for($e.write_shift(4,13),E=0;E<65;++E)$e.write_shift(4,0);for(E=0;E<w.length;++E){var Ue=p.next(R);for(Ue.write_shift(1,0),b=0;b<_.length;++b)if(_[b]!=null)switch(G[b]){case"L":Ue.write_shift(1,w[E][b]==null?63:w[E][b]?84:70);break;case"B":Ue.write_shift(8,w[E][b]||0,"f");break;case"N":var de="0";for(typeof w[E][b]=="number"&&(de=w[E][b].toFixed(re[b]||0)),j=0;j<te[b]-de.length;++j)Ue.write_shift(1,32);Ue.write_shift(1,de,"sbcs");break;case"D":w[E][b]?(Ue.write_shift(4,("0000"+w[E][b].getFullYear()).slice(-4),"sbcs"),Ue.write_shift(2,("00"+(w[E][b].getMonth()+1)).slice(-2),"sbcs"),Ue.write_shift(2,("00"+w[E][b].getDate()).slice(-2),"sbcs")):Ue.write_shift(8,"00000000","sbcs");break;case"C":var be=String(w[E][b]!=null?w[E][b]:"").slice(0,te[b]);for(Ue.write_shift(1,be,"sbcs"),j=0;j<te[b]-be.length;++j)Ue.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:r,from_sheet:c}})(),_L=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+fr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(_,w){var C=n[w];return typeof C=="number"?xT(C):C},r=function(_,w,C){var E=w.charCodeAt(0)-32<<4|C.charCodeAt(0)-48;return E==59?_:xT(E)};n["|"]=254;function a(_,w){switch(w.type){case"base64":return l(cs(_),w);case"binary":return l(_,w);case"buffer":return l(Mt&&Buffer.isBuffer(_)?_.toString("binary"):Yf(_),w);case"array":return l(hm(_),w)}throw new Error("Unrecognized type "+w.type)}function l(_,w){var C=_.split(/[\n\r]+/),E=-1,b=-1,j=0,R=0,M=[],G=[],te=null,re={},N=[],O=[],I=[],D=0,L;for(+w.codepage>=0&&wf(+w.codepage);j!==C.length;++j){D=0;var B=C[j].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),V=B.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),$e=V[0],Ue;if(B.length>0)switch($e){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":V[1].charAt(0)=="P"&&G.push(B.slice(3).replace(/;;/g,";"));break;case"C":var de=!1,be=!1,qe=!1,Ze=!1,Je=-1,ee=-1;for(R=1;R<V.length;++R)switch(V[R].charAt(0)){case"A":break;case"X":b=parseInt(V[R].slice(1))-1,be=!0;break;case"Y":for(E=parseInt(V[R].slice(1))-1,be||(b=0),L=M.length;L<=E;++L)M[L]=[];break;case"K":Ue=V[R].slice(1),Ue.charAt(0)==='"'?Ue=Ue.slice(1,Ue.length-1):Ue==="TRUE"?Ue=!0:Ue==="FALSE"?Ue=!1:isNaN(ts(Ue))?isNaN(Sf(Ue).getDate())||(Ue=Or(Ue)):(Ue=ts(Ue),te!==null&&EA(te)&&(Ue=SA(Ue))),de=!0;break;case"E":Ze=!0;var F=xj(V[R].slice(1),{r:E,c:b});M[E][b]=[M[E][b],F];break;case"S":qe=!0,M[E][b]=[M[E][b],"S5S"];break;case"G":break;case"R":Je=parseInt(V[R].slice(1))-1;break;case"C":ee=parseInt(V[R].slice(1))-1;break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+B)}if(de&&(M[E][b]&&M[E][b].length==2?M[E][b][0]=Ue:M[E][b]=Ue,te=null),qe){if(Ze)throw new Error("SYLK shared formula cannot have own formula");var J=Je>-1&&M[Je][ee];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");M[E][b][1]=yj(J[1],{r:E-Je,c:b-ee})}break;case"F":var W=0;for(R=1;R<V.length;++R)switch(V[R].charAt(0)){case"X":b=parseInt(V[R].slice(1))-1,++W;break;case"Y":for(E=parseInt(V[R].slice(1))-1,L=M.length;L<=E;++L)M[L]=[];break;case"M":D=parseInt(V[R].slice(1))/20;break;case"F":break;case"G":break;case"P":te=G[parseInt(V[R].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=V[R].slice(1).split(" "),L=parseInt(I[0],10);L<=parseInt(I[1],10);++L)D=parseInt(I[2],10),O[L-1]=D===0?{hidden:!0}:{wch:D},Xv(O[L-1]);break;case"C":b=parseInt(V[R].slice(1))-1,O[b]||(O[b]={});break;case"R":E=parseInt(V[R].slice(1))-1,N[E]||(N[E]={}),D>0?(N[E].hpt=D,N[E].hpx=h4(D)):D===0&&(N[E].hidden=!0);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+B)}W<1&&(te=null);break;default:if(w&&w.WTF)throw new Error("SYLK bad record "+B)}}return N.length>0&&(re["!rows"]=N),O.length>0&&(re["!cols"]=O),w&&w.sheetRows&&(M=M.slice(0,w.sheetRows)),[M,re]}function c(_,w){var C=a(_,w),E=C[0],b=C[1],j=Xc(E,w);return fr(b).forEach(function(R){j[R]=b[R]}),j}function f(_,w){return yo(c(_,w),w)}function h(_,w,C,E){var b="C;Y"+(C+1)+";X"+(E+1)+";K";switch(_.t){case"n":b+=_.v||0,_.f&&!_.F&&(b+=";E"+$v(_.f,{r:C,c:E}));break;case"b":b+=_.v?"TRUE":"FALSE";break;case"e":b+=_.w||_.v;break;case"d":b+='"'+(_.w||_.v)+'"';break;case"s":b+='"'+_.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(_,w){w.forEach(function(C,E){var b="F;W"+(E+1)+" "+(E+1)+" ";C.hidden?b+="0":(typeof C.width=="number"&&!C.wpx&&(C.wpx=Id(C.width)),typeof C.wpx=="number"&&!C.wch&&(C.wch=Od(C.wpx)),typeof C.wch=="number"&&(b+=Math.round(C.wch))),b.charAt(b.length-1)!=" "&&_.push(b)})}function p(_,w){w.forEach(function(C,E){var b="F;";C.hidden?b+="M0;":C.hpt?b+="M"+20*C.hpt+";":C.hpx&&(b+="M"+20*Dd(C.hpx)+";"),b.length>2&&_.push(b+"R"+(E+1))})}function y(_,w){var C=["ID;PWXL;N;E"],E=[],b=on(_["!ref"]),j,R=Array.isArray(_),M=`\r
`;C.push("P;PGeneral"),C.push("F;P0;DG0G8;M255"),_["!cols"]&&d(C,_["!cols"]),_["!rows"]&&p(C,_["!rows"]),C.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var G=b.s.r;G<=b.e.r;++G)for(var te=b.s.c;te<=b.e.c;++te){var re=Gt({r:G,c:te});j=R?(_[G]||[])[te]:_[re],!(!j||j.v==null&&(!j.f||j.F))&&E.push(h(j,_,G,te))}return C.join(M)+M+E.join(M)+M+"E"+M}return{to_workbook:f,to_sheet:c,from_sheet:y}})(),EL=(function(){function n(l,c){switch(c.type){case"base64":return e(cs(l),c);case"binary":return e(l,c);case"buffer":return e(Mt&&Buffer.isBuffer(l)?l.toString("binary"):Yf(l),c);case"array":return e(hm(l),c)}throw new Error("Unrecognized type "+c.type)}function e(l,c){for(var f=l.split(`
`),h=-1,d=-1,p=0,y=[];p!==f.length;++p){if(f[p].trim()==="BOT"){y[++h]=[],d=0;continue}if(!(h<0)){var _=f[p].trim().split(","),w=_[0],C=_[1];++p;for(var E=f[p]||"";(E.match(/["]/g)||[]).length&1&&p<f.length-1;)E+=`
`+f[++p];switch(E=E.trim(),+w){case-1:if(E==="BOT"){y[++h]=[],d=0;continue}else if(E!=="EOD")throw new Error("Unrecognized DIF special command "+E);break;case 0:E==="TRUE"?y[h][d]=!0:E==="FALSE"?y[h][d]=!1:isNaN(ts(C))?isNaN(Sf(C).getDate())?y[h][d]=C:y[h][d]=Or(C):y[h][d]=ts(C),++d;break;case 1:E=E.slice(1,E.length-1),E=E.replace(/""/g,'"'),E&&E.match(/^=".*"$/)&&(E=E.slice(2,-1)),y[h][d++]=E!==""?E:null;break}if(E==="EOD")break}}return c&&c.sheetRows&&(y=y.slice(0,c.sheetRows)),y}function t(l,c){return Xc(n(l,c),c)}function r(l,c){return yo(t(l,c),c)}var a=(function(){var l=function(h,d,p,y,_){h.push(d),h.push(p+","+y),h.push('"'+_.replace(/"/g,'""')+'"')},c=function(h,d,p,y){h.push(d+","+p),h.push(d==1?'"'+y.replace(/"/g,'""')+'"':y)};return function(h){var d=[],p=on(h["!ref"]),y,_=Array.isArray(h);l(d,"TABLE",0,1,"sheetjs"),l(d,"VECTORS",0,p.e.r-p.s.r+1,""),l(d,"TUPLES",0,p.e.c-p.s.c+1,""),l(d,"DATA",0,0,"");for(var w=p.s.r;w<=p.e.r;++w){c(d,-1,0,"BOT");for(var C=p.s.c;C<=p.e.c;++C){var E=Gt({r:w,c:C});if(y=_?(h[w]||[])[C]:h[E],!y){c(d,1,0,"");continue}switch(y.t){case"n":var b=y.w;!b&&y.v!=null&&(b=y.v),b==null?y.f&&!y.F?c(d,1,0,"="+y.f):c(d,1,0,""):c(d,0,b,"V");break;case"b":c(d,0,y.v?1:0,y.v?"TRUE":"FALSE");break;case"s":c(d,1,0,isNaN(y.v)?y.v:'="'+y.v+'"');break;case"d":y.w||(y.w=xl(y.z||yn[14],Xr(Or(y.v)))),c(d,0,y.w,"V");break;default:c(d,1,0,"")}}}c(d,-1,0,"EOD");var j=`\r
`,R=d.join(j);return R}})();return{to_workbook:r,to_sheet:t,from_sheet:a}})(),o4=(function(){function n(y){return y.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(y){return y.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(y,_){for(var w=y.split(`
`),C=-1,E=-1,b=0,j=[];b!==w.length;++b){var R=w[b].trim().split(":");if(R[0]==="cell"){var M=qn(R[1]);if(j.length<=M.r)for(C=j.length;C<=M.r;++C)j[C]||(j[C]=[]);switch(C=M.r,E=M.c,R[2]){case"t":j[C][E]=n(R[3]);break;case"v":j[C][E]=+R[3];break;case"vtf":var G=R[R.length-1];case"vtc":switch(R[3]){case"nl":j[C][E]=!!+R[4];break;default:j[C][E]=+R[4];break}R[2]=="vtf"&&(j[C][E]=[j[C][E],G])}}}return _&&_.sheetRows&&(j=j.slice(0,_.sheetRows)),j}function r(y,_){return Xc(t(y,_),_)}function a(y,_){return yo(r(y,_),_)}var l=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,f=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),h="--SocialCalcSpreadsheetControlSave--";function d(y){if(!y||!y["!ref"])return"";for(var _=[],w=[],C,E="",b=di(y["!ref"]),j=Array.isArray(y),R=b.s.r;R<=b.e.r;++R)for(var M=b.s.c;M<=b.e.c;++M)if(E=Gt({r:R,c:M}),C=j?(y[R]||[])[M]:y[E],!(!C||C.v==null||C.t==="z")){switch(w=["cell",E,"t"],C.t){case"s":case"str":w.push(e(C.v));break;case"n":C.f?(w[2]="vtf",w[3]="n",w[4]=C.v,w[5]=e(C.f)):(w[2]="v",w[3]=C.v);break;case"b":w[2]="vt"+(C.f?"f":"c"),w[3]="nl",w[4]=C.v?"1":"0",w[5]=e(C.f||(C.v?"TRUE":"FALSE"));break;case"d":var G=Xr(Or(C.v));w[2]="vtc",w[3]="nd",w[4]=""+G,w[5]=C.w||xl(C.z||yn[14],G);break;case"e":continue}_.push(w.join(":"))}return _.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),_.push("valueformat:1:text-wiki"),_.join(`
`)}function p(y){return[l,c,f,c,d(y),h].join(`
`)}return{to_workbook:a,to_sheet:r,from_sheet:p}})(),TL=(function(){function n(p,y,_,w,C){C.raw?y[_][w]=p:p===""||(p==="TRUE"?y[_][w]=!0:p==="FALSE"?y[_][w]=!1:isNaN(ts(p))?isNaN(Sf(p).getDate())?y[_][w]=p:y[_][w]=Or(p):y[_][w]=ts(p))}function e(p,y){var _=y||{},w=[];if(!p||p.length===0)return w;for(var C=p.split(/[\r\n]/),E=C.length-1;E>=0&&C[E].length===0;)--E;for(var b=10,j=0,R=0;R<=E;++R)j=C[R].indexOf(" "),j==-1?j=C[R].length:j++,b=Math.max(b,j);for(R=0;R<=E;++R){w[R]=[];var M=0;for(n(C[R].slice(0,b).trim(),w,R,M,_),M=1;M<=(C[R].length-b)/10+1;++M)n(C[R].slice(b+(M-1)*10,b+M*10).trim(),w,R,M,_)}return _.sheetRows&&(w=w.slice(0,_.sheetRows)),w}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function a(p){for(var y={},_=!1,w=0,C=0;w<p.length;++w)(C=p.charCodeAt(w))==34?_=!_:!_&&C in t&&(y[C]=(y[C]||0)+1);C=[];for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&C.push([y[w],w]);if(!C.length){y=r;for(w in y)Object.prototype.hasOwnProperty.call(y,w)&&C.push([y[w],w])}return C.sort(function(E,b){return E[0]-b[0]||r[E[1]]-r[b[1]]}),t[C.pop()[1]]||44}function l(p,y){var _=y||{},w="",C=_.dense?[]:{},E={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(w=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(w=p.charAt(4),p=p.slice(6)):w=a(p.slice(0,1024)):_&&_.FS?w=_.FS:w=a(p.slice(0,1024));var b=0,j=0,R=0,M=0,G=0,te=w.charCodeAt(0),re=!1,N=0,O=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var I=_.dateNF!=null?F9(_.dateNF):null;function D(){var L=p.slice(M,G),B={};if(L.charAt(0)=='"'&&L.charAt(L.length-1)=='"'&&(L=L.slice(1,-1).replace(/""/g,'"')),L.length===0)B.t="z";else if(_.raw)B.t="s",B.v=L;else if(L.trim().length===0)B.t="s",B.v=L;else if(L.charCodeAt(0)==61)L.charCodeAt(1)==34&&L.charCodeAt(L.length-1)==34?(B.t="s",B.v=L.slice(2,-1).replace(/""/g,'"')):_j(L)?(B.t="n",B.f=L.slice(1)):(B.t="s",B.v=L);else if(L=="TRUE")B.t="b",B.v=!0;else if(L=="FALSE")B.t="b",B.v=!1;else if(!isNaN(R=ts(L)))B.t="n",_.cellText!==!1&&(B.w=L),B.v=R;else if(!isNaN(Sf(L).getDate())||I&&L.match(I)){B.z=_.dateNF||yn[14];var V=0;I&&L.match(I)&&(L=B9(L,_.dateNF,L.match(I)||[]),V=1),_.cellDates?(B.t="d",B.v=Or(L,V)):(B.t="n",B.v=Xr(Or(L,V))),_.cellText!==!1&&(B.w=xl(B.z,B.v instanceof Date?Xr(B.v):B.v)),_.cellNF||delete B.z}else B.t="s",B.v=L;if(B.t=="z"||(_.dense?(C[b]||(C[b]=[]),C[b][j]=B):C[Gt({c:j,r:b})]=B),M=G+1,O=p.charCodeAt(M),E.e.c<j&&(E.e.c=j),E.e.r<b&&(E.e.r=b),N==te)++j;else if(j=0,++b,_.sheetRows&&_.sheetRows<=b)return!0}e:for(;G<p.length;++G)switch(N=p.charCodeAt(G)){case 34:O===34&&(re=!re);break;case te:case 10:case 13:if(!re&&D())break e;break}return G-M>0&&D(),C["!ref"]=Mn(E),C}function c(p,y){return!(y&&y.PRN)||y.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?l(p,y):Xc(e(p,y),y)}function f(p,y){var _="",w=y.type=="string"?[0,0,0,0]:MV(p,y);switch(y.type){case"base64":_=cs(p);break;case"binary":_=p;break;case"buffer":y.codepage==65001?_=p.toString("utf8"):y.codepage&&typeof Ed<"u"||(_=Mt&&Buffer.isBuffer(p)?p.toString("binary"):Yf(p));break;case"array":_=hm(p);break;case"string":_=p;break;default:throw new Error("Unrecognized type "+y.type)}return w[0]==239&&w[1]==187&&w[2]==191?_=cf(_.slice(3)):y.type!="string"&&y.type!="buffer"&&y.codepage==65001?_=cf(_):y.type=="binary"&&typeof Ed<"u",_.slice(0,19)=="socialcalc:version:"?o4.to_sheet(y.type=="string"?_:cf(_),y):c(_,y)}function h(p,y){return yo(f(p,y),y)}function d(p){for(var y=[],_=on(p["!ref"]),w,C=Array.isArray(p),E=_.s.r;E<=_.e.r;++E){for(var b=[],j=_.s.c;j<=_.e.c;++j){var R=Gt({r:E,c:j});if(w=C?(p[E]||[])[j]:p[R],!w||w.v==null){b.push("          ");continue}for(var M=(w.w||(us(w),w.w)||"").slice(0,10);M.length<10;)M+=" ";b.push(M+(j===0?" ":""))}y.push(b.join(""))}return y.join(`
`)}return{to_workbook:h,to_sheet:f,from_sheet:d}})(),$T=(function(){function n(F,J,W){if(F){li(F,F.l||0);for(var K=W.Enum||Je;F.l<F.length;){var pe=F.read_shift(2),Re=K[pe]||K[65535],Be=F.read_shift(2),Oe=F.l+Be,ke=Re.f&&Re.f(F,Be,W);if(F.l=Oe,J(ke,Re,pe))return}}}function e(F,J){switch(J.type){case"base64":return t(Qi(cs(F)),J);case"binary":return t(Qi(F),J);case"buffer":case"array":return t(F,J)}throw"Unsupported type "+J.type}function t(F,J){if(!F)return F;var W=J||{},K=W.dense?[]:{},pe="Sheet1",Re="",Be=0,Oe={},ke=[],gt=[],lt={s:{r:0,c:0},e:{r:0,c:0}},en=W.sheetRows||0;if(F[2]==0&&(F[3]==8||F[3]==9)&&F.length>=16&&F[14]==5&&F[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(F[2]==2)W.Enum=Je,n(F,function(ze,bn,Nt){switch(Nt){case 0:W.vers=ze,ze>=4096&&(W.qpro=!0);break;case 6:lt=ze;break;case 204:ze&&(Re=ze);break;case 222:Re=ze;break;case 15:case 51:W.qpro||(ze[1].v=ze[1].v.slice(1));case 13:case 14:case 16:Nt==14&&(ze[2]&112)==112&&(ze[2]&15)>1&&(ze[2]&15)<15&&(ze[1].z=W.dateNF||yn[14],W.cellDates&&(ze[1].t="d",ze[1].v=SA(ze[1].v))),W.qpro&&ze[3]>Be&&(K["!ref"]=Mn(lt),Oe[pe]=K,ke.push(pe),K=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Be=ze[3],pe=Re||"Sheet"+(Be+1),Re="");var Pt=W.dense?(K[ze[0].r]||[])[ze[0].c]:K[Gt(ze[0])];if(Pt){Pt.t=ze[1].t,Pt.v=ze[1].v,ze[1].z!=null&&(Pt.z=ze[1].z),ze[1].f!=null&&(Pt.f=ze[1].f);break}W.dense?(K[ze[0].r]||(K[ze[0].r]=[]),K[ze[0].r][ze[0].c]=ze[1]):K[Gt(ze[0])]=ze[1];break}},W);else if(F[2]==26||F[2]==14)W.Enum=ee,F[2]==14&&(W.qpro=!0,F.l=0),n(F,function(ze,bn,Nt){switch(Nt){case 204:pe=ze;break;case 22:ze[1].v=ze[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ze[3]>Be&&(K["!ref"]=Mn(lt),Oe[pe]=K,ke.push(pe),K=W.dense?[]:{},lt={s:{r:0,c:0},e:{r:0,c:0}},Be=ze[3],pe="Sheet"+(Be+1)),en>0&&ze[0].r>=en)break;W.dense?(K[ze[0].r]||(K[ze[0].r]=[]),K[ze[0].r][ze[0].c]=ze[1]):K[Gt(ze[0])]=ze[1],lt.e.c<ze[0].c&&(lt.e.c=ze[0].c),lt.e.r<ze[0].r&&(lt.e.r=ze[0].r);break;case 27:ze[14e3]&&(gt[ze[14e3][0]]=ze[14e3][1]);break;case 1537:gt[ze[0]]=ze[1],ze[0]==Be&&(pe=ze[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+F[2]);if(K["!ref"]=Mn(lt),Oe[Re||pe]=K,ke.push(Re||pe),!gt.length)return{SheetNames:ke,Sheets:Oe};for(var ut={},Xn=[],Ct=0;Ct<gt.length;++Ct)Oe[ke[Ct]]?(Xn.push(gt[Ct]||ke[Ct]),ut[gt[Ct]]=Oe[gt[Ct]]||Oe[ke[Ct]]):(Xn.push(gt[Ct]),ut[gt[Ct]]={"!ref":"A1"});return{SheetNames:Xn,Sheets:ut}}function r(F,J){var W=J||{};if(+W.codepage>=0&&wf(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var K=Yr(),pe=on(F["!ref"]),Re=Array.isArray(F),Be=[];Le(K,0,l(1030)),Le(K,6,h(pe));for(var Oe=Math.min(pe.e.r,8191),ke=pe.s.r;ke<=Oe;++ke)for(var gt=cr(ke),lt=pe.s.c;lt<=pe.e.c;++lt){ke===pe.s.r&&(Be[lt]=_r(lt));var en=Be[lt]+gt,ut=Re?(F[ke]||[])[lt]:F[en];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?Le(K,13,w(ke,lt,ut.v)):Le(K,14,E(ke,lt,ut.v));else{var Xn=us(ut);Le(K,15,y(ke,lt,Xn.slice(0,239)))}}return Le(K,1),K.end()}function a(F,J){var W=J||{};if(+W.codepage>=0&&wf(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var K=Yr();Le(K,0,c(F));for(var pe=0,Re=0;pe<F.SheetNames.length;++pe)(F.Sheets[F.SheetNames[pe]]||{})["!ref"]&&Le(K,27,Ze(F.SheetNames[pe],Re++));var Be=0;for(pe=0;pe<F.SheetNames.length;++pe){var Oe=F.Sheets[F.SheetNames[pe]];if(!(!Oe||!Oe["!ref"])){for(var ke=on(Oe["!ref"]),gt=Array.isArray(Oe),lt=[],en=Math.min(ke.e.r,8191),ut=ke.s.r;ut<=en;++ut)for(var Xn=cr(ut),Ct=ke.s.c;Ct<=ke.e.c;++Ct){ut===ke.s.r&&(lt[Ct]=_r(Ct));var ze=lt[Ct]+Xn,bn=gt?(Oe[ut]||[])[Ct]:Oe[ze];if(!(!bn||bn.t=="z"))if(bn.t=="n")Le(K,23,D(ut,Ct,Be,bn.v));else{var Nt=us(bn);Le(K,22,N(ut,Ct,Be,Nt.slice(0,239)))}}++Be}}return Le(K,1),K.end()}function l(F){var J=xe(2);return J.write_shift(2,F),J}function c(F){var J=xe(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var W=0,K=0,pe=0,Re=0;Re<F.SheetNames.length;++Re){var Be=F.SheetNames[Re],Oe=F.Sheets[Be];if(!(!Oe||!Oe["!ref"])){++pe;var ke=di(Oe["!ref"]);W<ke.e.r&&(W=ke.e.r),K<ke.e.c&&(K=ke.e.c)}}return W>8191&&(W=8191),J.write_shift(2,W),J.write_shift(1,pe),J.write_shift(1,K),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function f(F,J,W){var K={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&W.qpro?(K.s.c=F.read_shift(1),F.l++,K.s.r=F.read_shift(2),K.e.c=F.read_shift(1),F.l++,K.e.r=F.read_shift(2),K):(K.s.c=F.read_shift(2),K.s.r=F.read_shift(2),J==12&&W.qpro&&(F.l+=2),K.e.c=F.read_shift(2),K.e.r=F.read_shift(2),J==12&&W.qpro&&(F.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function h(F){var J=xe(8);return J.write_shift(2,F.s.c),J.write_shift(2,F.s.r),J.write_shift(2,F.e.c),J.write_shift(2,F.e.r),J}function d(F,J,W){var K=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(K[0].c=F.read_shift(1),K[3]=F.read_shift(1),K[0].r=F.read_shift(2),F.l+=2):(K[2]=F.read_shift(1),K[0].c=F.read_shift(2),K[0].r=F.read_shift(2)),K}function p(F,J,W){var K=F.l+J,pe=d(F,J,W);if(pe[1].t="s",W.vers==20768){F.l++;var Re=F.read_shift(1);return pe[1].v=F.read_shift(Re,"utf8"),pe}return W.qpro&&F.l++,pe[1].v=F.read_shift(K-F.l,"cstr"),pe}function y(F,J,W){var K=xe(7+W.length);K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,F),K.write_shift(1,39);for(var pe=0;pe<K.length;++pe){var Re=W.charCodeAt(pe);K.write_shift(1,Re>=128?95:Re)}return K.write_shift(1,0),K}function _(F,J,W){var K=d(F,J,W);return K[1].v=F.read_shift(2,"i"),K}function w(F,J,W){var K=xe(7);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,F),K.write_shift(2,W,"i"),K}function C(F,J,W){var K=d(F,J,W);return K[1].v=F.read_shift(8,"f"),K}function E(F,J,W){var K=xe(13);return K.write_shift(1,255),K.write_shift(2,J),K.write_shift(2,F),K.write_shift(8,W,"f"),K}function b(F,J,W){var K=F.l+J,pe=d(F,J,W);if(pe[1].v=F.read_shift(8,"f"),W.qpro)F.l=K;else{var Re=F.read_shift(2);G(F.slice(F.l,F.l+Re),pe),F.l+=Re}return pe}function j(F,J,W){var K=J&32768;return J&=-32769,J=(K?F:0)+(J>=8192?J-16384:J),(K?"":"$")+(W?_r(J):cr(J))}var R={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},M=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function G(F,J){li(F,0);for(var W=[],K=0,pe="",Re="",Be="",Oe="";F.l<F.length;){var ke=F[F.l++];switch(ke){case 0:W.push(F.read_shift(8,"f"));break;case 1:Re=j(J[0].c,F.read_shift(2),!0),pe=j(J[0].r,F.read_shift(2),!1),W.push(Re+pe);break;case 2:{var gt=j(J[0].c,F.read_shift(2),!0),lt=j(J[0].r,F.read_shift(2),!1);Re=j(J[0].c,F.read_shift(2),!0),pe=j(J[0].r,F.read_shift(2),!1),W.push(gt+lt+":"+Re+pe)}break;case 3:if(F.l<F.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(F.read_shift(2));break;case 6:{for(var en="";ke=F[F.l++];)en+=String.fromCharCode(ke);W.push('"'+en.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:Oe=W.pop(),Be=W.pop(),W.push(["AND","OR"][ke-20]+"("+Be+","+Oe+")");break;default:if(ke<32&&M[ke])Oe=W.pop(),Be=W.pop(),W.push(Be+M[ke]+Oe);else if(R[ke]){if(K=R[ke][1],K==69&&(K=F[F.l++]),K>W.length){console.error("WK1 bad formula parse 0x"+ke.toString(16)+":|"+W.join("|")+"|");return}var ut=W.slice(-K);W.length-=K,W.push(R[ke][0]+"("+ut.join(",")+")")}else return ke<=7?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=24?console.error("WK1 unsupported op "+ke.toString(16)):ke<=30?console.error("WK1 invalid opcode "+ke.toString(16)):ke<=115?console.error("WK1 unsupported function opcode "+ke.toString(16)):console.error("WK1 unrecognized opcode "+ke.toString(16))}}W.length==1?J[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function te(F){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=F.read_shift(2),J[3]=F[F.l++],J[0].c=F[F.l++],J}function re(F,J){var W=te(F);return W[1].t="s",W[1].v=F.read_shift(J-4,"cstr"),W}function N(F,J,W,K){var pe=xe(6+K.length);pe.write_shift(2,F),pe.write_shift(1,W),pe.write_shift(1,J),pe.write_shift(1,39);for(var Re=0;Re<K.length;++Re){var Be=K.charCodeAt(Re);pe.write_shift(1,Be>=128?95:Be)}return pe.write_shift(1,0),pe}function O(F,J){var W=te(F);W[1].v=F.read_shift(2);var K=W[1].v>>1;if(W[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return W[1].v=K,W}function I(F,J){var W=te(F),K=F.read_shift(4),pe=F.read_shift(4),Re=F.read_shift(2);if(Re==65535)return K===0&&pe===3221225472?(W[1].t="e",W[1].v=15):K===0&&pe===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var Be=Re&32768;return Re=(Re&32767)-16446,W[1].v=(1-Be*2)*(pe*Math.pow(2,Re+32)+K*Math.pow(2,Re)),W}function D(F,J,W,K){var pe=xe(14);if(pe.write_shift(2,F),pe.write_shift(1,W),pe.write_shift(1,J),K==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var Re=0,Be=0,Oe=0,ke=0;return K<0&&(Re=1,K=-K),Be=Math.log2(K)|0,K/=Math.pow(2,Be-31),ke=K>>>0,(ke&2147483648)==0&&(K/=2,++Be,ke=K>>>0),K-=ke,ke|=2147483648,ke>>>=0,K*=Math.pow(2,32),Oe=K>>>0,pe.write_shift(4,Oe),pe.write_shift(4,ke),Be+=16383+(Re?32768:0),pe.write_shift(2,Be),pe}function L(F,J){var W=I(F);return F.l+=J-14,W}function B(F,J){var W=te(F),K=F.read_shift(4);return W[1].v=K>>6,W}function V(F,J){var W=te(F),K=F.read_shift(8,"f");return W[1].v=K,W}function $e(F,J){var W=V(F);return F.l+=J-10,W}function Ue(F,J){return F[F.l+J-1]==0?F.read_shift(J,"cstr"):""}function de(F,J){var W=F[F.l++];W>J-1&&(W=J-1);for(var K="";K.length<W;)K+=String.fromCharCode(F[F.l++]);return K}function be(F,J,W){if(!(!W.qpro||J<21)){var K=F.read_shift(1);F.l+=17,F.l+=1,F.l+=2;var pe=F.read_shift(J-21,"cstr");return[K,pe]}}function qe(F,J){for(var W={},K=F.l+J;F.l<K;){var pe=F.read_shift(2);if(pe==14e3){for(W[pe]=[0,""],W[pe][0]=F.read_shift(2);F[F.l];)W[pe][1]+=String.fromCharCode(F[F.l]),F.l++;F.l++}}return W}function Ze(F,J){var W=xe(5+F.length);W.write_shift(2,14e3),W.write_shift(2,J);for(var K=0;K<F.length;++K){var pe=F.charCodeAt(K);W[W.l++]=pe>127?95:pe}return W[W.l++]=0,W}var Je={0:{n:"BOF",f:r4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:_},14:{n:"NUMBER",f:C},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ue},222:{n:"SHEETNAMELP",f:de},65535:{n:""}},ee={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:re},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:O},25:{n:"FORMULA19",f:L},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:qe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:B},38:{n:"??"},39:{n:"NUMBER27",f:V},40:{n:"FORMULA28",f:$e},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:be},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:a,to_workbook:e}})(),wL=/^\s|\s$|[\t\n\r]/;function c4(n,e){if(!e.bookSST)return"";var t=[Pn];t[t.length]=Pe("sst",null,{xmlns:Yc[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var a=n[r],l="<si>";a.r?l+=a.r:(l+="<t",a.t||(a.t=""),a.t.match(wL)&&(l+=' xml:space="preserve"'),l+=">"+qt(a.t)+"</t>"),l+="</si>",t[t.length]=l}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function bL(n){return[n.read_shift(4),n.read_shift(4)]}function SL(n,e){return e||(e=xe(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var AL=gP;function CL(n){var e=Yr();Se(e,159,SL(n));for(var t=0;t<n.length;++t)Se(e,19,AL(n[t]));return Se(e,160),e.end()}function NL(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function u4(n){var e=0,t,r=NL(n),a=r.length+1,l,c,f,h,d;for(t=fo(a),t[0]=r.length,l=1;l!=a;++l)t[l]=r[l-1];for(l=a-1;l>=0;--l)c=t[l],f=(e&16384)===0?0:1,h=e<<1&32767,d=f|h,e=d^c;return e^52811}var RL=(function(){function n(a,l){switch(l.type){case"base64":return e(cs(a),l);case"binary":return e(a,l);case"buffer":return e(Mt&&Buffer.isBuffer(a)?a.toString("binary"):Yf(a),l);case"array":return e(hm(a),l)}throw new Error("Unrecognized type "+l.type)}function e(a,l){var c=l||{},f=c.dense?[]:{},h=a.match(/\\trowd.*?\\row\b/g);if(!h.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:h.length-1}};return h.forEach(function(p,y){Array.isArray(f)&&(f[y]=[]);for(var _=/\\\w+\b/g,w=0,C,E=-1;C=_.exec(p);){switch(C[0]){case"\\cell":var b=p.slice(w,_.lastIndex-C[0].length);if(b[0]==" "&&(b=b.slice(1)),++E,b.length){var j={v:b,t:"s"};Array.isArray(f)?f[y][E]=j:f[Gt({r:y,c:E})]=j}break}w=_.lastIndex}E>d.e.c&&(d.e.c=E)}),f["!ref"]=Mn(d),f}function t(a,l){return yo(n(a,l),l)}function r(a){for(var l=["{\\rtf1\\ansi"],c=on(a["!ref"]),f,h=Array.isArray(a),d=c.s.r;d<=c.e.r;++d){l.push("\\trowd\\trautofit1");for(var p=c.s.c;p<=c.e.c;++p)l.push("\\cellx"+(p+1));for(l.push("\\pard\\intbl"),p=c.s.c;p<=c.e.c;++p){var y=Gt({r:d,c:p});f=h?(a[d]||[])[p]:a[y],!(!f||f.v==null&&(!f.f||f.F))&&(l.push(" "+(f.w||(us(f),f.w))),l.push("\\cell"))}l.push("\\pard\\intbl\\row")}return l.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function KT(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var IL=6,ns=IL;function Id(n){return Math.floor((n+Math.round(128/ns)/256)*ns)}function Od(n){return Math.floor((n-5)/ns*100+.5)/100}function T1(n){return Math.round((n*ns+5)/ns*256)/256}function Xv(n){n.width?(n.wpx=Id(n.width),n.wch=Od(n.wpx),n.MDW=ns):n.wpx?(n.wch=Od(n.wpx),n.width=T1(n.wch),n.MDW=ns):typeof n.wch=="number"&&(n.width=T1(n.wch),n.wpx=Id(n.width),n.MDW=ns),n.customWidth&&delete n.customWidth}var OL=96,f4=OL;function Dd(n){return n*96/f4}function h4(n){return n*f4/96}function DL(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:r,formatCode:qt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function kL(n){var e=[];return e[e.length]=Pe("cellXfs",null),n.forEach(function(t){e[e.length]=Pe("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function d4(n,e){var t=[Pn,Pe("styleSheet",null,{xmlns:Yc[0],"xmlns:vt":Hn.vt})],r;return n.SSF&&(r=DL(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=kL(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function ML(n,e){var t=n.read_shift(2),r=Er(n);return[t,r]}function PL(n,e,t){t||(t=xe(6+4*e.length)),t.write_shift(2,n),Gn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function LL(n,e,t){var r={};r.sz=n.read_shift(2)/20;var a=wP(n);a.fItalic&&(r.italic=1),a.fCondense&&(r.condense=1),a.fExtend&&(r.extend=1),a.fShadow&&(r.shadow=1),a.fOutline&&(r.outline=1),a.fStrikeout&&(r.strike=1);var l=n.read_shift(2);switch(l===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var c=n.read_shift(1);c!=0&&(r.underline=c);var f=n.read_shift(1);f>0&&(r.family=f);var h=n.read_shift(1);switch(h>0&&(r.charset=h),n.l++,r.color=TP(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Er(n),r}function jL(n,e){e||(e=xe(153)),e.write_shift(2,n.sz*20),bP(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),Nd(n.color,e);var r=0;return r=2,e.write_shift(1,r),Gn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var FL=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Fg,BL=Na;function QT(n,e){e||(e=xe(84)),Fg||(Fg=Pv(FL));var t=Fg[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(Nd({auto:1},e),Nd({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function VL(n,e){var t=n.l+e,r=n.read_shift(2),a=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:a}}function m4(n,e,t){t||(t=xe(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function Gu(n,e){return e||(e=xe(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var UL=Na;function zL(n,e){return e||(e=xe(51)),e.write_shift(1,0),Gu(null,e),Gu(null,e),Gu(null,e),Gu(null,e),Gu(null,e),e.length>e.l?e.slice(0,e.l):e}function HL(n,e){return e||(e=xe(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),Cd(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function qL(n,e,t){var r=xe(2052);return r.write_shift(4,n),Cd(e,r),Cd(t,r),r.length>r.l?r.slice(0,r.l):r}function GL(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&++t}),t!=0&&(Se(n,615,ta(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Se(n,44,PL(a,e[a]))}),Se(n,616))}}function YL(n){var e=1;Se(n,611,ta(e)),Se(n,43,jL({sz:12,color:{theme:1},name:"Calibri",family:2})),Se(n,612)}function XL(n){var e=2;Se(n,603,ta(e)),Se(n,45,QT({patternType:"none"})),Se(n,45,QT({patternType:"gray125"})),Se(n,604)}function WL(n){var e=1;Se(n,613,ta(e)),Se(n,46,zL()),Se(n,614)}function $L(n){var e=1;Se(n,626,ta(e)),Se(n,47,m4({numFmtId:0},65535)),Se(n,627)}function KL(n,e){Se(n,617,ta(e.length)),e.forEach(function(t){Se(n,47,m4(t,0))}),Se(n,618)}function QL(n){var e=1;Se(n,619,ta(e)),Se(n,48,HL({xfId:0,name:"Normal"})),Se(n,620)}function JL(n){var e=0;Se(n,505,ta(e)),Se(n,506)}function ZL(n){var e=0;Se(n,508,qL(e,"TableStyleMedium9","PivotStyleMedium4")),Se(n,509)}function ej(n,e){var t=Yr();return Se(t,278),GL(t,n.SSF),YL(t),XL(t),WL(t),$L(t),KL(t,e.cellXfs),QL(t),JL(t),ZL(t),Se(t,279),t.end()}function p4(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Pn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function tj(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Er(n)}}function nj(n){var e=xe(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Gn(n.name,e),e.slice(0,e.l)}function rj(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function ij(n){var e=xe(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function aj(n,e){var t=xe(8+2*e.length);return t.write_shift(4,n),Gn(e,t),t.slice(0,t.l)}function sj(n){return n.l+=4,n.read_shift(4)!=0}function lj(n,e){var t=xe(8);return t.write_shift(4,n),t.write_shift(4,1),t}function oj(){var n=Yr();return Se(n,332),Se(n,334,ta(1)),Se(n,335,nj({name:"XLDAPR",version:12e4,flags:3496657072})),Se(n,336),Se(n,339,aj(1,"XLDAPR")),Se(n,52),Se(n,35,ta(514)),Se(n,4096,ta(0)),Se(n,4097,Ci(1)),Se(n,36),Se(n,53),Se(n,340),Se(n,337,lj(1)),Se(n,51,ij([[1,0]])),Se(n,338),Se(n,333),n.end()}function g4(){var n=[Pn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function cj(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Gt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var vc=1024;function v4(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),a=[Pe("xml",null,{"xmlns:v":oi.v,"xmlns:o":oi.o,"xmlns:x":oi.x,"xmlns:mv":oi.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];vc<n*1e3;)vc+=1e3;return e.forEach(function(l){var c=qn(l[0]),f={color2:"#BEFF82",type:"gradient"};f.type=="gradient"&&(f.angle="-180");var h=f.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Pe("v:fill",h,f),p={on:"t",obscured:"t"};++vc,a=a.concat(["<v:shape"+Cf({id:"_x0000_s"+vc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(l[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Pe("v:shadow",null,p),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",or("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),or("x:AutoFill","False"),or("x:Row",String(c.r)),or("x:Column",String(c.c)),l[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function x4(n){var e=[Pn,Pe("comments",null,{xmlns:Yc[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(a){var l=qt(a.a);t.indexOf(l)==-1&&(t.push(l),e.push("<author>"+l+"</author>")),a.T&&a.ID&&t.indexOf("tc="+a.ID)==-1&&(t.push("tc="+a.ID),e.push("<author>tc="+a.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var a=0,l=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?a=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(h){h.a&&(a=t.indexOf(qt(h.a))),l.push(h.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+a+'"><text>'),l.length<=1)e.push(or("t",qt(l[0]||"")));else{for(var c=`Comment:
    `+l[0]+`
`,f=1;f<l.length;++f)c+=`Reply:
    `+l[f]+`
`;e.push(or("t",qt(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function uj(n,e,t){var r=[Pn,Pe("ThreadedComments",null,{xmlns:Hn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(a){var l="";(a[1]||[]).forEach(function(c,f){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var h={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};f==0?l=h.id:h.parentId=l,c.ID=h.id,c.a&&(h.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),r.push(Pe("threadedComment",or("text",c.t||""),h))})}),r.push("</ThreadedComments>"),r.join("")}function fj(n){var e=[Pn,Pe("personList",null,{xmlns:Hn.TCMNT,"xmlns:x":Yc[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Pe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function hj(n){var e={};e.iauthor=n.read_shift(4);var t=wo(n);return e.rfx=t.s,e.ref=Gt(t.s),n.l+=16,e}function dj(n,e){return e==null&&(e=xe(36)),e.write_shift(4,n[1].iauthor),Wc(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var mj=Er;function pj(n){return Gn(n.slice(0,54))}function gj(n){var e=Yr(),t=[];return Se(e,628),Se(e,630),n.forEach(function(r){r[1].forEach(function(a){t.indexOf(a.a)>-1||(t.push(a.a.slice(0,54)),Se(e,632,pj(a.a)))})}),Se(e,631),Se(e,633),n.forEach(function(r){r[1].forEach(function(a){a.iauthor=t.indexOf(a.a);var l={s:qn(r[0]),e:qn(r[0])};Se(e,635,dj([l,a])),a.t&&a.t.length>0&&Se(e,637,xP(a)),Se(e,636),delete a.iauthor})}),Se(e,634),Se(e,629),e.end()}function vj(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var a=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Qt.utils.cfb_add(n,a,e.FileIndex[r].content)}})}var y4=["xlsb","xlsm","xlam","biff8","xla"],xj=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,a,l,c){var f=!1,h=!1;l.length==0?h=!0:l.charAt(0)=="["&&(h=!0,l=l.slice(1,-1)),c.length==0?f=!0:c.charAt(0)=="["&&(f=!0,c=c.slice(1,-1));var d=l.length>0?parseInt(l,10)|0:0,p=c.length>0?parseInt(c,10)|0:0;return f?p+=e.c:--p,h?d+=e.r:--d,a+(f?"":"$")+_r(p)+(h?"":"$")+cr(d)}return function(a,l){return e=l,a.replace(n,t)}})(),Wv=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,$v=(function(){return function(e,t){return e.replace(Wv,function(r,a,l,c,f,h){var d=zv(c)-(l?0:t.c),p=Uv(h)-(f?0:t.r),y=p==0?"":f?p+1:"["+p+"]",_=d==0?"":l?d+1:"["+d+"]";return a+"R"+y+"C"+_})}})();function yj(n,e){return n.replace(Wv,function(t,r,a,l,c,f){return r+(a=="$"?a+l:_r(zv(l)+e.c))+(c=="$"?c+f:cr(Uv(f)+e.r))})}function _j(n){return n.length!=1}function In(n){n.l+=1}function yl(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function _4(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return E4(n);t.biff==12&&(r=4)}var a=n.read_shift(r),l=n.read_shift(r),c=yl(n),f=yl(n);return{s:{r:a,c:c[0],cRel:c[1],rRel:c[2]},e:{r:l,c:f[0],cRel:f[1],rRel:f[2]}}}function E4(n){var e=yl(n),t=yl(n),r=n.read_shift(1),a=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:a,cRel:t[1],rRel:t[2]}}}function Ej(n,e,t){if(t.biff<8)return E4(n);var r=n.read_shift(t.biff==12?4:2),a=n.read_shift(t.biff==12?4:2),l=yl(n),c=yl(n);return{s:{r,c:l[0],cRel:l[1],rRel:l[2]},e:{r:a,c:c[0],cRel:c[1],rRel:c[2]}}}function T4(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Tj(n);var r=n.read_shift(t&&t.biff==12?4:2),a=yl(n);return{r,c:a[0],cRel:a[1],rRel:a[2]}}function Tj(n){var e=yl(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function wj(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function bj(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Sj(n);var a=n.read_shift(r>=12?4:2),l=n.read_shift(2),c=(l&16384)>>14,f=(l&32768)>>15;if(l&=16383,f==1)for(;a>524287;)a-=1048576;if(c==1)for(;l>8191;)l=l-16384;return{r:a,c:l,cRel:c,rRel:f}}function Sj(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,a=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),a==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:a,rRel:r}}function Aj(n,e,t){var r=(n[n.l++]&96)>>5,a=_4(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,a]}function Cj(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2,"i"),l=8;if(t)switch(t.biff){case 5:n.l+=12,l=6;break;case 12:l=12;break}var c=_4(n,l,t);return[r,a,c]}function Nj(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function Rj(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),l=8;if(t)switch(t.biff){case 5:n.l+=12,l=6;break;case 12:l=12;break}return n.l+=l,[r,a]}function Ij(n,e,t){var r=(n[n.l++]&96)>>5,a=Ej(n,e-1,t);return[r,a]}function Oj(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function JT(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function Dj(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),a=[],l=0;l<=r;++l)a.push(n.read_shift(t&&t.biff==2?1:2));return a}function kj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Mj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function Pj(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function Lj(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function w4(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function jj(n){return n.read_shift(2),w4(n)}function Fj(n){return n.read_shift(2),w4(n)}function Bj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=T4(n,0,t);return[r,a]}function Vj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=bj(n,0,t);return[r,a]}function Uj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var l=T4(n,0,t);return[r,a,l]}function zj(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var a=n.read_shift(t&&t.biff<=3?1:2);return[zF[a],A4[a],r]}function Hj(n,e,t){var r=n[n.l++],a=n.read_shift(1),l=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:qj(n);return[a,(l[0]===0?A4:UF)[l[1]]]}function qj(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function Gj(n,e,t){n.l+=t&&t.biff==2?3:4}function Yj(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function Xj(n){return n.l++,$f[n.read_shift(1)]}function Wj(n){return n.l++,n.read_shift(2)}function $j(n){return n.l++,n.read_shift(1)!==0}function Kj(n){return n.l++,$c(n)}function Qj(n,e,t){return n.l++,a4(n,e-1,t)}function Jj(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=UP(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=$f[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=$c(n);break;case 2:t[1]=GP(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function Zj(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),a=[],l=0;l!=r;++l)a.push((t.biff==12?wo:WP)(n));return a}function eF(n,e,t){var r=0,a=0;t.biff==12?(r=n.read_shift(4),a=n.read_shift(4)):(a=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--a==0&&(a=256));for(var l=0,c=[];l!=r&&(c[l]=[]);++l)for(var f=0;f!=a;++f)c[l][f]=Jj(n,t.biff);return c}function tF(n,e,t){var r=n.read_shift(1)>>>5&3,a=!t||t.biff>=8?4:2,l=n.read_shift(a);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,l]}function nF(n,e,t){if(t.biff==5)return rF(n);var r=n.read_shift(1)>>>5&3,a=n.read_shift(2),l=n.read_shift(4);return[r,a,l]}function rF(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function iF(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function aF(n,e,t){var r=n.read_shift(1)>>>5&3,a=n.read_shift(t&&t.biff==2?1:2);return[r,a]}function sF(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function lF(n,e,t){var r=(n[n.l++]&96)>>5,a=n.read_shift(2),l=4;if(t)switch(t.biff){case 5:l=15;break;case 12:l=6;break}return n.l+=l,[r,a]}var oF=Na,cF=Na,uF=Na;function Kf(n,e,t){return n.l+=2,[wj(n)]}function Kv(n){return n.l+=6,[]}var fF=Kf,hF=Kv,dF=Kv,mF=Kf;function b4(n){return n.l+=2,[r4(n),n.read_shift(2)&1]}var pF=Kf,gF=b4,vF=Kv,xF=Kf,yF=Kf,_F=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function EF(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),a=n.read_shift(2),l=n.read_shift(2),c=_F[t>>2&31];return{ixti:e,coltype:t&3,rt:c,idx:r,c:a,C:l}}function TF(n){return n.l+=2,[n.read_shift(4)]}function wF(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function bF(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function SF(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function AF(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function CF(n){return n.l+=4,[0,0]}var ZT={1:{n:"PtgExp",f:Yj},2:{n:"PtgTbl",f:uF},3:{n:"PtgAdd",f:In},4:{n:"PtgSub",f:In},5:{n:"PtgMul",f:In},6:{n:"PtgDiv",f:In},7:{n:"PtgPower",f:In},8:{n:"PtgConcat",f:In},9:{n:"PtgLt",f:In},10:{n:"PtgLe",f:In},11:{n:"PtgEq",f:In},12:{n:"PtgGe",f:In},13:{n:"PtgGt",f:In},14:{n:"PtgNe",f:In},15:{n:"PtgIsect",f:In},16:{n:"PtgUnion",f:In},17:{n:"PtgRange",f:In},18:{n:"PtgUplus",f:In},19:{n:"PtgUminus",f:In},20:{n:"PtgPercent",f:In},21:{n:"PtgParen",f:In},22:{n:"PtgMissArg",f:In},23:{n:"PtgStr",f:Qj},26:{n:"PtgSheet",f:wF},27:{n:"PtgEndSheet",f:bF},28:{n:"PtgErr",f:Xj},29:{n:"PtgBool",f:$j},30:{n:"PtgInt",f:Wj},31:{n:"PtgNum",f:Kj},32:{n:"PtgArray",f:Oj},33:{n:"PtgFunc",f:zj},34:{n:"PtgFuncVar",f:Hj},35:{n:"PtgName",f:tF},36:{n:"PtgRef",f:Bj},37:{n:"PtgArea",f:Aj},38:{n:"PtgMemArea",f:iF},39:{n:"PtgMemErr",f:oF},40:{n:"PtgMemNoMem",f:cF},41:{n:"PtgMemFunc",f:aF},42:{n:"PtgRefErr",f:sF},43:{n:"PtgAreaErr",f:Nj},44:{n:"PtgRefN",f:Vj},45:{n:"PtgAreaN",f:Ij},46:{n:"PtgMemAreaN",f:SF},47:{n:"PtgMemNoMemN",f:AF},57:{n:"PtgNameX",f:nF},58:{n:"PtgRef3d",f:Uj},59:{n:"PtgArea3d",f:Cj},60:{n:"PtgRefErr3d",f:lF},61:{n:"PtgAreaErr3d",f:Rj},255:{}},NF={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},RF={1:{n:"PtgElfLel",f:b4},2:{n:"PtgElfRw",f:xF},3:{n:"PtgElfCol",f:fF},6:{n:"PtgElfRwV",f:yF},7:{n:"PtgElfColV",f:mF},10:{n:"PtgElfRadical",f:pF},11:{n:"PtgElfRadicalS",f:vF},13:{n:"PtgElfColS",f:hF},15:{n:"PtgElfColSV",f:dF},16:{n:"PtgElfRadicalLel",f:gF},25:{n:"PtgList",f:EF},29:{n:"PtgSxName",f:TF},255:{}},IF={0:{n:"PtgAttrNoop",f:CF},1:{n:"PtgAttrSemi",f:Lj},2:{n:"PtgAttrIf",f:Mj},4:{n:"PtgAttrChoose",f:Dj},8:{n:"PtgAttrGoto",f:kj},16:{n:"PtgAttrSum",f:Gj},32:{n:"PtgAttrBaxcel",f:JT},33:{n:"PtgAttrBaxcel",f:JT},64:{n:"PtgAttrSpace",f:jj},65:{n:"PtgAttrSpaceSemi",f:Fj},128:{n:"PtgAttrIfError",f:Pj},255:{}};function OF(n,e,t,r){if(r.biff<8)return Na(n,e);for(var a=n.l+e,l=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=eF(n,0,r),l.push(t[c][1]);break;case"PtgMemArea":t[c][2]=Zj(n,t[c][1],r),l.push(t[c][2]);break;case"PtgExp":r&&r.biff==12&&(t[c][1][1]=n.read_shift(4),l.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return e=a-n.l,e!==0&&l.push(Na(n,e)),l}function DF(n,e,t){for(var r=n.l+e,a,l,c=[];r!=n.l;)e=r-n.l,l=n[n.l],a=ZT[l]||ZT[NF[l]],(l===24||l===25)&&(a=(l===24?RF:IF)[n[n.l+1]]),!a||!a.f?Na(n,e):c.push([a.n,a.f(n,e,t)]);return c}function kF(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],a=[],l=0;l<r.length;++l){var c=r[l];if(c)switch(c[0]){case 2:a.push('"'+c[1].replace(/"/g,'""')+'"');break;default:a.push(c[1])}else a.push("")}e.push(a.join(","))}return e.join(";")}var MF={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function PF(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function S4(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var a="";if(t.biff>8)switch(n[r[0]][0]){case 357:return a=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return a=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?a:a+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(l){return l.Name}).join(";;");default:return n[r[0]][0][3]?(a=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?a:a+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function ew(n,e,t){var r=S4(n,e,t);return r=="#REF"?r:PF(r,t)}function Lc(n,e,t,r,a){var l=a&&a.biff||8,c={s:{c:0,r:0}},f=[],h,d,p,y=0,_=0,w,C="";if(!n[0]||!n[0][0])return"";for(var E=-1,b="",j=0,R=n[0].length;j<R;++j){var M=n[0][j];switch(M[0]){case"PtgUminus":f.push("-"+f.pop());break;case"PtgUplus":f.push("+"+f.pop());break;case"PtgPercent":f.push(f.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(h=f.pop(),d=f.pop(),E>=0){switch(n[0][E][1][0]){case 0:b=xn(" ",n[0][E][1][1]);break;case 1:b=xn("\r",n[0][E][1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}d=d+b,E=-1}f.push(d+MF[M[0]]+h);break;case"PtgIsect":h=f.pop(),d=f.pop(),f.push(d+" "+h);break;case"PtgUnion":h=f.pop(),d=f.pop(),f.push(d+","+h);break;case"PtgRange":h=f.pop(),d=f.pop(),f.push(d+":"+h);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=ff(M[1][1],c,a),f.push(hf(p,l));break;case"PtgRefN":p=t?ff(M[1][1],t,a):M[1][1],f.push(hf(p,l));break;case"PtgRef3d":y=M[1][1],p=ff(M[1][2],c,a),C=ew(r,y,a),f.push(C+"!"+hf(p,l));break;case"PtgFunc":case"PtgFuncVar":var G=M[1][0],te=M[1][1];G||(G=0),G&=127;var re=G==0?[]:f.slice(-G);f.length-=G,te==="User"&&(te=re.shift()),f.push(te+"("+re.join(",")+")");break;case"PtgBool":f.push(M[1]?"TRUE":"FALSE");break;case"PtgInt":f.push(M[1]);break;case"PtgNum":f.push(String(M[1]));break;case"PtgStr":f.push('"'+M[1].replace(/"/g,'""')+'"');break;case"PtgErr":f.push(M[1]);break;case"PtgAreaN":w=FT(M[1][1],t?{s:t}:c,a),f.push(Lg(w,a));break;case"PtgArea":w=FT(M[1][1],c,a),f.push(Lg(w,a));break;case"PtgArea3d":y=M[1][1],w=M[1][2],C=ew(r,y,a),f.push(C+"!"+Lg(w,a));break;case"PtgAttrSum":f.push("SUM("+f.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":_=M[1][2];var N=(r.names||[])[_-1]||(r[0]||[])[_],O=N?N.Name:"SH33TJSNAME"+String(_);O&&O.slice(0,6)=="_xlfn."&&!a.xlfn&&(O=O.slice(6)),f.push(O);break;case"PtgNameX":var I=M[1][1];_=M[1][2];var D;if(a.biff<=5)I<0&&(I=-I),r[I]&&(D=r[I][_]);else{var L="";if(((r[I]||[])[0]||[])[0]==14849||(((r[I]||[])[0]||[])[0]==1025?r[I][_]&&r[I][_].itab>0&&(L=r.SheetNames[r[I][_].itab-1]+"!"):L=r.SheetNames[_-1]+"!"),r[I]&&r[I][_])L+=r[I][_].Name;else if(r[0]&&r[0][_])L+=r[0][_].Name;else{var B=(S4(r,I,a)||"").split(";;");B[_-1]?L=B[_-1]:L+="SH33TJSERRX"}f.push(L);break}D||(D={Name:"SH33TJSERRY"}),f.push(D.Name);break;case"PtgParen":var V="(",$e=")";if(E>=0){switch(b="",n[0][E][1][0]){case 2:V=xn(" ",n[0][E][1][1])+V;break;case 3:V=xn("\r",n[0][E][1][1])+V;break;case 4:$e=xn(" ",n[0][E][1][1])+$e;break;case 5:$e=xn("\r",n[0][E][1][1])+$e;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][E][1][0])}E=-1}f.push(V+f.pop()+$e);break;case"PtgRefErr":f.push("#REF!");break;case"PtgRefErr3d":f.push("#REF!");break;case"PtgExp":p={c:M[1][1],r:M[1][0]};var Ue={c:t.c,r:t.r};if(r.sharedf[Gt(p)]){var de=r.sharedf[Gt(p)];f.push(Lc(de,c,Ue,r,a))}else{var be=!1;for(h=0;h!=r.arrayf.length;++h)if(d=r.arrayf[h],!(p.c<d[0].s.c||p.c>d[0].e.c)&&!(p.r<d[0].s.r||p.r>d[0].e.r)){f.push(Lc(d[1],c,Ue,r,a)),be=!0;break}be||f.push(M[1])}break;case"PtgArray":f.push("{"+kF(M[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":E=j;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":f.push("");break;case"PtgAreaErr":f.push("#REF!");break;case"PtgAreaErr3d":f.push("#REF!");break;case"PtgList":f.push("Table"+M[1].idx+"[#"+M[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(M));default:throw new Error("Unrecognized Formula Token: "+String(M))}var qe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&E>=0&&qe.indexOf(n[0][j][0])==-1){M=n[0][E];var Ze=!0;switch(M[1][0]){case 4:Ze=!1;case 0:b=xn(" ",M[1][1]);break;case 5:Ze=!1;case 1:b=xn("\r",M[1][1]);break;default:if(b="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+M[1][0])}f.push((Ze?b:"")+f.pop()+(Ze?"":b)),E=-1}}if(f.length>1&&a.WTF)throw new Error("bad formula stack");return f[0]}function LF(n){if(n==null){var e=xe(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return ho(n);return ho(0)}function jF(n,e,t,r,a){var l=mo(e,t,a),c=LF(n.v),f=xe(6),h=33;f.write_shift(2,h),f.write_shift(4,0);for(var d=xe(n.bf.length),p=0;p<n.bf.length;++p)d[p]=n.bf[p];var y=lr([l,c,f,d]);return y}function dm(n,e,t){var r=n.read_shift(4),a=DF(n,r,t),l=n.read_shift(4),c=l>0?OF(n,l,a,t):null;return[a,c]}var FF=dm,mm=dm,BF=dm,VF=dm,UF={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},A4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},zF={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function HF(n){var e="of:="+n.replace(Wv,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function qF(n){return n.replace(/\./,"!")}var df=typeof Map<"u";function Qv(n,e,t){var r=0,a=n.length;if(t){if(df?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var l=df?t.get(e):t[e];r<l.length;++r)if(n[l[r]].t===e)return n.Count++,l[r]}}else for(;r<a;++r)if(n[r].t===e)return n.Count++,r;return n[a]={t:e},n.Count++,n.Unique++,t&&(df?(t.has(e)||t.set(e,[]),t.get(e).push(a)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(a))),a}function pm(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(ns=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=Od(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=T1(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function C4(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Sl(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],a=60,l=n.length;if(r==null&&t.ssf){for(;a<392;++a)if(t.ssf[a]==null){TA(e.z,a),t.ssf[a]=e.z,t.revssf[e.z]=r=a;break}}for(a=0;a!=l;++a)if(n[a].numFmtId===r)return a;return n[l]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},l}function GF(n,e,t){if(n&&n["!ref"]){var r=on(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function YF(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Mn(n[t])+'"/>';return e+"</mergeCells>"}function XF(n,e,t,r,a){var l=!1,c={},f=null;if(r.bookType!=="xlsx"&&e.vbaraw){var h=e.SheetNames[t];try{e.Workbook&&(h=e.Workbook.Sheets[t].CodeName||h)}catch{}l=!0,c.codeName=Af(qt(h))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),f=(f||"")+Pe("outlinePr",null,d)}!l&&!f||(a[a.length]=Pe("sheetPr",f,c))}var WF=["objects","scenarios","selectLockedCells","selectUnlockedCells"],$F=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function KF(n){var e={sheet:1};return WF.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),$F.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=u4(n.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function QF(n){return C4(n),Pe("pageMargins",null,n)}function JF(n,e){for(var t=["<cols>"],r,a=0;a!=e.length;++a)(r=e[a])&&(t[t.length]=Pe("col",null,pm(a,r)));return t[t.length]="</cols>",t.join("")}function ZF(n,e,t,r){var a=typeof n.ref=="string"?n.ref:Mn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var l=t.Workbook.Names,c=di(a);c.s.r==c.e.r&&(c.e.r=di(e["!ref"]).e.r,a=Mn(c));for(var f=0;f<l.length;++f){var h=l[f];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==r){h.Ref="'"+t.SheetNames[r]+"'!"+a;break}}return f==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+a}),Pe("autoFilter",null,{ref:a})}function e7(n,e,t,r){var a={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,a),{})}function t7(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var a="",l=n.t,c=n.v;if(n.t!=="z")switch(n.t){case"b":a=n.v?"1":"0";break;case"n":a=""+n.v;break;case"e":a=$f[n.v];break;case"d":r&&r.cellDates?a=Or(n.v,-1).toISOString():(n=Wr(n),n.t="n",a=""+(n.v=Xr(Or(n.v)))),typeof n.z>"u"&&(n.z=yn[14]);break;default:a=n.v;break}var f=or("v",qt(a)),h={r:e},d=Sl(r.cellXfs,n,r);switch(d!==0&&(h.s=d),n.t){case"n":break;case"d":h.t="d";break;case"b":h.t="b";break;case"e":h.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){f=or("v",""+Qv(r.Strings,n.v,r.revStrings)),h.t="s";break}h.t="str";break}if(n.t!=l&&(n.t=l,n.v=c),typeof n.f=="string"&&n.f){var p=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;f=Pe("f",qt(n.f),p)+(n.v!=null?f:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(h.cm=1),Pe("c",f,h)}function n7(n,e,t,r){var a=[],l=[],c=on(n["!ref"]),f="",h,d="",p=[],y=0,_=0,w=n["!rows"],C=Array.isArray(n),E={r:d},b,j=-1;for(_=c.s.c;_<=c.e.c;++_)p[_]=_r(_);for(y=c.s.r;y<=c.e.r;++y){for(l=[],d=cr(y),_=c.s.c;_<=c.e.c;++_){h=p[_]+d;var R=C?(n[y]||[])[_]:n[h];R!==void 0&&(f=t7(R,h,n,e))!=null&&l.push(f)}(l.length>0||w&&w[y])&&(E={r:d},w&&w[y]&&(b=w[y],b.hidden&&(E.hidden=1),j=-1,b.hpx?j=Dd(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(E.ht=j,E.customHeight=1),b.level&&(E.outlineLevel=b.level)),a[a.length]=Pe("row",l.join(""),E))}if(w)for(;y<w.length;++y)w&&w[y]&&(E={r:y+1},b=w[y],b.hidden&&(E.hidden=1),j=-1,b.hpx?j=Dd(b.hpx):b.hpt&&(j=b.hpt),j>-1&&(E.ht=j,E.customHeight=1),b.level&&(E.outlineLevel=b.level),a[a.length]=Pe("row","",E));return a.join("")}function N4(n,e,t,r){var a=[Pn,Pe("worksheet",null,{xmlns:Yc[0],"xmlns:r":Hn.r})],l=t.SheetNames[n],c=0,f="",h=t.Sheets[l];h==null&&(h={});var d=h["!ref"]||"A1",p=on(d);if(p.e.c>16383||p.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),d=Mn(p)}r||(r={}),h["!comments"]=[];var y=[];XF(h,t,n,e,a),a[a.length]=Pe("dimension",null,{ref:d}),a[a.length]=e7(h,e,n,t),e.sheetFormat&&(a[a.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),h["!cols"]!=null&&h["!cols"].length>0&&(a[a.length]=JF(h,h["!cols"])),a[c=a.length]="<sheetData/>",h["!links"]=[],h["!ref"]!=null&&(f=n7(h,e),f.length>0&&(a[a.length]=f)),a.length>c+1&&(a[a.length]="</sheetData>",a[c]=a[c].replace("/>",">")),h["!protect"]&&(a[a.length]=KF(h["!protect"])),h["!autofilter"]!=null&&(a[a.length]=ZF(h["!autofilter"],h,t,n)),h["!merges"]!=null&&h["!merges"].length>0&&(a[a.length]=YF(h["!merges"]));var _=-1,w,C=-1;return h["!links"].length>0&&(a[a.length]="<hyperlinks>",h["!links"].forEach(function(E){E[1].Target&&(w={ref:E[0]},E[1].Target.charAt(0)!="#"&&(C=Ht(r,-1,qt(E[1].Target).replace(/#.*$/,""),Ot.HLINK),w["r:id"]="rId"+C),(_=E[1].Target.indexOf("#"))>-1&&(w.location=qt(E[1].Target.slice(_+1))),E[1].Tooltip&&(w.tooltip=qt(E[1].Tooltip)),a[a.length]=Pe("hyperlink",null,w))}),a[a.length]="</hyperlinks>"),delete h["!links"],h["!margins"]!=null&&(a[a.length]=QF(h["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(a[a.length]=or("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:d}))),y.length>0&&(C=Ht(r,-1,"../drawings/drawing"+(n+1)+".xml",Ot.DRAW),a[a.length]=Pe("drawing",null,{"r:id":"rId"+C}),h["!drawing"]=y),h["!comments"].length>0&&(C=Ht(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Ot.VML),a[a.length]=Pe("legacyDrawing",null,{"r:id":"rId"+C}),h["!legacy"]=C),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function r7(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var a=n.read_shift(2);n.l+=1;var l=n.read_shift(1);return n.l=r,l&7&&(t.level=l&7),l&16&&(t.hidden=!0),l&32&&(t.hpt=a/20),t}function i7(n,e,t){var r=xe(145),a=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var l=320;a.hpx?l=Dd(a.hpx)*20:a.hpt&&(l=a.hpt*20),r.write_shift(2,l),r.write_shift(1,0);var c=0;a.level&&(c|=a.level),a.hidden&&(c|=16),(a.hpx||a.hpt)&&(c|=32),r.write_shift(1,c),r.write_shift(1,0);var f=0,h=r.l;r.l+=4;for(var d={r:n,c:0},p=0;p<16;++p)if(!(e.s.c>p+1<<10||e.e.c<p<<10)){for(var y=-1,_=-1,w=p<<10;w<p+1<<10;++w){d.c=w;var C=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Gt(d)];C&&(y<0&&(y=w),_=w)}y<0||(++f,r.write_shift(4,y),r.write_shift(4,_))}var E=r.l;return r.l=h,r.write_shift(4,f),r.l=E,r.length>r.l?r.slice(0,r.l):r}function a7(n,e,t,r){var a=i7(r,t,e);(a.length>17||(e["!rows"]||[])[r])&&Se(n,0,a)}var s7=wo,l7=Wc;function o7(){}function c7(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=yP(n),t}function u7(n,e,t){t==null&&(t=xe(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var a=1;a<3;++a)t.write_shift(1,0);return Nd({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),HA(n,t),t.slice(0,t.l)}function f7(n){var e=Oi(n);return[e]}function h7(n,e,t){return t==null&&(t=xe(8)),_o(e,t)}function d7(n){var e=Eo(n);return[e]}function m7(n,e,t){return t==null&&(t=xe(4)),To(e,t)}function p7(n){var e=Oi(n),t=n.read_shift(1);return[e,t,"b"]}function g7(n,e,t){return t==null&&(t=xe(9)),_o(e,t),t.write_shift(1,n.v?1:0),t}function v7(n){var e=Eo(n),t=n.read_shift(1);return[e,t,"b"]}function x7(n,e,t){return t==null&&(t=xe(5)),To(e,t),t.write_shift(1,n.v?1:0),t}function y7(n){var e=Oi(n),t=n.read_shift(1);return[e,t,"e"]}function _7(n,e,t){return t==null&&(t=xe(9)),_o(e,t),t.write_shift(1,n.v),t}function E7(n){var e=Eo(n),t=n.read_shift(1);return[e,t,"e"]}function T7(n,e,t){return t==null&&(t=xe(8)),To(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function w7(n){var e=Oi(n),t=n.read_shift(4);return[e,t,"s"]}function b7(n,e,t){return t==null&&(t=xe(12)),_o(e,t),t.write_shift(4,e.v),t}function S7(n){var e=Eo(n),t=n.read_shift(4);return[e,t,"s"]}function A7(n,e,t){return t==null&&(t=xe(8)),To(e,t),t.write_shift(4,e.v),t}function C7(n){var e=Oi(n),t=$c(n);return[e,t,"n"]}function N7(n,e,t){return t==null&&(t=xe(16)),_o(e,t),ho(n.v,t),t}function R7(n){var e=Eo(n),t=$c(n);return[e,t,"n"]}function I7(n,e,t){return t==null&&(t=xe(12)),To(e,t),ho(n.v,t),t}function O7(n){var e=Oi(n),t=qA(n);return[e,t,"n"]}function D7(n,e,t){return t==null&&(t=xe(12)),_o(e,t),GA(n.v,t),t}function k7(n){var e=Eo(n),t=qA(n);return[e,t,"n"]}function M7(n,e,t){return t==null&&(t=xe(8)),To(e,t),GA(n.v,t),t}function P7(n){var e=Oi(n),t=Hv(n);return[e,t,"is"]}function L7(n){var e=Oi(n),t=Er(n);return[e,t,"str"]}function j7(n,e,t){return t==null&&(t=xe(12+4*n.v.length)),_o(e,t),Gn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function F7(n){var e=Eo(n),t=Er(n);return[e,t,"str"]}function B7(n,e,t){return t==null&&(t=xe(8+4*n.v.length)),To(e,t),Gn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function V7(n,e,t){var r=n.l+e,a=Oi(n);a.r=t["!row"];var l=n.read_shift(1),c=[a,l,"b"];if(t.cellFormula){n.l+=2;var f=mm(n,r-n.l,t);c[3]=Lc(f,null,a,t.supbooks,t)}else n.l=r;return c}function U7(n,e,t){var r=n.l+e,a=Oi(n);a.r=t["!row"];var l=n.read_shift(1),c=[a,l,"e"];if(t.cellFormula){n.l+=2;var f=mm(n,r-n.l,t);c[3]=Lc(f,null,a,t.supbooks,t)}else n.l=r;return c}function z7(n,e,t){var r=n.l+e,a=Oi(n);a.r=t["!row"];var l=$c(n),c=[a,l,"n"];if(t.cellFormula){n.l+=2;var f=mm(n,r-n.l,t);c[3]=Lc(f,null,a,t.supbooks,t)}else n.l=r;return c}function H7(n,e,t){var r=n.l+e,a=Oi(n);a.r=t["!row"];var l=Er(n),c=[a,l,"str"];if(t.cellFormula){n.l+=2;var f=mm(n,r-n.l,t);c[3]=Lc(f,null,a,t.supbooks,t)}else n.l=r;return c}var q7=wo,G7=Wc;function Y7(n,e){return e==null&&(e=xe(4)),e.write_shift(4,n),e}function X7(n,e){var t=n.l+e,r=wo(n),a=qv(n),l=Er(n),c=Er(n),f=Er(n);n.l=t;var h={rfx:r,relId:a,loc:l,display:f};return c&&(h.Tooltip=c),h}function W7(n,e){var t=xe(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));Wc({s:qn(n[0]),e:qn(n[0])},t),Gv("rId"+e,t);var r=n[1].Target.indexOf("#"),a=r==-1?"":n[1].Target.slice(r+1);return Gn(a||"",t),Gn(n[1].Tooltip||"",t),Gn("",t),t.slice(0,t.l)}function $7(){}function K7(n,e,t){var r=n.l+e,a=YA(n),l=n.read_shift(1),c=[a];if(c[2]=l,t.cellFormula){var f=FF(n,r-n.l,t);c[1]=f}else n.l=r;return c}function Q7(n,e,t){var r=n.l+e,a=wo(n),l=[a];if(t.cellFormula){var c=VF(n,r-n.l,t);l[1]=c,n.l=r}else n.l=r;return l}function J7(n,e,t){t==null&&(t=xe(18));var r=pm(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var a=0;return e.hidden&&(a|=1),typeof r.width=="number"&&(a|=2),e.level&&(a|=e.level<<8),t.write_shift(2,a),t}var R4=["left","right","top","bottom","header","footer"];function Z7(n){var e={};return R4.forEach(function(t){e[t]=$c(n)}),e}function eB(n,e){return e==null&&(e=xe(48)),C4(n),R4.forEach(function(t){ho(n[t],e)}),e}function tB(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function nB(n,e,t){t==null&&(t=xe(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function rB(n){var e=xe(24);return e.write_shift(4,4),e.write_shift(4,1),Wc(n,e),e}function iB(n,e){return e==null&&(e=xe(66)),e.write_shift(2,n.password?u4(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function aB(){}function sB(){}function lB(n,e,t,r,a,l,c){if(e.v===void 0)return!1;var f="";switch(e.t){case"b":f=e.v?"1":"0";break;case"d":e=Wr(e),e.z=e.z||yn[14],e.v=Xr(Or(e.v)),e.t="n";break;case"n":case"e":f=""+e.v;break;default:f=e.v;break}var h={r:t,c:r};switch(h.s=Sl(a.cellXfs,e,a),e.l&&l["!links"].push([Gt(h),e.l]),e.c&&l["!comments"].push([Gt(h),e.c]),e.t){case"s":case"str":return a.bookSST?(f=Qv(a.Strings,e.v,a.revStrings),h.t="s",h.v=f,c?Se(n,18,A7(e,h)):Se(n,7,b7(e,h))):(h.t="str",c?Se(n,17,B7(e,h)):Se(n,6,j7(e,h))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Se(n,13,M7(e,h)):Se(n,2,D7(e,h)):c?Se(n,16,I7(e,h)):Se(n,5,N7(e,h)),!0;case"b":return h.t="b",c?Se(n,15,x7(e,h)):Se(n,4,g7(e,h)),!0;case"e":return h.t="e",c?Se(n,14,T7(e,h)):Se(n,3,_7(e,h)),!0}return c?Se(n,12,m7(e,h)):Se(n,1,h7(e,h)),!0}function oB(n,e,t,r){var a=on(e["!ref"]||"A1"),l,c="",f=[];Se(n,145);var h=Array.isArray(e),d=a.e.r;e["!rows"]&&(d=Math.max(a.e.r,e["!rows"].length-1));for(var p=a.s.r;p<=d;++p){c=cr(p),a7(n,e,a,p);var y=!1;if(p<=a.e.r)for(var _=a.s.c;_<=a.e.c;++_){p===a.s.r&&(f[_]=_r(_)),l=f[_]+c;var w=h?(e[p]||[])[_]:e[l];if(!w){y=!1;continue}y=lB(n,w,p,_,r,e,y)}}Se(n,146)}function cB(n,e){!e||!e["!merges"]||(Se(n,177,Y7(e["!merges"].length)),e["!merges"].forEach(function(t){Se(n,176,G7(t))}),Se(n,178))}function uB(n,e){!e||!e["!cols"]||(Se(n,390),e["!cols"].forEach(function(t,r){t&&Se(n,60,J7(r,t))}),Se(n,391))}function fB(n,e){!e||!e["!ref"]||(Se(n,648),Se(n,649,rB(on(e["!ref"]))),Se(n,650))}function hB(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var a=Ht(t,-1,r[1].Target.replace(/#.*$/,""),Ot.HLINK);Se(n,494,W7(r,a))}}),delete e["!links"]}function dB(n,e,t,r){if(e["!comments"].length>0){var a=Ht(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",Ot.VML);Se(n,551,Gv("rId"+a)),e["!legacy"]=a}}function mB(n,e,t,r){if(e["!autofilter"]){var a=e["!autofilter"],l=typeof a.ref=="string"?a.ref:Mn(a.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var c=t.Workbook.Names,f=di(l);f.s.r==f.e.r&&(f.e.r=di(e["!ref"]).e.r,l=Mn(f));for(var h=0;h<c.length;++h){var d=c[h];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+l;break}}h==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+l}),Se(n,161,Wc(on(l))),Se(n,162)}}function pB(n,e,t){Se(n,133),Se(n,137,nB(e,t)),Se(n,138),Se(n,134)}function gB(n,e){e["!protect"]&&Se(n,535,iB(e["!protect"]))}function vB(n,e,t,r){var a=Yr(),l=t.SheetNames[n],c=t.Sheets[l]||{},f=l;try{t&&t.Workbook&&(f=t.Workbook.Sheets[n].CodeName||f)}catch{}var h=on(c["!ref"]||"A1");if(h.e.c>16383||h.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");h.e.c=Math.min(h.e.c,16383),h.e.r=Math.min(h.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Se(a,129),(t.vbaraw||c["!outline"])&&Se(a,147,u7(f,c["!outline"])),Se(a,148,l7(h)),pB(a,c,t.Workbook),uB(a,c),oB(a,c,n,e),gB(a,c),mB(a,c,t,n),cB(a,c),hB(a,c,r),c["!margins"]&&Se(a,476,eB(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&fB(a,c),dB(a,c,n,r),Se(a,130),a.end()}function xB(n,e){n.l+=10;var t=Er(n);return{name:t}}var yB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function _B(n){return!n.Workbook||!n.Workbook.WBProps?"false":Q9(n.Workbook.WBProps.date1904)?"true":"false"}var EB="][*?/\\".split("");function I4(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return EB.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function TB(n,e,t){n.forEach(function(r,a){I4(r);for(var l=0;l<a;++l)if(r==n[l])throw new Error("Duplicate Sheet Name: "+r);if(t){var c=e&&e[a]&&e[a].CodeName||r;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function wB(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];TB(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)GF(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function O4(n){var e=[Pn];e[e.length]=Pe("workbook",null,{xmlns:Yc[0],"xmlns:r":Hn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(yB.forEach(function(f){n.Workbook.WBProps[f[0]]!=null&&n.Workbook.WBProps[f[0]]!=f[1]&&(r[f[0]]=n.Workbook.WBProps[f[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Pe("workbookPr",null,r);var a=n.Workbook&&n.Workbook.Sheets||[],l=0;if(a&&a[0]&&a[0].Hidden){for(e[e.length]="<bookViews>",l=0;l!=n.SheetNames.length&&!(!a[l]||!a[l].Hidden);++l);l==n.SheetNames.length&&(l=0),e[e.length]='<workbookView firstSheet="'+l+'" activeTab="'+l+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",l=0;l!=n.SheetNames.length;++l){var c={name:qt(n.SheetNames[l].slice(0,31))};if(c.sheetId=""+(l+1),c["r:id"]="rId"+(l+1),a[l])switch(a[l].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Pe("sheet",null,c)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(f){var h={name:f.Name};f.Comment&&(h.comment=f.Comment),f.Sheet!=null&&(h.localSheetId=""+f.Sheet),f.Hidden&&(h.hidden="1"),f.Ref&&(e[e.length]=Pe("definedName",qt(f.Ref),h))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function bB(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=E1(n),t.name=Er(n),t}function SB(n,e){return e||(e=xe(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Gv(n.strRelID,e),Gn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function AB(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var a=e>8?Er(n):"";return a.length>0&&(t.CodeName=a),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function CB(n,e){e||(e=xe(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),HA(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function NB(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var a=n.read_shift(4),l=_P(n),c=BF(n,0,t),f=qv(n);n.l=r;var h={Name:l,Ptg:c};return a<268435455&&(h.Sheet=a),f&&(h.Comment=f),h}function RB(n,e){Se(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,a={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Se(n,156,SB(a))}Se(n,144)}function IB(n,e){e||(e=xe(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Gn("SheetJS",e),Gn(_d.version,e),Gn(_d.version,e),Gn("7262",e),e.length>e.l?e.slice(0,e.l):e}function OB(n,e){e||(e=xe(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function DB(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,a=-1,l=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&a==-1?a=r:t[r].Hidden==1&&l==-1&&(l=r);l>a||(Se(n,135),Se(n,158,OB(a)),Se(n,136))}}function kB(n,e){var t=Yr();return Se(t,131),Se(t,128,IB()),Se(t,153,CB(n.Workbook&&n.Workbook.WBProps||null)),DB(t,n),RB(t,n),Se(t,132),t.end()}function MB(n,e,t){return(e.slice(-4)===".bin"?kB:O4)(n)}function PB(n,e,t,r,a){return(e.slice(-4)===".bin"?vB:N4)(n,t,r,a)}function LB(n,e,t){return(e.slice(-4)===".bin"?ej:d4)(n,t)}function jB(n,e,t){return(e.slice(-4)===".bin"?CL:c4)(n,t)}function FB(n,e,t){return(e.slice(-4)===".bin"?gj:x4)(n)}function BB(n){return(n.slice(-4)===".bin"?oj:g4)()}function VB(n,e){var t=[];return n.Props&&t.push(LP(n.Props,e)),n.Custprops&&t.push(jP(n.Props,n.Custprops)),t.join("")}function UB(){return""}function zB(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,a){var l=[];l.push(Pe("NumberFormat",null,{"ss:Format":qt(yn[r.numFmtId])}));var c={"ss:ID":"s"+(21+a)};t.push(Pe("Style",l.join(""),c))}),Pe("Styles",t.join(""))}function D4(n){return Pe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+$v(n.Ref,{r:0,c:0})})}function HB(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var a=e[r];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||t.push(D4(a)))}return Pe("Names",t.join(""))}function qB(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var a=r.Workbook.Names,l=[],c=0;c<a.length;++c){var f=a[c];f.Sheet==t&&(f.Name.match(/^_xlfn\./)||l.push(D4(f)))}return l.join("")}function GB(n,e,t,r){if(!n)return"";var a=[];if(n["!margins"]&&(a.push("<PageSetup>"),n["!margins"].header&&a.push(Pe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&a.push(Pe("Footer",null,{"x:Margin":n["!margins"].footer})),a.push(Pe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),a.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)a.push(Pe("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var l=0;l<t&&!(r.Workbook.Sheets[l]&&!r.Workbook.Sheets[l].Hidden);++l);l==t&&a.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),n["!protect"]&&(a.push(or("ProtectContents","True")),n["!protect"].objects&&a.push(or("ProtectObjects","True")),n["!protect"].scenarios&&a.push(or("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?a.push(or("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&a.push(or("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){n["!protect"][c[0]]&&a.push("<"+c[1]+"/>")})),a.length==0?"":Pe("WorksheetOptions",a.join(""),{xmlns:oi.x})}function YB(n){return n.map(function(e){var t=K9(e.t||""),r=Pe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",r,{"ss:Author":e.a})}).join("")}function XB(n,e,t,r,a,l,c){if(!n||n.v==null&&n.f==null)return"";var f={};if(n.f&&(f["ss:Formula"]="="+qt($v(n.f,c))),n.F&&n.F.slice(0,e.length)==e){var h=qn(n.F.slice(e.length+1));f["ss:ArrayRange"]="RC:R"+(h.r==c.r?"":"["+(h.r-c.r)+"]")+"C"+(h.c==c.c?"":"["+(h.c-c.c)+"]")}if(n.l&&n.l.Target&&(f["ss:HRef"]=qt(n.l.Target),n.l.Tooltip&&(f["x:HRefScreenTip"]=qt(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],p=0;p!=d.length;++p)d[p].s.c!=c.c||d[p].s.r!=c.r||(d[p].e.c>d[p].s.c&&(f["ss:MergeAcross"]=d[p].e.c-d[p].s.c),d[p].e.r>d[p].s.r&&(f["ss:MergeDown"]=d[p].e.r-d[p].s.r));var y="",_="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":y="Number",_=String(n.v);break;case"b":y="Boolean",_=n.v?"1":"0";break;case"e":y="Error",_=$f[n.v];break;case"d":y="DateTime",_=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||yn[14]);break;case"s":y="String",_=$9(n.v||"");break}var w=Sl(r.cellXfs,n,r);f["ss:StyleID"]="s"+(21+w),f["ss:Index"]=c.c+1;var C=n.v!=null?_:"",E=n.t=="z"?"":'<Data ss:Type="'+y+'">'+C+"</Data>";return(n.c||[]).length>0&&(E+=YB(n.c)),Pe("Cell",E,f)}function WB(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=h4(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function $B(n,e,t,r){if(!n["!ref"])return"";var a=on(n["!ref"]),l=n["!merges"]||[],c=0,f=[];n["!cols"]&&n["!cols"].forEach(function(b,j){Xv(b);var R=!!b.width,M=pm(j,b),G={"ss:Index":j+1};R&&(G["ss:Width"]=Id(M.width)),b.hidden&&(G["ss:Hidden"]="1"),f.push(Pe("Column",null,G))});for(var h=Array.isArray(n),d=a.s.r;d<=a.e.r;++d){for(var p=[WB(d,(n["!rows"]||[])[d])],y=a.s.c;y<=a.e.c;++y){var _=!1;for(c=0;c!=l.length;++c)if(!(l[c].s.c>y)&&!(l[c].s.r>d)&&!(l[c].e.c<y)&&!(l[c].e.r<d)){(l[c].s.c!=y||l[c].s.r!=d)&&(_=!0);break}if(!_){var w={r:d,c:y},C=Gt(w),E=h?(n[d]||[])[y]:n[C];p.push(XB(E,C,n,e,t,r,w))}}p.push("</Row>"),p.length>2&&f.push(p.join(""))}return f.join("")}function KB(n,e,t){var r=[],a=t.SheetNames[n],l=t.Sheets[a],c=l?qB(l,e,n,t):"";return c.length>0&&r.push("<Names>"+c+"</Names>"),c=l?$B(l,e,n,t):"",c.length>0&&r.push("<Table>"+c+"</Table>"),r.push(GB(l,e,n,t)),r.join("")}function QB(n,e){e||(e={}),n.SSF||(n.SSF=Wr(yn)),n.SSF&&(um(),cm(n.SSF),e.revssf=fm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Sl(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(VB(n,e)),t.push(UB()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Pe("Worksheet",KB(r,e,n),{"ss:Name":qt(n.SheetNames[r])}));return t[2]=zB(n,e),t[3]=HB(n),Pn+Pe("Workbook",t.join(""),{xmlns:oi.ss,"xmlns:o":oi.o,"xmlns:x":oi.x,"xmlns:ss":oi.ss,"xmlns:dt":oi.dt,"xmlns:html":oi.html})}var Bg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function JB(n,e){var t=[],r=[],a=[],l=0,c,f=CT(VT,"n"),h=CT(UT,"n");if(n.Props)for(c=fr(n.Props),l=0;l<c.length;++l)(Object.prototype.hasOwnProperty.call(f,c[l])?t:Object.prototype.hasOwnProperty.call(h,c[l])?r:a).push([c[l],n.Props[c[l]]]);if(n.Custprops)for(c=fr(n.Custprops),l=0;l<c.length;++l)Object.prototype.hasOwnProperty.call(n.Props||{},c[l])||(Object.prototype.hasOwnProperty.call(f,c[l])?t:Object.prototype.hasOwnProperty.call(h,c[l])?r:a).push([c[l],n.Custprops[c[l]]]);var d=[];for(l=0;l<a.length;++l)n4.indexOf(a[l][0])>-1||ZA.indexOf(a[l][0])>-1||a[l][1]!=null&&d.push(a[l]);r.length&&Qt.utils.cfb_add(e,"/SummaryInformation",YT(r,Bg.SI,h,UT)),(t.length||d.length)&&Qt.utils.cfb_add(e,"/DocumentSummaryInformation",YT(t,Bg.DSI,f,VT,d.length?d:null,Bg.UDI))}function ZB(n,e){var t=e||{},r=Qt.utils.cfb_new({root:"R"}),a="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":a="/Workbook",t.biff=8;break;case"biff5":a="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Qt.utils.cfb_add(r,a,k4(n,t)),t.biff==8&&(n.Props||n.Custprops)&&JB(n,r),t.biff==8&&n.vbaraw&&vj(r,Qt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var eV={0:{f:r7},1:{f:f7},2:{f:O7},3:{f:y7},4:{f:p7},5:{f:C7},6:{f:L7},7:{f:w7},8:{f:H7},9:{f:z7},10:{f:V7},11:{f:U7},12:{f:d7},13:{f:k7},14:{f:E7},15:{f:v7},16:{f:R7},17:{f:F7},18:{f:S7},19:{f:Hv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:NB},40:{},42:{},43:{f:LL},44:{f:ML},45:{f:BL},46:{f:UL},47:{f:VL},48:{},49:{f:dP},50:{},51:{f:rj},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:mL},62:{f:P7},63:{f:cj},64:{f:aB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Na,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:tB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:c7},148:{f:s7,p:16},151:{f:$7},152:{},153:{f:AB},154:{},155:{},156:{f:bB},157:{},158:{},159:{T:1,f:bL},160:{T:-1},161:{T:1,f:wo},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:q7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:tj},336:{T:-1},337:{f:sj,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:E1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:oL},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:K7},427:{f:Q7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Z7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:o7},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:X7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:E1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:mj},633:{T:1},634:{T:-1},635:{T:1,f:hj},636:{T:-1},637:{f:vP},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:xB},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:sB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Le(n,e,t,r){var a=e;if(!isNaN(a)){var l=r||(t||[]).length||0,c=n.next(4);c.write_shift(2,a),c.write_shift(2,l),l>0&&Vv(t)&&n.push(t)}}function tV(n,e,t,r){var a=(t||[]).length||0;if(a<=8224)return Le(n,e,t,a);var l=e;if(!isNaN(l)){for(var c=t.parts||[],f=0,h=0,d=0;d+(c[f]||8224)<=8224;)d+=c[f]||8224,f++;var p=n.next(4);for(p.write_shift(2,l),p.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d;h<a;){for(p=n.next(4),p.write_shift(2,60),d=0;d+(c[f]||8224)<=8224;)d+=c[f]||8224,f++;p.write_shift(2,d),n.push(t.slice(h,h+d)),h+=d}}}function Qf(n,e,t){return n||(n=xe(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function nV(n,e,t,r){var a=xe(9);return Qf(a,n,e),i4(t,r||"b",a),a}function rV(n,e,t){var r=xe(8+2*t.length);return Qf(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function iV(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var a=e.t=="d"?Xr(Or(e.v)):e.v;a==(a|0)&&a>=0&&a<65536?Le(n,2,xL(t,r,a)):Le(n,3,vL(t,r,a));return;case"b":case"e":Le(n,5,nV(t,r,e.v,e.t));return;case"s":case"str":Le(n,4,rV(t,r,(e.v||"").slice(0,255)));return}Le(n,1,Qf(null,t,r))}function aV(n,e,t,r){var a=Array.isArray(e),l=on(e["!ref"]||"A1"),c,f="",h=[];if(l.e.c>255||l.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");l.e.c=Math.min(l.e.c,255),l.e.r=Math.min(l.e.c,16383),c=Mn(l)}for(var d=l.s.r;d<=l.e.r;++d){f=cr(d);for(var p=l.s.c;p<=l.e.c;++p){d===l.s.r&&(h[p]=_r(p)),c=h[p]+f;var y=a?(e[d]||[])[p]:e[c];y&&iV(n,y,d,p)}}}function sV(n,e){for(var t=e||{},r=Yr(),a=0,l=0;l<n.SheetNames.length;++l)n.SheetNames[l]==t.sheet&&(a=l);if(a==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Le(r,t.biff==4?1033:t.biff==3?521:9,Yv(n,16,t)),aV(r,n.Sheets[n.SheetNames[a]],a,t),Le(r,10),r.end()}function lV(n,e,t){Le(n,49,eL({sz:12,name:"Arial"},t))}function oV(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var a=r[0];a<=r[1];++a)e[a]!=null&&Le(n,1054,rL(a,e[a],t))})}function cV(n,e){var t=xe(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Le(n,2151,t),t=xe(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),l4(on(e["!ref"]||"A1"),t),t.write_shift(4,4),Le(n,2152,t)}function uV(n,e){for(var t=0;t<16;++t)Le(n,224,WT({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Le(n,224,WT(r,0,e))})}function fV(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Le(n,440,fL(r)),r[1].Tooltip&&Le(n,2048,hL(r))}delete e["!links"]}function hV(n,e){if(e){var t=0;e.forEach(function(r,a){++t<=256&&r&&Le(n,125,pL(pm(a,r),a))})}}function dV(n,e,t,r,a){var l=16+Sl(a.cellXfs,e,a);if(e.v==null&&!e.bf){Le(n,513,mo(t,r,l));return}if(e.bf)Le(n,6,jF(e,t,r,a,l));else switch(e.t){case"d":case"n":var c=e.t=="d"?Xr(Or(e.v)):e.v;Le(n,515,lL(t,r,c,l));break;case"b":case"e":Le(n,517,sL(t,r,e.v,l,a,e.t));break;case"s":case"str":if(a.bookSST){var f=Qv(a.Strings,e.v,a.revStrings);Le(n,253,tL(t,r,f,l))}else Le(n,516,nL(t,r,(e.v||"").slice(0,255),l,a));break;default:Le(n,513,mo(t,r,l))}}function mV(n,e,t){var r=Yr(),a=t.SheetNames[n],l=t.Sheets[a]||{},c=(t||{}).Workbook||{},f=(c.Sheets||[])[n]||{},h=Array.isArray(l),d=e.biff==8,p,y="",_=[],w=on(l["!ref"]||"A1"),C=d?65536:16384;if(w.e.c>255||w.e.r>=C){if(e.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:IV16384");w.e.c=Math.min(w.e.c,255),w.e.r=Math.min(w.e.c,C-1)}Le(r,2057,Yv(t,16,e)),Le(r,13,Ci(1)),Le(r,12,Ci(100)),Le(r,15,Rr(!0)),Le(r,17,Rr(!1)),Le(r,16,ho(.001)),Le(r,95,Rr(!0)),Le(r,42,Rr(!1)),Le(r,43,Rr(!1)),Le(r,130,Ci(1)),Le(r,128,aL()),Le(r,131,Rr(!1)),Le(r,132,Rr(!1)),d&&hV(r,l["!cols"]),Le(r,512,iL(w,e)),d&&(l["!links"]=[]);for(var E=w.s.r;E<=w.e.r;++E){y=cr(E);for(var b=w.s.c;b<=w.e.c;++b){E===w.s.r&&(_[b]=_r(b)),p=_[b]+y;var j=h?(l[E]||[])[b]:l[p];j&&(dV(r,j,E,b,e),d&&j.l&&l["!links"].push([p,j.l]))}}var R=f.CodeName||f.name||a;return d&&Le(r,574,ZP((c.Views||[])[0])),d&&(l["!merges"]||[]).length&&Le(r,229,uL(l["!merges"])),d&&fV(r,l),Le(r,442,s4(R)),d&&cV(r,l),Le(r,10),r.end()}function pV(n,e,t){var r=Yr(),a=(n||{}).Workbook||{},l=a.Sheets||[],c=a.WBProps||{},f=t.biff==8,h=t.biff==5;if(Le(r,2057,Yv(n,5,t)),t.bookType=="xla"&&Le(r,135),Le(r,225,f?Ci(1200):null),Le(r,193,VP(2)),h&&Le(r,191),h&&Le(r,192),Le(r,226),Le(r,92,$P("SheetJS",t)),Le(r,66,Ci(f?1200:1252)),f&&Le(r,353,Ci(0)),f&&Le(r,448),Le(r,317,gL(n.SheetNames.length)),f&&n.vbaraw&&Le(r,211),f&&n.vbaraw){var d=c.CodeName||"ThisWorkbook";Le(r,442,s4(d))}Le(r,156,Ci(17)),Le(r,25,Rr(!1)),Le(r,18,Rr(!1)),Le(r,19,Ci(0)),f&&Le(r,431,Rr(!1)),f&&Le(r,444,Ci(0)),Le(r,61,JP()),Le(r,64,Rr(!1)),Le(r,141,Ci(0)),Le(r,34,Rr(_B(n)=="true")),Le(r,14,Rr(!0)),f&&Le(r,439,Rr(!1)),Le(r,218,Ci(0)),lV(r,n,t),oV(r,n.SSF,t),uV(r,t),f&&Le(r,352,Rr(!1));var p=r.end(),y=Yr();f&&Le(y,140,dL()),f&&t.Strings&&tV(y,252,QP(t.Strings)),Le(y,10);var _=y.end(),w=Yr(),C=0,E=0;for(E=0;E<n.SheetNames.length;++E)C+=(f?12:11)+(f?2:1)*n.SheetNames[E].length;var b=p.length+C+_.length;for(E=0;E<n.SheetNames.length;++E){var j=l[E]||{};Le(w,133,KP({pos:b,hs:j.Hidden||0,dt:0,name:n.SheetNames[E]},t)),b+=e[E].length}var R=w.end();if(C!=R.length)throw new Error("BS8 "+C+" != "+R.length);var M=[];return p.length&&M.push(p),R.length&&M.push(R),_.length&&M.push(_),lr(M)}function gV(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Wr(yn)),n&&n.SSF&&(um(),cm(n.SSF),t.revssf=fm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,Jv(t),t.cellXfs=[],Sl(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var a=0;a<n.SheetNames.length;++a)r[r.length]=mV(a,t,n);return r.unshift(pV(n,r,t)),lr(r)}function k4(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var a=di(r["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var l=e||{};switch(l.biff||2){case 8:case 5:return gV(n,e);case 4:case 3:case 2:return sV(n,e)}throw new Error("invalid type "+l.bookType+" for BIFF")}function vV(n,e,t,r){for(var a=n["!merges"]||[],l=[],c=e.s.c;c<=e.e.c;++c){for(var f=0,h=0,d=0;d<a.length;++d)if(!(a[d].s.r>t||a[d].s.c>c)&&!(a[d].e.r<t||a[d].e.c<c)){if(a[d].s.r<t||a[d].s.c<c){f=-1;break}f=a[d].e.r-a[d].s.r+1,h=a[d].e.c-a[d].s.c+1;break}if(!(f<0)){var p=Gt({r:t,c}),y=r.dense?(n[t]||[])[c]:n[p],_=y&&y.v!=null&&(y.h||W9(y.w||(us(y),y.w)||""))||"",w={};f>1&&(w.rowspan=f),h>1&&(w.colspan=h),r.editable?_='<span contenteditable="true">'+_+"</span>":y&&(w["data-t"]=y&&y.t||"z",y.v!=null&&(w["data-v"]=y.v),y.z!=null&&(w["data-z"]=y.z),y.l&&(y.l.Target||"#").charAt(0)!="#"&&(_='<a href="'+y.l.Target+'">'+_+"</a>")),w.id=(r.id||"sjs")+"-"+p,l.push(Pe("td",_,w))}}var C="<tr>";return C+l.join("")+"</tr>"}var xV='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',yV="</body></html>";function _V(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function M4(n,e){var t=e||{},r=t.header!=null?t.header:xV,a=t.footer!=null?t.footer:yV,l=[r],c=di(n["!ref"]);t.dense=Array.isArray(n),l.push(_V(n,c,t));for(var f=c.s.r;f<=c.e.r;++f)l.push(vV(n,c,f,t));return l.push("</table>"+a),l.join("")}function P4(n,e,t){var r=t||{},a=0,l=0;if(r.origin!=null)if(typeof r.origin=="number")a=r.origin;else{var c=typeof r.origin=="string"?qn(r.origin):r.origin;a=c.r,l=c.c}var f=e.getElementsByTagName("tr"),h=Math.min(r.sheetRows||1e7,f.length),d={s:{r:0,c:0},e:{r:a,c:l}};if(n["!ref"]){var p=di(n["!ref"]);d.s.r=Math.min(d.s.r,p.s.r),d.s.c=Math.min(d.s.c,p.s.c),d.e.r=Math.max(d.e.r,p.e.r),d.e.c=Math.max(d.e.c,p.e.c),a==-1&&(d.e.r=a=p.e.r+1)}var y=[],_=0,w=n["!rows"]||(n["!rows"]=[]),C=0,E=0,b=0,j=0,R=0,M=0;for(n["!cols"]||(n["!cols"]=[]);C<f.length&&E<h;++C){var G=f[C];if(tw(G)){if(r.display)continue;w[E]={hidden:!0}}var te=G.children;for(b=j=0;b<te.length;++b){var re=te[b];if(!(r.display&&tw(re))){var N=re.hasAttribute("data-v")?re.getAttribute("data-v"):re.hasAttribute("v")?re.getAttribute("v"):J9(re.innerHTML),O=re.getAttribute("data-z")||re.getAttribute("z");for(_=0;_<y.length;++_){var I=y[_];I.s.c==j+l&&I.s.r<E+a&&E+a<=I.e.r&&(j=I.e.c+1-l,_=-1)}M=+re.getAttribute("colspan")||1,((R=+re.getAttribute("rowspan")||1)>1||M>1)&&y.push({s:{r:E+a,c:j+l},e:{r:E+a+(R||1)-1,c:j+l+(M||1)-1}});var D={t:"s",v:N},L=re.getAttribute("data-t")||re.getAttribute("t")||"";N!=null&&(N.length==0?D.t=L||"z":r.raw||N.trim().length==0||L=="s"||(N==="TRUE"?D={t:"b",v:!0}:N==="FALSE"?D={t:"b",v:!1}:isNaN(ts(N))?isNaN(Sf(N).getDate())||(D={t:"d",v:Or(N)},r.cellDates||(D={t:"n",v:Xr(D.v)}),D.z=r.dateNF||yn[14]):D={t:"n",v:ts(N)})),D.z===void 0&&O!=null&&(D.z=O);var B="",V=re.getElementsByTagName("A");if(V&&V.length)for(var $e=0;$e<V.length&&!(V[$e].hasAttribute("href")&&(B=V[$e].getAttribute("href"),B.charAt(0)!="#"));++$e);B&&B.charAt(0)!="#"&&(D.l={Target:B}),r.dense?(n[E+a]||(n[E+a]=[]),n[E+a][j+l]=D):n[Gt({c:j+l,r:E+a})]=D,d.e.c<j+l&&(d.e.c=j+l),j+=M}}++E}return y.length&&(n["!merges"]=(n["!merges"]||[]).concat(y)),d.e.r=Math.max(d.e.r,E-1+a),n["!ref"]=Mn(d),E>=h&&(n["!fullref"]=Mn((d.e.r=f.length-C+E-1+a,d))),n}function L4(n,e){var t=e||{},r=t.dense?[]:{};return P4(r,n,e)}function EV(n,e){return yo(L4(n,e),e)}function tw(n){var e="",t=TV(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function TV(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var wV=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Cf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Pn+e}})(),nw=(function(){var n=function(l){return qt(l).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(l,c,f){var h=[];h.push('      <table:table table:name="'+qt(c.SheetNames[f])+`" table:style-name="ta1">
`);var d=0,p=0,y=di(l["!ref"]||"A1"),_=l["!merges"]||[],w=0,C=Array.isArray(l);if(l["!cols"])for(p=0;p<=y.e.c;++p)h.push("        <table:table-column"+(l["!cols"][p]?' table:style-name="co'+l["!cols"][p].ods+'"':"")+`></table:table-column>
`);var E="",b=l["!rows"]||[];for(d=0;d<y.s.r;++d)E=b[d]?' table:style-name="ro'+b[d].ods+'"':"",h.push("        <table:table-row"+E+`></table:table-row>
`);for(;d<=y.e.r;++d){for(E=b[d]?' table:style-name="ro'+b[d].ods+'"':"",h.push("        <table:table-row"+E+`>
`),p=0;p<y.s.c;++p)h.push(e);for(;p<=y.e.c;++p){var j=!1,R={},M="";for(w=0;w!=_.length;++w)if(!(_[w].s.c>p)&&!(_[w].s.r>d)&&!(_[w].e.c<p)&&!(_[w].e.r<d)){(_[w].s.c!=p||_[w].s.r!=d)&&(j=!0),R["table:number-columns-spanned"]=_[w].e.c-_[w].s.c+1,R["table:number-rows-spanned"]=_[w].e.r-_[w].s.r+1;break}if(j){h.push(t);continue}var G=Gt({r:d,c:p}),te=C?(l[d]||[])[p]:l[G];if(te&&te.f&&(R["table:formula"]=qt(HF(te.f)),te.F&&te.F.slice(0,G.length)==G)){var re=di(te.F);R["table:number-matrix-columns-spanned"]=re.e.c-re.s.c+1,R["table:number-matrix-rows-spanned"]=re.e.r-re.s.r+1}if(!te){h.push(e);continue}switch(te.t){case"b":M=te.v?"TRUE":"FALSE",R["office:value-type"]="boolean",R["office:boolean-value"]=te.v?"true":"false";break;case"n":M=te.w||String(te.v||0),R["office:value-type"]="float",R["office:value"]=te.v||0;break;case"s":case"str":M=te.v==null?"":te.v,R["office:value-type"]="string";break;case"d":M=te.w||Or(te.v).toISOString(),R["office:value-type"]="date",R["office:date-value"]=Or(te.v).toISOString(),R["table:style-name"]="ce1";break;default:h.push(e);continue}var N=n(M);if(te.l&&te.l.Target){var O=te.l.Target;O=O.charAt(0)=="#"?"#"+qF(O.slice(1)):O,O.charAt(0)!="#"&&!O.match(/^\w+:/)&&(O="../"+O),N=Pe("text:a",N,{"xlink:href":O.replace(/&/g,"&amp;")})}h.push("          "+Pe("table:table-cell",Pe("text:p",N,{}),R)+`
`)}h.push(`        </table:table-row>
`)}return h.push(`      </table:table>
`),h.join("")},a=function(l,c){l.push(` <office:automatic-styles>
`),l.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),l.push(`   <number:month number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:day number:style="long"/>
`),l.push(`   <number:text>/</number:text>
`),l.push(`   <number:year/>
`),l.push(`  </number:date-style>
`);var f=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var p=0;p<d["!cols"].length;++p)if(d["!cols"][p]){var y=d["!cols"][p];if(y.width==null&&y.wpx==null&&y.wch==null)continue;Xv(y),y.ods=f;var _=d["!cols"][p].wpx+"px";l.push('  <style:style style:name="co'+f+`" style:family="table-column">
`),l.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+_+`"/>
`),l.push(`  </style:style>
`),++f}}});var h=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var p=0;p<d["!rows"].length;++p)if(d["!rows"][p]){d["!rows"][p].ods=h;var y=d["!rows"][p].hpx+"px";l.push('  <style:style style:name="ro'+h+`" style:family="table-row">
`),l.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+y+`"/>
`),l.push(`  </style:style>
`),++h}}}),l.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),l.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),l.push(`  </style:style>
`),l.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),l.push(` </office:automatic-styles>
`)};return function(c,f){var h=[Pn],d=Cf({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=Cf({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});f.bookType=="fods"?(h.push("<office:document"+d+p+`>
`),h.push(QA().replace(/office:document-meta/g,"office:meta"))):h.push("<office:document-content"+d+`>
`),a(h,c),h.push(`  <office:body>
`),h.push(`    <office:spreadsheet>
`);for(var y=0;y!=c.SheetNames.length;++y)h.push(r(c.Sheets[c.SheetNames[y]],c,y));return h.push(`    </office:spreadsheet>
`),h.push(`  </office:body>
`),f.bookType=="fods"?h.push("</office:document>"):h.push("</office:document-content>"),h.join("")}})();function j4(n,e){if(e.bookType=="fods")return nw(n,e);var t=Lv(),r="",a=[],l=[];return r="mimetype",pt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",pt(t,r,nw(n,e)),a.push([r,"text/xml"]),l.push([r,"ContentFile"]),r="styles.xml",pt(t,r,wV(n,e)),a.push([r,"text/xml"]),l.push([r,"StylesFile"]),r="meta.xml",pt(t,r,Pn+QA()),a.push([r,"text/xml"]),l.push([r,"MetadataFile"]),r="manifest.rdf",pt(t,r,PP(l)),a.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",pt(t,r,kP(a)),t}function kd(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function bV(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Qi(Af(n))}function SV(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function _l(n){var e=n.reduce(function(a,l){return a+l.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(a){t.set(a,r),r+=a.length}),t}function AV(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,a=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var l=0;a>=1;++l,a/=256)n[e+l]=a&255;n[e+15]|=t>=0?0:128}function Nf(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function zt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Ac(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function jn(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],a=Nf(n,t),l=a&7;a=Math.floor(a/8);var c=0,f;if(a==0)break;switch(l){case 0:{for(var h=t[0];n[t[0]++]>=128;);f=n.slice(h,t[0])}break;case 5:c=4,f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=Nf(n,t),f=n.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(l," for Field ").concat(a," at offset ").concat(r))}var d={data:f,type:l};e[a]==null?e[a]=[d]:e[a].push(d)}return e}function rr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(a){a.data&&(e.push(zt(r*8+a.type)),a.type==2&&e.push(zt(a.data.length)),e.push(a.data))})}),_l(e)}function Xi(n){for(var e,t=[],r=[0];r[0]<n.length;){var a=Nf(n,r),l=jn(n.slice(r[0],r[0]+a));r[0]+=a;var c={id:Ac(l[1][0].data),messages:[]};l[2].forEach(function(f){var h=jn(f.data),d=Ac(h[3][0].data);c.messages.push({meta:h,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=l[3])!=null&&e[0]&&(c.merge=Ac(l[3][0].data)>>>0>0),t.push(c)}return t}function oc(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:zt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:zt(+!!t.merge),type:0}]);var a=[];t.messages.forEach(function(c){a.push(c.data),c.meta[3]=[{type:0,data:zt(c.data.length)}],r[2].push({data:rr(c.meta),type:2})});var l=rr(r);e.push(zt(l.length)),e.push(l),a.forEach(function(c){return e.push(c)})}),_l(e)}function CV(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Nf(e,t),a=[];t[0]<e.length;){var l=e[t[0]]&3;if(l==0){var c=e[t[0]++]>>2;if(c<60)++c;else{var f=c-59;c=e[t[0]],f>1&&(c|=e[t[0]+1]<<8),f>2&&(c|=e[t[0]+2]<<16),f>3&&(c|=e[t[0]+3]<<24),c>>>=0,c++,t[0]+=f}a.push(e.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var h=0,d=0;if(l==1?(d=(e[t[0]]>>2&7)+4,h=(e[t[0]++]&224)<<3,h|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,l==2?(h=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(h=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),a=[_l(a)],h==0)throw new Error("Invalid offset 0");if(h>a[0].length)throw new Error("Invalid offset beyond length");if(d>=h)for(a.push(a[0].slice(-h)),d-=h;d>=a[a.length-1].length;)a.push(a[a.length-1]),d-=a[a.length-1].length;a.push(a[0].slice(-h,-h+d))}}var p=_l(a);if(p.length!=r)throw new Error("Unexpected length: ".concat(p.length," != ").concat(r));return p}function Wi(n){for(var e=[],t=0;t<n.length;){var r=n[t++],a=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(CV(r,n.slice(t,t+a))),t+=a}if(t!==n.length)throw new Error("data is not a valid framed stream!");return _l(e)}function cc(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),a=new Uint8Array(4);e.push(a);var l=zt(r),c=l.length;e.push(l),r<=60?(c++,e.push(new Uint8Array([r-1<<2]))):r<=256?(c+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(c+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(c+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(c+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),c+=r,a[0]=0,a[1]=c&255,a[2]=c>>8&255,a[3]=c>>16&255,t+=r}return _l(e)}function Vg(n,e){var t=new Uint8Array(32),r=kd(t),a=12,l=0;switch(t[0]=5,n.t){case"n":t[1]=2,AV(t,a,n.v),l|=1,a+=16;break;case"b":t[1]=6,r.setFloat64(a,n.v?1:0,!0),l|=2,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(a,e.indexOf(n.v),!0),l|=8,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,l,!0),t.slice(0,a)}function Ug(n,e){var t=new Uint8Array(32),r=kd(t),a=12,l=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(a,n.v,!0),l|=32,a+=8;break;case"b":t[2]=6,r.setFloat64(a,n.v?1:0,!0),l|=32,a+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(a,e.indexOf(n.v),!0),l|=16,a+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,l,!0),t.slice(0,a)}function Xs(n){var e=jn(n);return Nf(e[1][0].data)}function NV(n,e,t){var r,a,l,c;if(!((r=n[6])!=null&&r[0])||!((a=n[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var f=((c=(l=n[8])==null?void 0:l[0])==null?void 0:c.data)&&Ac(n[8][0].data)>0||!1;if(f)throw"Math only works with normal offsets";for(var h=0,d=kd(n[7][0].data),p=0,y=[],_=kd(n[4][0].data),w=0,C=[],E=0;E<e.length;++E){if(e[E]==null){d.setUint16(E*2,65535,!0),_.setUint16(E*2,65535);continue}d.setUint16(E*2,p,!0),_.setUint16(E*2,w,!0);var b,j;switch(typeof e[E]){case"string":b=Vg({t:"s",v:e[E]},t),j=Ug({t:"s",v:e[E]},t);break;case"number":b=Vg({t:"n",v:e[E]},t),j=Ug({t:"n",v:e[E]},t);break;case"boolean":b=Vg({t:"b",v:e[E]},t),j=Ug({t:"b",v:e[E]},t);break;default:throw new Error("Unsupported value "+e[E])}y.push(b),p+=b.length,C.push(j),w+=j.length,++h}for(n[2][0].data=zt(h);E<n[7][0].data.length/2;++E)d.setUint16(E*2,65535,!0),_.setUint16(E*2,65535,!0);return n[6][0].data=_l(y),n[3][0].data=_l(C),h}function RV(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=di(t["!ref"]);r.s.r=r.s.c=0;var a=!1;r.e.c>9&&(a=!0,r.e.c=9),r.e.r>49&&(a=!0,r.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(Mn(r)));var l=Md(t,{range:r,header:1}),c=["~Sh33tJ5~"];l.forEach(function(J){return J.forEach(function(W){typeof W=="string"&&c.push(W)})});var f={},h=[],d=Qt.read(e.numbers,{type:"base64"});d.FileIndex.map(function(J,W){return[J,d.FullPaths[W]]}).forEach(function(J){var W=J[0],K=J[1];if(W.type==2&&W.name.match(/\.iwa/)){var pe=W.content,Re=Wi(pe),Be=Xi(Re);Be.forEach(function(Oe){h.push(Oe.id),f[Oe.id]={deps:[],location:K,type:Ac(Oe.messages[0].meta[1][0].data)}})}}),h.sort(function(J,W){return J-W});var p=h.filter(function(J){return J>1}).map(function(J){return[J,zt(J)]});d.FileIndex.map(function(J,W){return[J,d.FullPaths[W]]}).forEach(function(J){var W=J[0];if(J[1],!!W.name.match(/\.iwa/)){var K=Xi(Wi(W.content));K.forEach(function(pe){pe.messages.forEach(function(Re){p.forEach(function(Be){pe.messages.some(function(Oe){return Ac(Oe.meta[1][0].data)!=11006&&SV(Oe.data,Be[1])})&&f[Be[0]].deps.push(pe.id)})})})}});for(var y=Qt.find(d,f[1].location),_=Xi(Wi(y.content)),w,C=0;C<_.length;++C){var E=_[C];E.id==1&&(w=E)}var b=Xs(jn(w.messages[0].data)[1][0].data);for(y=Qt.find(d,f[b].location),_=Xi(Wi(y.content)),C=0;C<_.length;++C)E=_[C],E.id==b&&(w=E);for(b=Xs(jn(w.messages[0].data)[2][0].data),y=Qt.find(d,f[b].location),_=Xi(Wi(y.content)),C=0;C<_.length;++C)E=_[C],E.id==b&&(w=E);for(b=Xs(jn(w.messages[0].data)[2][0].data),y=Qt.find(d,f[b].location),_=Xi(Wi(y.content)),C=0;C<_.length;++C)E=_[C],E.id==b&&(w=E);var j=jn(w.messages[0].data);{j[6][0].data=zt(r.e.r+1),j[7][0].data=zt(r.e.c+1);var R=Xs(j[46][0].data),M=Qt.find(d,f[R].location),G=Xi(Wi(M.content));{for(var te=0;te<G.length&&G[te].id!=R;++te);if(G[te].id!=R)throw"Bad ColumnRowUIDMapArchive";var re=jn(G[te].messages[0].data);re[1]=[],re[2]=[],re[3]=[];for(var N=0;N<=r.e.c;++N){var O=[];O[1]=O[2]=[{type:0,data:zt(N+420690)}],re[1].push({type:2,data:rr(O)}),re[2].push({type:0,data:zt(N)}),re[3].push({type:0,data:zt(N)})}re[4]=[],re[5]=[],re[6]=[];for(var I=0;I<=r.e.r;++I)O=[],O[1]=O[2]=[{type:0,data:zt(I+726270)}],re[4].push({type:2,data:rr(O)}),re[5].push({type:0,data:zt(I)}),re[6].push({type:0,data:zt(I)});G[te].messages[0].data=rr(re)}M.content=cc(oc(G)),M.size=M.content.length,delete j[46];var D=jn(j[4][0].data);{D[7][0].data=zt(r.e.r+1);var L=jn(D[1][0].data),B=Xs(L[2][0].data);M=Qt.find(d,f[B].location),G=Xi(Wi(M.content));{if(G[0].id!=B)throw"Bad HeaderStorageBucket";var V=jn(G[0].messages[0].data);for(I=0;I<l.length;++I){var $e=jn(V[2][0].data);$e[1][0].data=zt(I),$e[4][0].data=zt(l[I].length),V[2][I]={type:V[2][0].type,data:rr($e)}}G[0].messages[0].data=rr(V)}M.content=cc(oc(G)),M.size=M.content.length;var Ue=Xs(D[2][0].data);M=Qt.find(d,f[Ue].location),G=Xi(Wi(M.content));{if(G[0].id!=Ue)throw"Bad HeaderStorageBucket";for(V=jn(G[0].messages[0].data),N=0;N<=r.e.c;++N)$e=jn(V[2][0].data),$e[1][0].data=zt(N),$e[4][0].data=zt(r.e.r+1),V[2][N]={type:V[2][0].type,data:rr($e)};G[0].messages[0].data=rr(V)}M.content=cc(oc(G)),M.size=M.content.length;var de=Xs(D[4][0].data);(function(){for(var J=Qt.find(d,f[de].location),W=Xi(Wi(J.content)),K,pe=0;pe<W.length;++pe){var Re=W[pe];Re.id==de&&(K=Re)}var Be=jn(K.messages[0].data);{Be[3]=[];var Oe=[];c.forEach(function(lt,en){Oe[1]=[{type:0,data:zt(en)}],Oe[2]=[{type:0,data:zt(1)}],Oe[3]=[{type:2,data:bV(lt)}],Be[3].push({type:2,data:rr(Oe)})})}K.messages[0].data=rr(Be);var ke=oc(W),gt=cc(ke);J.content=gt,J.size=J.content.length})();var be=jn(D[3][0].data);{var qe=be[1][0];delete be[2];var Ze=jn(qe.data);{var Je=Xs(Ze[2][0].data);(function(){for(var J=Qt.find(d,f[Je].location),W=Xi(Wi(J.content)),K,pe=0;pe<W.length;++pe){var Re=W[pe];Re.id==Je&&(K=Re)}var Be=jn(K.messages[0].data);{delete Be[6],delete be[7];var Oe=new Uint8Array(Be[5][0].data);Be[5]=[];for(var ke=0,gt=0;gt<=r.e.r;++gt){var lt=jn(Oe);ke+=NV(lt,l[gt],c),lt[1][0].data=zt(gt),Be[5].push({data:rr(lt),type:2})}Be[1]=[{type:0,data:zt(r.e.c+1)}],Be[2]=[{type:0,data:zt(r.e.r+1)}],Be[3]=[{type:0,data:zt(ke)}],Be[4]=[{type:0,data:zt(r.e.r+1)}]}K.messages[0].data=rr(Be);var en=oc(W),ut=cc(en);J.content=ut,J.size=J.content.length})()}qe.data=rr(Ze)}D[3][0].data=rr(be)}j[4][0].data=rr(D)}w.messages[0].data=rr(j);var ee=oc(_),F=cc(ee);return y.content=F,y.size=y.content.length,d}function IV(n){return function(t){for(var r=0;r!=n.length;++r){var a=n[r];t[a[0]]===void 0&&(t[a[0]]=a[1]),a[2]==="n"&&(t[a[0]]=Number(t[a[0]]))}}}function Jv(n){IV([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function OV(n,e){return e.bookType=="ods"?j4(n,e):e.bookType=="numbers"?RV(n,e):e.bookType=="xlsb"?DV(n,e):kV(n,e)}function DV(n,e){vc=1024,n&&!n.SSF&&(n.SSF=Wr(yn)),n&&n.SSF&&(um(),cm(n.SSF),e.revssf=fm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,df?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=y4.indexOf(e.bookType)>-1,a=WA();Jv(e=e||{});var l=Lv(),c="",f=0;if(e.cellXfs=[],Sl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",pt(l,c,JA(n.Props,e)),a.coreprops.push(c),Ht(e.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}for(n.Props.Worksheets=n.Props.SheetNames.length,pt(l,c,e4(n.Props)),a.extprops.push(c),Ht(e.rels,3,c,Ot.EXT_PROPS),n.Custprops!==n.Props&&fr(n.Custprops||{}).length>0&&(c="docProps/custom.xml",pt(l,c,t4(n.Custprops)),a.custprops.push(c),Ht(e.rels,4,c,Ot.CUST_PROPS)),f=1;f<=n.SheetNames.length;++f){var p={"!id":{}},y=n.Sheets[n.SheetNames[f-1]],_=(y||{})["!type"]||"sheet";switch(_){case"chart":default:c="xl/worksheets/sheet"+f+"."+t,pt(l,c,PB(f-1,c,e,n,p)),a.sheets.push(c),Ht(e.wbrels,-1,"worksheets/sheet"+f+"."+t,Ot.WS[0])}if(y){var w=y["!comments"],C=!1,E="";w&&w.length>0&&(E="xl/comments"+f+"."+t,pt(l,E,FB(w,E)),a.comments.push(E),Ht(p,-1,"../comments"+f+"."+t,Ot.CMNT),C=!0),y["!legacy"]&&C&&pt(l,"xl/drawings/vmlDrawing"+f+".vml",v4(f,y["!comments"])),delete y["!comments"],delete y["!legacy"]}p["!id"].rId1&&pt(l,KA(c),bc(p))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,pt(l,c,jB(e.Strings,c,e)),a.strs.push(c),Ht(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),c="xl/workbook."+t,pt(l,c,MB(n,c)),a.workbooks.push(c),Ht(e.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",pt(l,c,p4(n.Themes,e)),a.themes.push(c),Ht(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+t,pt(l,c,LB(n,c,e)),a.styles.push(c),Ht(e.wbrels,-1,"styles."+t,Ot.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",pt(l,c,n.vbaraw),a.vba.push(c),Ht(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+t,pt(l,c,BB(c)),a.metadata.push(c),Ht(e.wbrels,-1,"metadata."+t,Ot.XLMETA),pt(l,"[Content_Types].xml",$A(a,e)),pt(l,"_rels/.rels",bc(e.rels)),pt(l,"xl/_rels/workbook."+t+".rels",bc(e.wbrels)),delete e.revssf,delete e.ssf,l}function kV(n,e){vc=1024,n&&!n.SSF&&(n.SSF=Wr(yn)),n&&n.SSF&&(um(),cm(n.SSF),e.revssf=fm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,df?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=y4.indexOf(e.bookType)>-1,a=WA();Jv(e=e||{});var l=Lv(),c="",f=0;if(e.cellXfs=[],Sl(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",pt(l,c,JA(n.Props,e)),a.coreprops.push(c),Ht(e.rels,2,c,Ot.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var h=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&h.push(n.SheetNames[d]);n.Props.SheetNames=h}n.Props.Worksheets=n.Props.SheetNames.length,pt(l,c,e4(n.Props)),a.extprops.push(c),Ht(e.rels,3,c,Ot.EXT_PROPS),n.Custprops!==n.Props&&fr(n.Custprops||{}).length>0&&(c="docProps/custom.xml",pt(l,c,t4(n.Custprops)),a.custprops.push(c),Ht(e.rels,4,c,Ot.CUST_PROPS));var p=["SheetJ5"];for(e.tcid=0,f=1;f<=n.SheetNames.length;++f){var y={"!id":{}},_=n.Sheets[n.SheetNames[f-1]],w=(_||{})["!type"]||"sheet";switch(w){case"chart":default:c="xl/worksheets/sheet"+f+"."+t,pt(l,c,N4(f-1,e,n,y)),a.sheets.push(c),Ht(e.wbrels,-1,"worksheets/sheet"+f+"."+t,Ot.WS[0])}if(_){var C=_["!comments"],E=!1,b="";if(C&&C.length>0){var j=!1;C.forEach(function(R){R[1].forEach(function(M){M.T==!0&&(j=!0)})}),j&&(b="xl/threadedComments/threadedComment"+f+"."+t,pt(l,b,uj(C,p,e)),a.threadedcomments.push(b),Ht(y,-1,"../threadedComments/threadedComment"+f+"."+t,Ot.TCMNT)),b="xl/comments"+f+"."+t,pt(l,b,x4(C)),a.comments.push(b),Ht(y,-1,"../comments"+f+"."+t,Ot.CMNT),E=!0}_["!legacy"]&&E&&pt(l,"xl/drawings/vmlDrawing"+f+".vml",v4(f,_["!comments"])),delete _["!comments"],delete _["!legacy"]}y["!id"].rId1&&pt(l,KA(c),bc(y))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,pt(l,c,c4(e.Strings,e)),a.strs.push(c),Ht(e.wbrels,-1,"sharedStrings."+t,Ot.SST)),c="xl/workbook."+t,pt(l,c,O4(n)),a.workbooks.push(c),Ht(e.rels,1,c,Ot.WB),c="xl/theme/theme1.xml",pt(l,c,p4(n.Themes,e)),a.themes.push(c),Ht(e.wbrels,-1,"theme/theme1.xml",Ot.THEME),c="xl/styles."+t,pt(l,c,d4(n,e)),a.styles.push(c),Ht(e.wbrels,-1,"styles."+t,Ot.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",pt(l,c,n.vbaraw),a.vba.push(c),Ht(e.wbrels,-1,"vbaProject.bin",Ot.VBA)),c="xl/metadata."+t,pt(l,c,g4()),a.metadata.push(c),Ht(e.wbrels,-1,"metadata."+t,Ot.XLMETA),p.length>1&&(c="xl/persons/person.xml",pt(l,c,fj(p)),a.people.push(c),Ht(e.wbrels,-1,"persons/person.xml",Ot.PEOPLE)),pt(l,"[Content_Types].xml",$A(a,e)),pt(l,"_rels/.rels",bc(e.rels)),pt(l,"xl/_rels/workbook."+t+".rels",bc(e.wbrels)),delete e.revssf,delete e.ssf,l}function MV(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=cs(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function F4(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Xf(e.file,Qt.write(n,{type:Mt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Qt.write(n,e)}function PV(n,e){var t=Wr(e||{}),r=OV(n,t);return LV(r,t)}function LV(n,e){var t={},r=Mt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var a=n.FullPaths?Qt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof a=="string"){if(e.type=="binary"||e.type=="base64")return a;a=new Uint8Array(om(a))}return e.password&&typeof encrypt_agile<"u"?F4(encrypt_agile(a,e.password),e):e.type==="file"?Xf(e.file,a):e.type=="string"?cf(a):a}function jV(n,e){var t=e||{},r=ZB(n,t);return F4(r,t)}function va(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return bf(Af(r));case"binary":return Af(r);case"string":return n;case"file":return Xf(e.file,r,"utf8");case"buffer":return Mt?hs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):va(r,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function FV(n,e){switch(e.type){case"base64":return bf(n);case"binary":return n;case"string":return n;case"file":return Xf(e.file,n,"binary");case"buffer":return Mt?hs(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function D0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?bf(t):e.type=="string"?cf(t):t;case"file":return Xf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function B4(n,e){h9(),wB(n);var t=Wr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=B4(n,t);return t.type="array",om(r)}var a=0;if(t.sheet&&(typeof t.sheet=="number"?a=t.sheet:a=n.SheetNames.indexOf(t.sheet),!n.SheetNames[a]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return va(QB(n,t),t);case"slk":case"sylk":return va(_L.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"htm":case"html":return va(M4(n.Sheets[n.SheetNames[a]],t),t);case"txt":return FV(U4(n.Sheets[n.SheetNames[a]],t),t);case"csv":return va(Zv(n.Sheets[n.SheetNames[a]],t),t,"\uFEFF");case"dif":return va(EL.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"dbf":return D0(yL.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"prn":return va(TL.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"rtf":return va(RL.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"eth":return va(o4.from_sheet(n.Sheets[n.SheetNames[a]],t),t);case"fods":return va(j4(n,t),t);case"wk1":return D0($T.sheet_to_wk1(n.Sheets[n.SheetNames[a]],t),t);case"wk3":return D0($T.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),D0(k4(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),jV(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return PV(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function BV(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function V4(n,e,t){var r={};return r.type="file",r.file=e,BV(r),B4(n,r)}function VV(n,e,t,r,a,l,c,f){var h=cr(t),d=f.defval,p=f.raw||!Object.prototype.hasOwnProperty.call(f,"raw"),y=!0,_=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(_,"__rowNum__",{value:t,enumerable:!1})}catch{_.__rowNum__=t}else _.__rowNum__=t;if(!c||n[t])for(var w=e.s.c;w<=e.e.c;++w){var C=c?n[t][w]:n[r[w]+h];if(C===void 0||C.t===void 0){if(d===void 0)continue;l[w]!=null&&(_[l[w]]=d);continue}var E=C.v;switch(C.t){case"z":if(E==null)break;continue;case"e":E=E==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+C.t)}if(l[w]!=null){if(E==null)if(C.t=="e"&&E===null)_[l[w]]=null;else if(d!==void 0)_[l[w]]=d;else if(p&&E===null)_[l[w]]=null;else continue;else _[l[w]]=p&&(C.t!=="n"||C.t==="n"&&f.rawNumbers!==!1)?E:us(C,E,f);E!=null&&(y=!1)}}return{row:_,isempty:y}}function Md(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,a=1,l=[],c=0,f="",h={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},p=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof p){case"string":h=on(p);break;case"number":h=on(n["!ref"]),h.s.r=p;break;default:h=p}r>0&&(a=0);var y=cr(h.s.r),_=[],w=[],C=0,E=0,b=Array.isArray(n),j=h.s.r,R=0,M={};b&&!n[j]&&(n[j]=[]);var G=d.skipHidden&&n["!cols"]||[],te=d.skipHidden&&n["!rows"]||[];for(R=h.s.c;R<=h.e.c;++R)if(!(G[R]||{}).hidden)switch(_[R]=_r(R),t=b?n[j][R]:n[_[R]+y],r){case 1:l[R]=R-h.s.c;break;case 2:l[R]=_[R];break;case 3:l[R]=d.header[R-h.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),f=c=us(t,null,d),E=M[c]||0,!E)M[c]=1;else{do f=c+"_"+E++;while(M[f]);M[c]=E,M[f]=1}l[R]=f}for(j=h.s.r+a;j<=h.e.r;++j)if(!(te[j]||{}).hidden){var re=VV(n,h,j,_,r,l,b,d);(re.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(w[C++]=re.row)}return w.length=C,w}var rw=/"/g;function UV(n,e,t,r,a,l,c,f){for(var h=!0,d=[],p="",y=cr(t),_=e.s.c;_<=e.e.c;++_)if(r[_]){var w=f.dense?(n[t]||[])[_]:n[r[_]+y];if(w==null)p="";else if(w.v!=null){h=!1,p=""+(f.rawNumbers&&w.t=="n"?w.v:us(w,null,f));for(var C=0,E=0;C!==p.length;++C)if((E=p.charCodeAt(C))===a||E===l||E===34||f.forceQuotes){p='"'+p.replace(rw,'""')+'"';break}p=="ID"&&(p='"ID"')}else w.f!=null&&!w.F?(h=!1,p="="+w.f,p.indexOf(",")>=0&&(p='"'+p.replace(rw,'""')+'"')):p="";d.push(p)}return f.blankrows===!1&&h?null:d.join(c)}function Zv(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var a=on(n["!ref"]),l=r.FS!==void 0?r.FS:",",c=l.charCodeAt(0),f=r.RS!==void 0?r.RS:`
`,h=f.charCodeAt(0),d=new RegExp((l=="|"?"\\|":l)+"+$"),p="",y=[];r.dense=Array.isArray(n);for(var _=r.skipHidden&&n["!cols"]||[],w=r.skipHidden&&n["!rows"]||[],C=a.s.c;C<=a.e.c;++C)(_[C]||{}).hidden||(y[C]=_r(C));for(var E=0,b=a.s.r;b<=a.e.r;++b)(w[b]||{}).hidden||(p=UV(n,a,b,y,c,h,l,r),p!=null&&(r.strip&&(p=p.replace(d,"")),(p||r.blankrows!==!1)&&t.push((E++?f:"")+p)));return delete r.dense,t.join("")}function U4(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=Zv(n,e);return t}function zV(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var a=on(n["!ref"]),l="",c=[],f,h=[],d=Array.isArray(n);for(f=a.s.c;f<=a.e.c;++f)c[f]=_r(f);for(var p=a.s.r;p<=a.e.r;++p)for(l=cr(p),f=a.s.c;f<=a.e.c;++f)if(e=c[f]+l,t=d?(n[p]||[])[f]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}h[h.length]=e+"="+r}return h}function z4(n,e,t){var r=t||{},a=+!r.skipHeader,l=n||{},c=0,f=0;if(l&&r.origin!=null)if(typeof r.origin=="number")c=r.origin;else{var h=typeof r.origin=="string"?qn(r.origin):r.origin;c=h.r,f=h.c}var d,p={s:{c:0,r:0},e:{c:f,r:c+e.length-1+a}};if(l["!ref"]){var y=on(l["!ref"]);p.e.c=Math.max(p.e.c,y.e.c),p.e.r=Math.max(p.e.r,y.e.r),c==-1&&(c=y.e.r+1,p.e.r=c+e.length-1+a)}else c==-1&&(c=0,p.e.r=e.length-1+a);var _=r.header||[],w=0;e.forEach(function(E,b){fr(E).forEach(function(j){(w=_.indexOf(j))==-1&&(_[w=_.length]=j);var R=E[j],M="z",G="",te=Gt({c:f+w,r:c+b+a});d=Rf(l,te),R&&typeof R=="object"&&!(R instanceof Date)?l[te]=R:(typeof R=="number"?M="n":typeof R=="boolean"?M="b":typeof R=="string"?M="s":R instanceof Date?(M="d",r.cellDates||(M="n",R=Xr(R)),G=r.dateNF||yn[14]):R===null&&r.nullError&&(M="e",R=0),d?(d.t=M,d.v=R,delete d.w,delete d.R,G&&(d.z=G)):l[te]=d={t:M,v:R},G&&(d.z=G))})}),p.e.c=Math.max(p.e.c,f+_.length-1);var C=cr(c);if(a)for(w=0;w<_.length;++w)l[_r(w+f)+C]={t:"s",v:_[w]};return l["!ref"]=Mn(p),l}function HV(n,e){return z4(null,n,e)}function Rf(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=qn(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Rf(n,Gt(e)):Rf(n,Gt({r:e,c:t||0}))}function qV(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function GV(){return{SheetNames:[],Sheets:{}}}function YV(n,e,t,r){var a=1;if(!t)for(;a<=65535&&n.SheetNames.indexOf(t="Sheet"+a)!=-1;++a,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var l=t.match(/(^.*?)(\d+)$/);a=l&&+l[2]||0;var c=l&&l[1]||t;for(++a;a<=65535&&n.SheetNames.indexOf(t=c+a)!=-1;++a);}if(I4(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function XV(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=qV(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function WV(n,e){return n.z=e,n}function H4(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function $V(n,e,t){return H4(n,"#"+e,t)}function KV(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function QV(n,e,t,r){for(var a=typeof e!="string"?e:on(e),l=typeof e=="string"?e:Mn(e),c=a.s.r;c<=a.e.r;++c)for(var f=a.s.c;f<=a.e.c;++f){var h=Rf(n,c,f);h.t="n",h.F=l,delete h.v,c==a.s.r&&f==a.s.c&&(h.f=t,r&&(h.D=!0))}return n}var Cc={encode_col:_r,encode_row:cr,encode_cell:Gt,encode_range:Mn,decode_col:zv,decode_row:Uv,split_cell:hP,decode_cell:qn,decode_range:di,format_cell:us,sheet_add_aoa:zA,sheet_add_json:z4,sheet_add_dom:P4,aoa_to_sheet:Xc,json_to_sheet:HV,table_to_sheet:L4,table_to_book:EV,sheet_to_csv:Zv,sheet_to_txt:U4,sheet_to_json:Md,sheet_to_html:M4,sheet_to_formulae:zV,sheet_to_row_object_array:Md,sheet_get_cell:Rf,book_new:GV,book_append_sheet:YV,book_set_sheet_visibility:XV,cell_set_number_format:WV,cell_set_hyperlink:H4,cell_set_internal_link:$V,cell_add_comment:KV,sheet_set_array_formula:QV,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},JV="firebase",ZV="12.6.0";il(JV,ZV,"app");console.log("FB KEY =","AIzaSyD97NjWJOV7NPgAzEEgzX7U31yXkq6L0VI");const eU={apiKey:"AIzaSyD97NjWJOV7NPgAzEEgzX7U31yXkq6L0VI",authDomain:"my-shopping-cart-be7df.firebaseapp.com",projectId:"my-shopping-cart-be7df",storageBucket:"my-shopping-cart-be7df.firebasestorage.app",messagingSenderId:"968807957116",appId:"1:968807957116:web:b4d0c85cc06c9afed53ff9",measurementId:"G-M4E24RKXL0"},q4=Vw(eU),rt=tD(q4),zg=f8(q4),tU="";function nU({group:n,orders:e,currentUser:t,onEdit:r}){const a=t?.name===tU,[l,c]=Z.useState(n.exchangeRate||.21),[f,h]=Z.useState(n.shippingFee||0);Z.useEffect(()=>{n.exchangeRate!==void 0&&c(n.exchangeRate),n.shippingFee!==void 0&&h(n.shippingFee)},[n]);const d=async()=>{if(a)try{await mn(vt(rt,"artifacts","default-app-id","public","data","groups",n.id),{exchangeRate:Number(l),shippingFee:Number(f)}),console.log("")}catch(E){console.error("",E),alert("")}},p=Z.useMemo(()=>e.map(E=>{const b=E.items.reduce((R,M)=>R+M.quantity,0),j=E.items.reduce((R,M)=>R+M.price*M.quantity,0);return{userId:E.userId,userName:E.userName,totalQty:b,totalAmount:j}}).sort((E,b)=>b.totalAmount-E.totalAmount),[e]),y=p.reduce((E,b)=>E+b.totalAmount,0),_=p.reduce((E,b)=>E+b.totalQty,0),w=_>0?f/_:0,C=()=>{const E=[];e.forEach(R=>{R.items.forEach(M=>{const G=M.price*M.quantity,te=w*M.quantity,re=G+te;E.push({:R.userName,:M.name,:M.spec||"-"," ()":M.price,:M.quantity," ()":G," ()":Math.round(te)," () ()":Math.round(re)," (NT$)":Math.round(re*l),:new Date(R.updatedAt).toLocaleString()})})});const b=Cc.json_to_sheet(E),j=Cc.book_new();Cc.book_append_sheet(j,b,""),V4(j,`_${n.title}_${l}.xlsx`)};return g.jsxs("div",{className:"space-y-6 text-slate-800 font-sans",children:[g.jsxs("div",{className:"bg-slate-900 p-4 rounded-lg border-2 border-yellow-400 shadow-lg text-white",children:[g.jsxs("h4",{className:"font-black italic text-xl text-yellow-400 mb-3 transform -skew-x-3",children:[g.jsx(QS,{size:20,className:"inline mr-2 fill-yellow-400 text-slate-900"})," "]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-bold text-slate-400 flex items-center gap-1",children:[g.jsx(vd,{size:14,className:"text-red-500"}),"  (JPY  TWD)"]}),a?g.jsx("input",{type:"number",step:"0.001",value:l,onChange:E=>c(E.target.value),onBlur:d,className:"w-full px-3 py-1.5 rounded border-2 border-yellow-400 text-center font-black text-slate-900 focus:outline-none focus:ring-4 focus:ring-red-600 bg-yellow-100 shadow-md transition-all"}):g.jsx("span",{className:"font-mono text-2xl font-black text-yellow-400 bg-slate-800 px-3 py-1 rounded border border-yellow-400",children:l})]}),g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-sm font-bold text-slate-400 flex items-center gap-1",children:[g.jsx(Ov,{size:14,className:"text-red-500"}),"  (JPY)"]}),a?g.jsx("input",{type:"number",value:f,onChange:E=>h(E.target.value),onBlur:d,className:"w-full px-3 py-1.5 rounded border-2 border-yellow-400 text-center font-black text-slate-900 focus:outline-none focus:ring-4 focus:ring-red-600 bg-yellow-100 shadow-md transition-all"}):g.jsx("span",{className:"font-mono text-2xl font-black text-yellow-400 bg-slate-800 px-3 py-1 rounded border border-yellow-400",children:f})]})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-lg border-2 border-slate-900 shadow-[4px_4px_0px_0px_rgba(15,23,42,1)] gap-4 sm:gap-0",children:[g.jsxs("div",{className:"flex gap-6 text-sm font-bold",children:[g.jsxs("div",{children:[g.jsx("span",{className:"text-slate-500 block text-xs",children:""}),g.jsx("span",{className:"font-black text-3xl text-red-600 italic",children:_})]}),g.jsxs("div",{className:"border-l border-slate-200 pl-4",children:[g.jsx("span",{className:"text-slate-500 block text-xs",children:" ()"}),g.jsxs("div",{className:"flex flex-col leading-snug",children:[g.jsxs("span",{className:"font-black text-xl text-slate-900",children:["",(y+Number(f)).toLocaleString()]}),g.jsxs("span",{className:"text-sm text-yellow-600 font-black tracking-wider",children:[" NT$",Math.round((y+Number(f))*l).toLocaleString()]})]})]})]}),a&&g.jsxs("button",{onClick:C,className:"w-full sm:w-auto flex items-center justify-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded border-2 border-green-800 text-sm font-black italic shadow-[2px_2px_0px_0px_rgba(20,83,45,1)] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx($8,{size:18})," EXCEL "]})]}),g.jsxs("div",{className:"border-2 border-slate-900 rounded-lg overflow-hidden shadow-lg bg-white",children:[g.jsxs("div",{className:"bg-slate-900 px-4 py-3 text-xs font-black text-yellow-400 flex justify-between uppercase",children:[g.jsx("span",{children:" ()"}),g.jsx("span",{className:"text-right",children:" (TWD)"})]}),g.jsxs("div",{className:"divide-y divide-slate-200 max-h-60 overflow-y-auto bg-white",children:[p.map(E=>{const b=Math.round(w*E.totalQty),j=E.totalAmount+b,R=Math.round(j*l);return g.jsxs("div",{className:"flex justify-between items-center px-4 py-3 text-sm hover:bg-slate-50 transition-colors",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:"font-black text-slate-900 flex items-center gap-1",children:[g.jsx(oA,{size:14,className:"text-red-600"})," ",E.userName]}),g.jsxs("span",{className:"text-slate-500 text-xs italic",children:[E.totalQty," "]})]}),g.jsxs("div",{className:"text-right",children:[g.jsxs("div",{className:"font-black text-lg text-slate-900 font-mono",children:["",j.toLocaleString()]}),g.jsxs("div",{className:"text-xs font-bold bg-yellow-400/30 text-slate-900 px-1.5 py-0.5 rounded inline-block mt-1 border border-yellow-400",children:[" NT$",R.toLocaleString()]}),Number(f)>0&&g.jsxs("span",{className:"text-[10px] text-slate-400 font-medium ml-1 block",children:["(",E.totalAmount," + ",b,")"]})]})]},E.userId)}),p.length===0&&g.jsx("div",{className:"p-4 text-center text-slate-300 text-sm italic",children:""})]})]}),g.jsx("div",{className:"h-2 bg-yellow-400 border-t-2 border-slate-900 mt-5"}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("h4",{className:"font-black italic text-lg text-slate-900 flex items-center gap-2 transform -skew-x-3",children:[g.jsx(tA,{size:20,className:"text-red-600"})," "]}),e.map(E=>{const b=t&&E.userId===t.id,j=E.items.reduce((re,N)=>re+N.price*N.quantity,0),R=E.items.reduce((re,N)=>re+N.quantity,0),M=Math.round(w*R),G=j+M,te=Math.round(G*l);return g.jsxs("div",{className:`bg-white rounded-lg border-4 ${b?"border-red-600 shadow-[4px_4px_0px_0px_#FACC15]":"border-slate-900 shadow-md"} transition-all`,children:[g.jsxs("div",{className:`px-5 py-3 border-b-2 flex justify-between items-center ${b?"bg-red-50 border-red-200":"bg-slate-50 border-slate-100"}`,children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-black ${b?"bg-red-600 text-white":"bg-slate-900 text-yellow-400"}`,children:E.userName.charAt(0)}),g.jsxs("div",{className:"flex flex-col",children:[g.jsxs("span",{className:`font-black italic text-sm ${b?"text-red-700":"text-slate-900"}`,children:[E.userName," ",b&&"(YOU)"]}),g.jsx("span",{className:"text-[10px] text-slate-400 font-medium",children:new Date(E.updatedAt).toLocaleDateString()})]})]}),b&&r&&g.jsxs("button",{onClick:r,className:"flex items-center gap-1 bg-white text-blue-600 text-xs font-black px-3 py-1.5 rounded border-2 border-slate-900 shadow-sm hover:bg-blue-50 transition-all italic",children:[g.jsx(to,{size:14})," "]})]}),g.jsxs("div",{className:"p-5 bg-white",children:[g.jsx("ul",{className:"space-y-3",children:E.items.map((re,N)=>g.jsxs("li",{className:"flex justify-between items-start text-sm border-b border-dashed border-slate-200 last:border-0 pb-2 last:pb-0",children:[g.jsxs("div",{className:"flex flex-col",children:[g.jsx("span",{className:"text-slate-900 font-black text-base",children:re.name}),re.spec&&g.jsxs("span",{className:"text-slate-500 text-xs italic",children:[": ",re.spec]})]}),g.jsxs("div",{className:"flex flex-col items-end",children:[g.jsxs("span",{className:"font-black font-mono text-xl text-red-600 italic",children:["x ",re.quantity]}),g.jsx("div",{className:"text-right",children:g.jsxs("span",{className:"text-xs text-slate-500",children:["",re.price]})})]})]},N))}),g.jsxs("div",{className:"mt-4 pt-3 border-t-2 border-slate-200 flex flex-col items-end",children:[g.jsxs("div",{className:"flex gap-4 text-xs text-slate-400 mb-1 font-bold",children:[g.jsxs("span",{children:[" ",j.toLocaleString()]}),g.jsx("span",{children:"+"}),g.jsxs("span",{children:[" ",M]})]}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsx("span",{className:"text-slate-500 text-sm",children:"TOTAL JPY"}),g.jsxs("span",{className:"font-black text-slate-900 font-mono text-2xl",children:["",G.toLocaleString()]})]}),g.jsxs("div",{className:"text-lg font-black bg-yellow-400 text-slate-900 px-3 py-0.5 rounded mt-1 italic border-2 border-slate-900",children:[" NT$",te.toLocaleString()]})]})]})]},E.userId)})]})]})}const rU="",Yu=250;function iU({group:n,orders:e,currentUser:t,onUpdate:r}){const a=t?.name===rU,[l,c]=Z.useState(n.secondPayment?.weights||{}),[f,h]=Z.useState(n.secondPayment?.boxWeight||0),[d,p]=Z.useState(n.secondPayment?.minChargeDiff||0),y=Z.useMemo(()=>n.items||[],[n.items]),_=Z.useMemo(()=>{let E=0,b=0;const j=new Set;e.forEach(D=>{j.add(D.userId),D.items.forEach(L=>{const B=parseFloat(l[L.id]||l[L.itemId]||0);E+=B*L.quantity,b+=L.quantity})});const R=E+parseFloat(f||0),M=Math.max(.3,R),G=Math.round(M*Yu),te=parseFloat(f||0)*Yu,re=b>0?te/b:0,N=parseFloat(d||0),O=j.size,I=O>0?N/O:0;return{totalWeight:R.toFixed(2),billingWeight:M.toFixed(2),totalAmount:G,totalItemsCount:b,boxCostPerItem:re,minChargeTotal:N,minChargePerPerson:I}},[l,f,d,e]),w=()=>{r({weights:l,boxWeight:parseFloat(f),minChargeDiff:parseFloat(d)})},C=()=>{const E={};e.forEach(M=>{E[M.userId]||(E[M.userId]={name:M.userName,items:[],totalCost:0});let G=0;M.items.forEach(te=>{const N=parseFloat(l[te.id]||l[te.itemId]||0)*Yu+_.boxCostPerItem;G+=N*te.quantity,E[M.userId].items.push(`${te.name} x${te.quantity}`)}),E[M.userId].totalCost+=G});const b=Object.values(E).map(M=>({:M.name,:M.items.join(`
`)," (TWD)":Math.round(M.totalCost+_.minChargePerPerson),:""})),j=Cc.json_to_sheet(b);j["!cols"]=[{wch:15},{wch:40},{wch:15},{wch:20}];const R=Cc.book_new();Cc.book_append_sheet(R,j,""),V4(R,`_${n.title}.xlsx`)};return g.jsxs("div",{className:"space-y-6 font-sans text-slate-800",children:[g.jsxs("div",{className:"bg-slate-900 text-white p-4 rounded-xl border-2 border-yellow-400 shadow-lg",children:[g.jsxs("h4",{className:"font-black italic text-lg text-yellow-400 mb-3 flex items-center gap-2 transform -skew-x-3",children:[g.jsx(iA,{size:20}),"  (INTL SHIPPING)"]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[g.jsxs("div",{className:"bg-slate-800 p-2 rounded border border-slate-600 flex flex-col justify-center",children:[g.jsx("span",{className:"text-slate-400 block text-xs mb-1",children:" (Billing Weight)"}),g.jsxs("div",{className:"flex items-baseline gap-2",children:[g.jsxs("span",{className:"text-xl font-mono font-bold text-white",children:[_.billingWeight," kg"]}),g.jsxs("span",{className:"text-[10px] text-slate-500",children:["( ",_.totalWeight," kg)"]})]})]}),g.jsxs("div",{className:"bg-slate-800 p-2 rounded border border-slate-600 flex flex-col justify-center",children:[g.jsx("span",{className:"text-slate-400 block text-xs mb-1",children:" (Total Cost)"}),g.jsxs("span",{className:"text-xl font-mono font-bold text-yellow-400",children:["NT$ ",_.totalAmount]})]})]}),g.jsxs("div",{className:"mt-2 text-xs text-slate-400 flex items-center gap-1",children:[g.jsx(Cv,{size:12})," NT$250/kg ( 0.3kg  0.3kg )"]})]}),g.jsx("div",{className:"border-2 border-slate-900 rounded-lg overflow-hidden",children:g.jsxs("table",{className:"w-full text-sm",children:[g.jsx("thead",{className:"bg-slate-100 border-b-2 border-slate-900 text-slate-700 font-bold",children:g.jsxs("tr",{children:[g.jsx("th",{className:"p-3 text-left",children:""}),g.jsx("th",{className:"p-3 text-center w-24",children:""}),g.jsx("th",{className:"p-3 text-right",children:""})]})}),g.jsxs("tbody",{className:"divide-y divide-slate-200",children:[y.map(E=>{const b=parseFloat(l[E.id]||0),j=Math.round(b*Yu+_.boxCostPerItem);return g.jsxs("tr",{className:"bg-white hover:bg-slate-50",children:[g.jsxs("td",{className:"p-3 font-medium text-slate-900",children:[E.name," ",g.jsx("span",{className:"text-xs text-slate-400 block",children:E.spec})]}),g.jsx("td",{className:"p-3 text-center",children:a?g.jsx("input",{type:"number",step:"0.01",className:"w-20 border-2 border-slate-300 rounded px-1 text-center font-bold focus:border-yellow-400 focus:outline-none",placeholder:"kg",value:l[E.id]||"",onChange:R=>c({...l,[E.id]:R.target.value})}):g.jsxs("span",{className:"font-mono",children:[b||"-"," kg"]})}),g.jsxs("td",{className:"p-3 text-right font-bold text-slate-700",children:["NT$ ",j,g.jsx("span",{className:"text-[10px] text-slate-400 font-normal",children:"/"})]})]},E.id)}),g.jsxs("tr",{className:"bg-yellow-50/50",children:[g.jsxs("td",{className:"p-3 font-black text-slate-800 flex items-center gap-2",children:[g.jsx(Rv,{size:16}),"  (Shared Box)"]}),g.jsx("td",{className:"p-3 text-center",children:a?g.jsx("input",{type:"number",step:"0.01",className:"w-20 border-2 border-yellow-400 rounded px-1 text-center font-bold focus:outline-none bg-white",placeholder:"kg",value:f,onChange:E=>h(E.target.value)}):g.jsxs("span",{className:"font-mono",children:[f," kg"]})}),g.jsxs("td",{className:"p-3 text-right text-xs text-slate-500",children:[g.jsxs("span",{className:"font-bold text-slate-700 block",children:["NT$ ",Math.round(_.boxCostPerItem),"/"]}),"()"]})]}),g.jsxs("tr",{className:"bg-blue-50/50",children:[g.jsxs("td",{className:"p-3 font-black text-slate-800 flex items-center gap-2",children:[g.jsx(KM,{size:16}),"  (Min Charge)"]}),g.jsx("td",{className:"p-3 text-center",children:a?g.jsx("input",{type:"number",className:"w-20 border-2 border-blue-400 rounded px-1 text-center font-bold focus:outline-none bg-white",placeholder:"NT$",value:d,onChange:E=>p(E.target.value)}):g.jsxs("span",{className:"font-mono",children:["NT$ ",d]})}),g.jsxs("td",{className:"p-3 text-right text-xs text-slate-500",children:[g.jsxs("span",{className:"font-bold text-slate-700 block",children:["NT$ ",Math.round(_.minChargePerPerson),"/"]}),"()"]})]})]})]})}),g.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg border-2 border-slate-200",children:[g.jsxs("h5",{className:"font-bold text-slate-700 mb-2 border-b border-slate-300 pb-1 flex justify-between items-end",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-[10px] text-slate-400 font-normal",children:"(x250) + (x) + "})]}),g.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:e.map(E=>{let b=0;return E.items.forEach(j=>{const M=parseFloat(l[j.id]||l[j.itemId]||0)*Yu+_.boxCostPerItem;b+=M*j.quantity}),b+=_.minChargePerPerson,g.jsxs("div",{className:"flex justify-between text-sm hover:bg-slate-100 p-1 rounded",children:[g.jsxs("span",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-bold text-slate-700",children:E.userName}),g.jsxs("span",{className:"text-xs text-slate-400",children:["(",E.items.reduce((j,R)=>j+R.quantity,0)," )"]})]}),g.jsxs("span",{className:"font-mono font-black text-slate-900",children:["NT$ ",Math.round(b)]})]},E.userId)})})]}),a&&g.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[g.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded font-black border-2 border-green-800 hover:bg-green-700 shadow-[4px_4px_0px_0px_#166534] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(tA,{size:18}),"  Excel"]}),g.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-6 py-2 bg-slate-900 text-yellow-400 rounded font-black border-2 border-slate-900 hover:bg-slate-800 shadow-[4px_4px_0px_0px_#FACC15] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(xo,{size:18})," "]})]})]})}function G4({onSubmit:n}){const[e,t]=Z.useState("");return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsx("label",{className:"text-stone-600 text-sm font-bold tracking-wide",children:""}),g.jsx("input",{type:"password",className:"border border-stone-200 rounded-lg px-3 py-2",placeholder:"",value:e,onChange:r=>t(r.target.value)})]}),g.jsx("button",{className:"w-full py-2 bg-orange-400 text-white rounded-lg font-bold hover:bg-orange-500 disabled:opacity-50",onClick:()=>n(e),disabled:!e,children:""})]})}const aU=n=>new Promise(e=>{const t=new FileReader;t.readAsDataURL(n),t.onload=r=>{const a=new Image;a.src=r.target.result,a.onload=()=>{const l=document.createElement("canvas"),c=500,f=500;let h=a.width,d=a.height;h>d?h>c&&(d*=c/h,h=c):d>f&&(h*=f/d,d=f),l.width=h,l.height=d,l.getContext("2d").drawImage(a,0,0,h,d),e(l.toDataURL("image/jpeg",.7))}}});function Y4({currentUser:n,onSubmit:e}){const[t,r]=Z.useState(n?.avatar||""),[a,l]=Z.useState(null),c=async h=>{h.target.files&&h.target.files[0]&&l(await aU(h.target.files[0]))},f=()=>{const h=a||t;h&&e(h)};return g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-orange-100 shadow-md",children:g.jsx("img",{src:a||t||n?.avatar,className:"w-full h-full object-cover",alt:"avatar",onError:h=>h.target.src=`https://api.dicebear.com/7.x/avataaars/svg?seed=${n?.name}&backgroundColor=ffdfbf`})})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[g.jsxs("label",{className:"text-stone-600 text-sm font-bold flex items-center gap-2",children:[g.jsx(qf,{size:16})," "]}),g.jsx("input",{type:"text",className:"border border-stone-200 rounded-lg px-3 py-2 text-sm",placeholder:"",value:t,onChange:h=>{r(h.target.value),l(null)}})]}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("span",{className:"w-full border-t border-stone-200"})}),g.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:g.jsx("span",{className:"bg-white px-2 text-stone-400",children:""})})]}),g.jsxs("div",{className:"flex flex-col gap-2",children:[g.jsxs("label",{className:"text-stone-600 text-sm font-bold flex items-center gap-2",children:[g.jsx(Dv,{size:16})," "]}),g.jsx("input",{type:"file",accept:"image/*",onChange:c,className:"block w-full text-sm text-stone-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-bold file:bg-orange-50 file:text-orange-600 hover:file:bg-orange-100 cursor-pointer"})]})]}),g.jsx("button",{className:"w-full py-2 bg-orange-400 text-white rounded-lg font-bold hover:bg-orange-500",onClick:f,children:""})]})}function X4({currentUser:n,onSubmit:e,onCancel:t}){const[r,a]=Z.useState(n?.name||""),l=c=>{if(c.preventDefault(),!r.trim())return alert("");if(r.trim()===n?.name)return alert("");e(r)};return g.jsxs("form",{onSubmit:l,className:"space-y-4 font-sans text-slate-800",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-black text-slate-700 mb-1",children:" (Nickname)"}),g.jsxs("div",{className:"relative",children:[g.jsx(Pc,{size:16,className:"absolute left-3 top-3 text-slate-400"}),g.jsx("input",{type:"text",value:r,onChange:c=>a(c.target.value),className:"w-full border-2 border-slate-900 rounded p-2 pl-9 focus:outline-none focus:ring-4 focus:ring-yellow-400 font-bold bg-slate-50 text-slate-900",placeholder:"",autoFocus:!0})]}),g.jsx("p",{className:"text-xs text-slate-400 mt-1 pl-1",children:"* "})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-slate-100",children:[g.jsxs("button",{type:"button",onClick:t,className:"px-4 py-2 rounded border-2 border-slate-300 text-slate-600 font-bold hover:bg-slate-100 transition-all",children:[g.jsx(fi,{size:16,className:"inline mr-1"})," "]}),g.jsxs("button",{type:"submit",className:"px-4 py-2 bg-slate-900 text-yellow-400 rounded font-black border-2 border-slate-900 hover:bg-slate-800 shadow-[2px_2px_0px_0px_#FACC15] active:translate-y-0.5 active:shadow-none transition-all",children:[g.jsx(xo,{size:16,className:"inline mr-1"})," "]})]})]})}const Hr=({isOpen:n,onClose:e,title:t,children:r})=>(Z.useEffect(()=>{const a=l=>{l.key==="Escape"&&e()};return n&&window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[n,e]),n?g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-900/90 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:g.jsxs("div",{className:`\r
            bg-white w-full max-w-lg rounded-lg overflow-hidden relative \r
            border-4 border-slate-900 \r
            shadow-[8px_8px_0px_0px_#FACC15] \r
            animate-in zoom-in-95 duration-300\r
        `,onClick:a=>a.stopPropagation(),children:[g.jsxs("div",{className:"bg-slate-900 p-4 border-b-4 border-slate-900 flex justify-between items-center relative overflow-hidden",children:[g.jsx("div",{className:"absolute top-0 right-0 w-20 h-20 bg-slate-800 rotate-45 transform translate-x-10 -translate-y-10"}),g.jsxs("div",{className:"flex items-center gap-2 relative z-10",children:[g.jsx(yd,{className:"text-yellow-400 fill-yellow-400",size:24}),g.jsx("h3",{className:"text-xl font-black italic tracking-wider text-yellow-400 uppercase transform -skew-x-6",children:t})]}),g.jsx("button",{onClick:e,className:`\r
                    relative z-10 \r
                    bg-red-600 hover:bg-red-700 text-white \r
                    p-1.5 rounded border-2 border-white \r
                    transition-transform hover:scale-110 active:scale-95\r
                    shadow-lg\r
                `,children:g.jsx(fi,{size:20,strokeWidth:3})})]}),g.jsx("div",{className:"p-6 max-h-[80vh] overflow-y-auto bg-white",children:r}),g.jsxs("div",{className:"h-2 bg-yellow-400 border-t-2 border-slate-900 flex",children:[g.jsx("div",{className:"w-1/3 bg-red-600 border-r-2 border-slate-900"}),g.jsx("div",{className:"w-1/3 bg-white border-r-2 border-slate-900"}),g.jsx("div",{className:"w-1/3 bg-blue-600"})]})]})}):null);function iw({images:n}){const[e,t]=Z.useState(0),r=Array.isArray(n)&&n.length>0?n:[];if(r.length===0)return g.jsx("div",{className:"w-full h-full flex items-center justify-center bg-stone-100 text-stone-300",children:g.jsx(qf,{size:24,className:"opacity-20"})});const a=c=>{c.stopPropagation(),t(f=>(f+1)%r.length)},l=c=>{c.stopPropagation(),t(f=>(f-1+r.length)%r.length)};return g.jsxs("div",{className:"relative w-full h-full bg-stone-100 group",children:[g.jsx("img",{src:r[e],alt:"product",className:"w-full h-full object-cover transition-transform duration-500 hover:scale-105"}),r.length>1&&g.jsxs(g.Fragment,{children:[g.jsx("button",{onClick:l,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white text-stone-600",children:g.jsx(D8,{size:16})}),g.jsx("button",{onClick:a,className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-1 rounded-full opacity-0 group-hover:opacity-100 transition-opacity hover:bg-white text-stone-600",children:g.jsx(M8,{size:16})}),g.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1",children:r.map((c,f)=>g.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${f===e?"bg-orange-500":"bg-white/70"}`},f))})]})]})}const sU=({initialContent:n,onChange:e})=>{const t=Z.useRef(null);Z.useEffect(()=>{t.current&&t.current.innerHTML!==n&&(t.current.innerHTML=n)},[n]);const r=(c,f=null)=>{document.execCommand(c,!1,f),t.current&&e(t.current.innerHTML)},a=[{name:"Black",value:"#000000"},{name:"Red",value:"#EF4444"},{name:"Orange",value:"#F97316"},{name:"Blue",value:"#3B82F6"}],l=({onClick:c,title:f,children:h})=>g.jsx("button",{type:"button",onClick:c,title:f,className:"p-1.5 hover:bg-slate-200 rounded text-slate-600 transition-colors",children:h});return g.jsxs("div",{className:"border-2 border-slate-900 rounded-lg overflow-hidden flex flex-col h-64 bg-white shadow-sm",children:[g.jsxs("div",{className:"bg-slate-50 border-b-2 border-slate-900 p-2 flex flex-wrap gap-1 items-center",children:[g.jsxs("div",{className:"flex gap-0.5 border-r border-slate-300 pr-1.5 mr-1.5",children:[g.jsx(l,{onClick:()=>r("bold"),title:"",children:g.jsx(C8,{size:14})}),g.jsx(l,{onClick:()=>r("italic"),title:"",children:g.jsx(eM,{size:14})}),g.jsx(l,{onClick:()=>r("underline"),title:"",children:g.jsx(YM,{size:14})})]}),g.jsxs("div",{className:"flex gap-0.5 border-r border-slate-300 pr-1.5 mr-1.5",children:[g.jsx(l,{onClick:()=>r("justifyLeft"),title:"",children:g.jsx(VM,{size:14})}),g.jsx(l,{onClick:()=>r("justifyCenter"),title:"",children:g.jsx(FM,{size:14})}),g.jsx(l,{onClick:()=>r("justifyRight"),title:"",children:g.jsx(LM,{size:14})})]}),g.jsxs("div",{className:"flex gap-0.5 border-r border-slate-300 pr-1.5 mr-1.5",children:[g.jsx(l,{onClick:()=>r("fontSize","5"),title:"",children:g.jsx(kg,{size:16})}),g.jsx(l,{onClick:()=>r("fontSize","3"),title:"",children:g.jsx(kg,{size:12})}),g.jsx(l,{onClick:()=>r("fontSize","1"),title:"",children:g.jsx(kg,{size:10})})]}),g.jsx("div",{className:"flex gap-0.5 border-r border-slate-300 pr-1.5 mr-1.5",children:a.map(c=>g.jsx("button",{type:"button",onClick:()=>r("foreColor",c.value),className:"w-5 h-5 rounded border border-slate-300 hover:scale-110 transition-transform",style:{backgroundColor:c.value},title:c.name},c.value))}),g.jsx(l,{onClick:()=>{const c=prompt(":","http://");c&&r("createLink",c)},title:"",children:g.jsx(xd,{size:14})})]}),g.jsx("div",{className:"flex-1 p-4 focus:outline-none overflow-y-auto prose prose-slate prose-sm max-w-none",contentEditable:!0,suppressContentEditableWarning:!0,ref:t,onInput:c=>e(c.currentTarget.innerHTML)})]})};var Ri=function(n,e){return Number(n.toFixed(e))},lU=function(n,e){return e},hn=function(n,e,t){t&&typeof t=="function"&&t(n,e)},oU=function(n){return-Math.cos(n*Math.PI)/2+.5},cU=function(n){return n},uU=function(n){return n*n},fU=function(n){return n*(2-n)},hU=function(n){return n<.5?2*n*n:-1+(4-2*n)*n},dU=function(n){return n*n*n},mU=function(n){return--n*n*n+1},pU=function(n){return n<.5?4*n*n*n:(n-1)*(2*n-2)*(2*n-2)+1},gU=function(n){return n*n*n*n},vU=function(n){return 1- --n*n*n*n},xU=function(n){return n<.5?8*n*n*n*n:1-8*--n*n*n*n},yU=function(n){return n*n*n*n*n},_U=function(n){return 1+--n*n*n*n*n},EU=function(n){return n<.5?16*n*n*n*n*n:1+16*--n*n*n*n*n},W4={easeOut:oU,linear:cU,easeInQuad:uU,easeOutQuad:fU,easeInOutQuad:hU,easeInCubic:dU,easeOutCubic:mU,easeInOutCubic:pU,easeInQuart:gU,easeOutQuart:vU,easeInOutQuart:xU,easeInQuint:yU,easeOutQuint:_U,easeInOutQuint:EU},$4=function(n){typeof n=="number"&&cancelAnimationFrame(n)},$i=function(n){n.mounted&&($4(n.animation),n.animate=!1,n.animation=null,n.velocity=null)};function K4(n,e,t,r){if(n.mounted){var a=new Date().getTime(),l=1;$i(n),n.animation=function(){if(!n.mounted)return $4(n.animation);var c=new Date().getTime()-a,f=c/t,h=W4[e],d=h(f);c>=t?(r(l),n.animation=null):n.animation&&(r(d),requestAnimationFrame(n.animation))},requestAnimationFrame(n.animation)}}function TU(n){var e=n.scale,t=n.positionX,r=n.positionY;return!(Number.isNaN(e)||Number.isNaN(t)||Number.isNaN(r))}function Al(n,e,t,r){var a=TU(e);if(!(!n.mounted||!a)){var l=n.setTransformState,c=n.transformState,f=c.scale,h=c.positionX,d=c.positionY,p=e.scale-f,y=e.positionX-h,_=e.positionY-d;t===0?l(e.scale,e.positionX,e.positionY):K4(n,r,t,function(w){var C=f+p*w,E=h+y*w,b=d+_*w;l(C,E,b)})}}function wU(n,e,t){var r=n.offsetWidth,a=n.offsetHeight,l=e.offsetWidth,c=e.offsetHeight,f=l*t,h=c*t,d=r-f,p=a-h;return{wrapperWidth:r,wrapperHeight:a,newContentWidth:f,newDiffWidth:d,newContentHeight:h,newDiffHeight:p}}var bU=function(n,e,t,r,a,l,c){var f=n>e?t*(c?1:.5):0,h=r>a?l*(c?1:.5):0,d=n-e-f,p=f,y=r-a-h,_=h;return{minPositionX:d,maxPositionX:p,minPositionY:y,maxPositionY:_}},ex=function(n,e){var t=n.wrapperComponent,r=n.contentComponent,a=n.setup.centerZoomedOut;if(!t||!r)throw new Error("Components are not mounted");var l=wU(t,r,e),c=l.wrapperWidth,f=l.wrapperHeight,h=l.newContentWidth,d=l.newDiffWidth,p=l.newContentHeight,y=l.newDiffHeight,_=bU(c,h,d,f,p,y,!!a);return _},w1=function(n,e,t,r){return r?n<e?Ri(e,2):n>t?Ri(t,2):Ri(n,2):Ri(n,2)},ao=function(n,e){var t=ex(n,e);return n.bounds=t,t};function Jf(n,e,t,r,a,l,c){var f=t.minPositionX,h=t.minPositionY,d=t.maxPositionX,p=t.maxPositionY,y=0,_=0;c&&(y=a,_=l);var w=w1(n,f-y,d+y,r),C=w1(e,h-_,p+_,r);return{x:w,y:C}}function gm(n,e,t,r,a,l){var c=n.transformState,f=c.scale,h=c.positionX,d=c.positionY,p=r-f;if(typeof e!="number"||typeof t!="number")return console.error("Mouse X and Y position were not provided!"),{x:h,y:d};var y=h-e*p,_=d-t*p,w=Jf(y,_,a,l,0,0,null);return w}function Zf(n,e,t,r,a){var l=a?r:0,c=e-l;return!Number.isNaN(t)&&n>=t?t:!Number.isNaN(e)&&n<=c?c:n}var aw=function(n,e){var t=n.setup.panning.excluded,r=n.isInitialized,a=n.wrapperComponent,l=e.target,c="shadowRoot"in l&&"composedPath"in e,f=c?e.composedPath().some(function(p){return p instanceof Element?a?.contains(p):!1}):a?.contains(l),h=r&&l&&f;if(!h)return!1;var d=vm(l,t);return!d},sw=function(n){var e=n.isInitialized,t=n.isPanning,r=n.setup,a=r.panning.disabled,l=e&&t&&!a;return!!l},SU=function(n,e){var t=n.transformState,r=t.positionX,a=t.positionY;n.isPanning=!0;var l=e.clientX,c=e.clientY;n.startCoords={x:l-r,y:c-a}},AU=function(n,e){var t=e.touches,r=n.transformState,a=r.positionX,l=r.positionY;n.isPanning=!0;var c=t.length===1;if(c){var f=t[0].clientX,h=t[0].clientY;n.startCoords={x:f-a,y:h-l}}};function CU(n){var e=n.transformState,t=e.positionX,r=e.positionY,a=e.scale,l=n.setup,c=l.disabled,f=l.limitToBounds,h=l.centerZoomedOut,d=n.wrapperComponent;if(!(c||!d||!n.bounds)){var p=n.bounds,y=p.maxPositionX,_=p.minPositionX,w=p.maxPositionY,C=p.minPositionY,E=t>y||t<_,b=r>w||r<C,j=t>y?d.offsetWidth:n.setup.minPositionX||0,R=r>w?d.offsetHeight:n.setup.minPositionY||0,M=gm(n,j,R,a,n.bounds,f||h),G=M.x,te=M.y;return{scale:a,positionX:E?G:t,positionY:b?te:r}}}function Q4(n,e,t,r,a){var l=n.setup.limitToBounds,c=n.wrapperComponent,f=n.bounds,h=n.transformState,d=h.scale,p=h.positionX,y=h.positionY;if(!(c===null||f===null||e===p&&t===y)){var _=Jf(e,t,f,l,r,a,c),w=_.x,C=_.y;n.setTransformState(d,w,C)}}var NU=function(n,e,t){var r=n.startCoords,a=n.transformState,l=n.setup.panning,c=l.lockAxisX,f=l.lockAxisY,h=a.positionX,d=a.positionY;if(!r)return{x:h,y:d};var p=e-r.x,y=t-r.y,_=c?h:p,w=f?d:y;return{x:_,y:w}},El=function(n,e){var t=n.setup,r=n.transformState,a=r.scale,l=t.minScale,c=t.disablePadding;return e>0&&a>=l&&!c?e:0},RU=function(n){var e=n.mounted,t=n.setup,r=t.disabled,a=t.velocityAnimation,l=n.transformState.scale,c=a.disabled,f=!c||l>1||!r||e;return!!f},IU=function(n){var e=n.mounted,t=n.velocity,r=n.bounds,a=n.setup,l=a.disabled,c=a.velocityAnimation,f=n.transformState.scale,h=c.disabled,d=!h||f>1||!l||e;return!(!d||!t||!r)};function OU(n,e){var t=n.setup.velocityAnimation,r=t.equalToMove,a=t.animationTime,l=t.sensitivity;return r?a*e*l:a}function lw(n,e,t,r,a,l,c,f,h,d){if(a){if(e>c&&t>c){var p=c+(n-c)*d;return p>h?h:p<c?c:p}if(e<l&&t<l){var p=l+(n-l)*d;return p<f?f:p>l?l:p}}return r?e:w1(n,l,c,a)}function DU(n,e){var t=1;return e?Math.min(t,n.offsetWidth/window.innerWidth):t}function kU(n,e){var t=RU(n);if(t){var r=n.lastMousePosition,a=n.velocityTime,l=n.setup,c=n.wrapperComponent,f=l.velocityAnimation.equalToMove,h=Date.now();if(r&&a&&c){var d=DU(c,f),p=e.x-r.x,y=e.y-r.y,_=p/d,w=y/d,C=h-a,E=p*p+y*y,b=Math.sqrt(E)/C;n.velocity={velocityX:_,velocityY:w,total:b}}n.lastMousePosition=e,n.velocityTime=h}}function MU(n){var e=n.velocity,t=n.bounds,r=n.setup,a=n.wrapperComponent,l=IU(n);if(!(!l||!e||!t||!a)){var c=e.velocityX,f=e.velocityY,h=e.total,d=t.maxPositionX,p=t.minPositionX,y=t.maxPositionY,_=t.minPositionY,w=r.limitToBounds,C=r.alignmentAnimation,E=r.zoomAnimation,b=r.panning,j=b.lockAxisY,R=b.lockAxisX,M=E.animationType,G=C.sizeX,te=C.sizeY,re=C.velocityAlignmentTime,N=re,O=OU(n,h),I=Math.max(O,N),D=El(n,G),L=El(n,te),B=D*a.offsetWidth/100,V=L*a.offsetHeight/100,$e=d+B,Ue=p-B,de=y+V,be=_-V,qe=n.transformState,Ze=new Date().getTime();K4(n,M,I,function(Je){var ee=n.transformState,F=ee.scale,J=ee.positionX,W=ee.positionY,K=new Date().getTime()-Ze,pe=K/N,Re=W4[C.animationType],Be=1-Re(Math.min(1,pe)),Oe=1-Je,ke=J+c*Oe,gt=W+f*Oe,lt=lw(ke,qe.positionX,J,R,w,p,d,Ue,$e,Be),en=lw(gt,qe.positionY,W,j,w,_,y,be,de,Be);(J!==ke||W!==gt)&&n.setTransformState(F,lt,en)})}}function ow(n,e){var t=n.transformState.scale;$i(n),ao(n,t),window.TouchEvent!==void 0&&e instanceof TouchEvent?AU(n,e):SU(n,e)}function tx(n,e){var t=n.transformState.scale,r=n.setup,a=r.minScale,l=r.alignmentAnimation,c=l.disabled,f=l.sizeX,h=l.sizeY,d=l.animationTime,p=l.animationType,y=c||t<a||!f&&!h;if(!y){var _=CU(n);_&&Al(n,_,e??d,p)}}function cw(n,e,t){var r=n.startCoords,a=n.setup,l=a.alignmentAnimation,c=l.sizeX,f=l.sizeY;if(r){var h=NU(n,e,t),d=h.x,p=h.y,y=El(n,c),_=El(n,f);kU(n,{x:d,y:p}),Q4(n,d,p,y,_)}}function PU(n){if(n.isPanning){var e=n.setup.panning.velocityDisabled,t=n.velocity,r=n.wrapperComponent,a=n.contentComponent;n.isPanning=!1,n.animate=!1,n.animation=null;var l=r?.getBoundingClientRect(),c=a?.getBoundingClientRect(),f=l?.width||0,h=l?.height||0,d=c?.width||0,p=c?.height||0,y=f<d||h<p,_=!e&&t&&t?.total>.1&&y;_?MU(n):tx(n)}}function nx(n,e,t,r){var a=n.setup,l=a.minScale,c=a.maxScale,f=a.limitToBounds,h=Zf(Ri(e,2),l,c,0,!1),d=ao(n,h),p=gm(n,t,r,h,d,f),y=p.x,_=p.y;return{scale:h,positionX:y,positionY:_}}function J4(n,e,t){var r=n.transformState.scale,a=n.wrapperComponent,l=n.setup,c=l.minScale,f=l.limitToBounds,h=l.zoomAnimation,d=h.disabled,p=h.animationTime,y=h.animationType,_=d||r>=c;if((r>=1||f)&&tx(n),!(_||!a||!n.mounted)){var w=e||a.offsetWidth/2,C=t||a.offsetHeight/2,E=nx(n,c,w,C);E&&Al(n,E,p,y)}}var ol=function(){return ol=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l])}return e},ol.apply(this,arguments)};function uw(n,e,t){for(var r=0,a=e.length,l;r<a;r++)(l||!(r in e))&&(l||(l=Array.prototype.slice.call(e,0,r)),l[r]=e[r]);return n.concat(l||Array.prototype.slice.call(e))}var k0={scale:1,positionX:0,positionY:0},Xu={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},b1={wrapperClass:"react-transform-wrapper",contentClass:"react-transform-component"},Z4=function(n){var e,t,r,a;return{previousScale:(e=n.initialScale)!==null&&e!==void 0?e:k0.scale,scale:(t=n.initialScale)!==null&&t!==void 0?t:k0.scale,positionX:(r=n.initialPositionX)!==null&&r!==void 0?r:k0.positionX,positionY:(a=n.initialPositionY)!==null&&a!==void 0?a:k0.positionY}},fw=function(n){var e=ol({},Xu);return Object.keys(n).forEach(function(t){var r=typeof n[t]<"u",a=typeof Xu[t]<"u";if(a&&r){var l=Object.prototype.toString.call(Xu[t]),c=l==="[object Object]",f=l==="[object Array]";c?e[t]=ol(ol({},Xu[t]),n[t]):f?e[t]=uw(uw([],Xu[t],!0),n[t]):e[t]=n[t]}}),e},eC=function(n,e,t){var r=n.transformState.scale,a=n.wrapperComponent,l=n.setup,c=l.maxScale,f=l.minScale,h=l.zoomAnimation,d=l.smooth,p=h.size;if(!a)throw new Error("Wrapper is not mounted");var y=d?r*Math.exp(e*t):r+e*t,_=Zf(Ri(y,3),f,c,p,!1);return _};function tC(n,e,t,r,a){var l=n.wrapperComponent,c=n.transformState,f=c.scale,h=c.positionX,d=c.positionY;if(!l)return console.error("No WrapperComponent found");var p=l.offsetWidth,y=l.offsetHeight,_=(p/2-h)/f,w=(y/2-d)/f,C=eC(n,e,t),E=nx(n,C,_,w);if(!E)return console.error("Error during zoom event. New transformation state was not calculated.");Al(n,E,r,a)}function nC(n,e,t,r){var a=n.setup,l=n.wrapperComponent,c=a.limitToBounds,f=Z4(n.props),h=n.transformState,d=h.scale,p=h.positionX,y=h.positionY;if(l){var _=ex(n,f.scale),w=Jf(f.positionX,f.positionY,_,c,0,0,l),C={scale:f.scale,positionX:w.x,positionY:w.y};d===f.scale&&p===f.positionX&&y===f.positionY||(r?.(),Al(n,C,e,t))}}function LU(n,e,t,r){var a=n.getBoundingClientRect(),l=e.getBoundingClientRect(),c=t.getBoundingClientRect(),f=l.x*r.scale,h=l.y*r.scale;return{x:(a.x-c.x+f)/r.scale,y:(a.y-c.y+h)/r.scale}}function jU(n,e,t){var r=n.wrapperComponent,a=n.contentComponent,l=n.transformState,c=n.setup,f=c.limitToBounds,h=c.minScale,d=c.maxScale;if(!r||!a)return l;var p=r.getBoundingClientRect(),y=e.getBoundingClientRect(),_=LU(e,r,a,l),w=_.x,C=_.y,E=y.width/l.scale,b=y.height/l.scale,j=r.offsetWidth/E,R=r.offsetHeight/b,M=Zf(t||Math.min(j,R),h,d,0,!1),G=(p.width-E*M)/2,te=(p.height-b*M)/2,re=(p.left-w)*M+G,N=(p.top-C)*M+te,O=ex(n,M),I=Jf(re,N,O,f,0,0,r),D=I.x,L=I.y;return{positionX:D,positionY:L,scale:M}}var FU=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),tC(n,1,e,t,r)}},BU=function(n){return function(e,t,r){e===void 0&&(e=.5),t===void 0&&(t=300),r===void 0&&(r="easeOut"),tC(n,-1,e,t,r)}},VU=function(n){return function(e,t,r,a,l){a===void 0&&(a=300),l===void 0&&(l="easeOut");var c=n.transformState,f=c.positionX,h=c.positionY,d=c.scale,p=n.wrapperComponent,y=n.contentComponent,_=n.setup.disabled;if(!(_||!p||!y)){var w={positionX:Number.isNaN(e)?f:e,positionY:Number.isNaN(t)?h:t,scale:Number.isNaN(r)?d:r};Al(n,w,a,l)}}},UU=function(n){return function(e,t){e===void 0&&(e=200),t===void 0&&(t="easeOut"),nC(n,e,t)}},zU=function(n){return function(e,t,r){t===void 0&&(t=200),r===void 0&&(r="easeOut");var a=n.transformState,l=n.wrapperComponent,c=n.contentComponent;if(l&&c){var f=rC(e||a.scale,l,c);Al(n,f,t,r)}}},HU=function(n){return function(e,t,r,a){r===void 0&&(r=600),a===void 0&&(a="easeOut"),$i(n);var l=n.wrapperComponent,c=typeof e=="string"?document.getElementById(e):e;if(l&&c&&l.contains(c)){var f=jU(n,c,t);Al(n,f,r,a)}}},S1=function(n){return{instance:n,zoomIn:FU(n),zoomOut:BU(n),setTransform:VU(n),resetTransform:UU(n),centerView:zU(n),zoomToElement:HU(n)}},qU=function(n){return{instance:n,state:n.transformState}},nn=function(n){var e={};return Object.assign(e,qU(n)),Object.assign(e,S1(n)),e},Hg=!1;function qg(){try{var n={get passive(){return Hg=!0,!1}};return n}catch{return Hg=!1,Hg}}var M0=".".concat(b1.wrapperClass),vm=function(n,e){return e.some(function(t){return n.matches("".concat(M0," ").concat(t,", ").concat(M0," .").concat(t,", ").concat(M0," ").concat(t," *, ").concat(M0," .").concat(t," *"))})},A1=function(n){n&&clearTimeout(n)},GU=function(n,e,t){return"translate(".concat(n,"px, ").concat(e,"px) scale(").concat(t,")")},rC=function(n,e,t){var r=t.offsetWidth*n,a=t.offsetHeight*n,l=(e.offsetWidth-r)/2,c=(e.offsetHeight-a)/2;return{scale:n,positionX:l,positionY:c}};function YU(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var XU=function(n,e){var t=n.setup.wheel,r=t.disabled,a=t.wheelDisabled,l=t.touchPadDisabled,c=t.excluded,f=n.isInitialized,h=n.isPanning,d=e.target,p=f&&!h&&!r&&d;if(!p||a&&!e.ctrlKey||l&&e.ctrlKey)return!1;var y=vm(d,c);return!y},WU=function(n){return n?n.deltaY<0?1:-1:0};function $U(n,e){var t=WU(n),r=lU(e,t);return r}function iC(n,e,t){var r=e.getBoundingClientRect(),a=0,l=0;if("clientX"in n)a=(n.clientX-r.left)/t,l=(n.clientY-r.top)/t;else{var c=n.touches[0];a=(c.clientX-r.left)/t,l=(c.clientY-r.top)/t}return(Number.isNaN(a)||Number.isNaN(l))&&console.error("No mouse or touch offset found"),{x:a,y:l}}var KU=function(n,e,t,r,a){var l=n.transformState.scale,c=n.wrapperComponent,f=n.setup,h=f.maxScale,d=f.minScale,p=f.zoomAnimation,y=f.disablePadding,_=p.size,w=p.disabled;if(!c)throw new Error("Wrapper is not mounted");var C=l+e*t,E=r?!1:!w,b=Zf(Ri(C,3),d,h,_,E&&!y);return b},QU=function(n,e){var t=n.previousWheelEvent,r=n.transformState.scale,a=n.setup,l=a.maxScale,c=a.minScale;return t?r<l||r>c||Math.sign(t.deltaY)!==Math.sign(e.deltaY)||t.deltaY>0&&t.deltaY<e.deltaY||t.deltaY<0&&t.deltaY>e.deltaY||Math.sign(t.deltaY)!==Math.sign(e.deltaY):!1},JU=function(n,e){var t=n.setup.pinch,r=t.disabled,a=t.excluded,l=n.isInitialized,c=e.target,f=l&&!r&&c;if(!f)return!1;var h=vm(c,a);return!h},ZU=function(n){var e=n.setup.pinch.disabled,t=n.isInitialized,r=n.pinchStartDistance,a=t&&!e&&r;return!!a},ez=function(n,e,t){var r=t.getBoundingClientRect(),a=n.touches,l=Ri(a[0].clientX-r.left,5),c=Ri(a[0].clientY-r.top,5),f=Ri(a[1].clientX-r.left,5),h=Ri(a[1].clientY-r.top,5);return{x:(l+f)/2/e,y:(c+h)/2/e}},aC=function(n){return Math.sqrt(Math.pow(n.touches[0].pageX-n.touches[1].pageX,2)+Math.pow(n.touches[0].pageY-n.touches[1].pageY,2))},tz=function(n,e){var t=n.pinchStartScale,r=n.pinchStartDistance,a=n.setup,l=a.maxScale,c=a.minScale,f=a.zoomAnimation,h=a.disablePadding,d=f.size,p=f.disabled;if(!t||r===null||!e)throw new Error("Pinch touches distance was not provided");if(e<0)return n.transformState.scale;var y=e/r,_=y*t;return Zf(Ri(_,2),c,l,d,!p&&!h)},nz=160,rz=100,iz=function(n,e){var t=n.props,r=t.onWheelStart,a=t.onZoomStart;n.wheelStopEventTimer||($i(n),hn(nn(n),e,r),hn(nn(n),e,a))},az=function(n,e){var t=n.props,r=t.onWheel,a=t.onZoom,l=n.contentComponent,c=n.setup,f=n.transformState,h=f.scale,d=c.limitToBounds,p=c.centerZoomedOut,y=c.zoomAnimation,_=c.wheel,w=c.disablePadding,C=c.smooth,E=y.size,b=y.disabled,j=_.step,R=_.smoothStep;if(!l)throw new Error("Component not mounted");e.preventDefault(),e.stopPropagation();var M=$U(e,null),G=C?R*Math.abs(e.deltaY):j,te=KU(n,M,G,!e.ctrlKey);if(h!==te){var re=ao(n,te),N=iC(e,l,h),O=b||E===0||p||w,I=d&&O,D=gm(n,N.x,N.y,te,re,I),L=D.x,B=D.y;n.previousWheelEvent=e,n.setTransformState(te,L,B),hn(nn(n),e,r),hn(nn(n),e,a)}},sz=function(n,e){var t=n.props,r=t.onWheelStop,a=t.onZoomStop;A1(n.wheelAnimationTimer),n.wheelAnimationTimer=setTimeout(function(){n.mounted&&(J4(n,e.x,e.y),n.wheelAnimationTimer=null)},rz);var l=QU(n,e);l&&(A1(n.wheelStopEventTimer),n.wheelStopEventTimer=setTimeout(function(){n.mounted&&(n.wheelStopEventTimer=null,hn(nn(n),e,r),hn(nn(n),e,a))},nz))},sC=function(n){for(var e=0,t=0,r=0;r<2;r+=1)e+=n.touches[r].clientX,t+=n.touches[r].clientY;var a=e/2,l=t/2;return{x:a,y:l}},lz=function(n,e){var t=aC(e);n.pinchStartDistance=t,n.lastDistance=t,n.pinchStartScale=n.transformState.scale,n.isPanning=!1;var r=sC(e);n.pinchLastCenterX=r.x,n.pinchLastCenterY=r.y,$i(n)},oz=function(n,e){var t=n.contentComponent,r=n.pinchStartDistance,a=n.wrapperComponent,l=n.transformState.scale,c=n.setup,f=c.limitToBounds,h=c.centerZoomedOut,d=c.zoomAnimation,p=c.alignmentAnimation,y=d.disabled,_=d.size;if(!(r===null||!t)){var w=ez(e,l,t);if(!(!Number.isFinite(w.x)||!Number.isFinite(w.y))){var C=aC(e),E=tz(n,C),b=sC(e),j=b.x-(n.pinchLastCenterX||0),R=b.y-(n.pinchLastCenterY||0);if(!(E===l&&j===0&&R===0)){n.pinchLastCenterX=b.x,n.pinchLastCenterY=b.y;var M=ao(n,E),G=y||_===0||h,te=f&&G,re=gm(n,w.x,w.y,E,M,te),N=re.x,O=re.y;n.pinchMidpoint=w,n.lastDistance=C;var I=p.sizeX,D=p.sizeY,L=El(n,I),B=El(n,D),V=N+j,$e=O+R,Ue=Jf(V,$e,M,f,L,B,a),de=Ue.x,be=Ue.y;n.setTransformState(E,de,be)}}}},cz=function(n){var e=n.pinchMidpoint;n.velocity=null,n.lastDistance=null,n.pinchMidpoint=null,n.pinchStartScale=null,n.pinchStartDistance=null,J4(n,e?.x,e?.y)},lC=function(n,e){var t=n.props.onZoomStop,r=n.setup.doubleClick.animationTime;A1(n.doubleClickStopEventTimer),n.doubleClickStopEventTimer=setTimeout(function(){n.doubleClickStopEventTimer=null,hn(nn(n),e,t)},r)},uz=function(n,e){var t=n.props,r=t.onZoomStart,a=t.onZoom,l=n.setup.doubleClick,c=l.animationTime,f=l.animationType;hn(nn(n),e,r),nC(n,c,f,function(){return hn(nn(n),e,a)}),lC(n,e)};function fz(n,e){return n==="toggle"?e===1?1:-1:n==="zoomOut"?-1:1}function hz(n,e){var t=n.setup,r=n.doubleClickStopEventTimer,a=n.transformState,l=n.contentComponent,c=a.scale,f=n.props,h=f.onZoomStart,d=f.onZoom,p=t.doubleClick,y=p.disabled,_=p.mode,w=p.step,C=p.animationTime,E=p.animationType;if(!y&&!r){if(_==="reset")return uz(n,e);if(!l)return console.error("No ContentComponent found");var b=fz(_,n.transformState.scale),j=eC(n,b,w);if(c!==j){hn(nn(n),e,h);var R=iC(e,l,c),M=nx(n,j,R.x,R.y);if(!M)return console.error("Error during zoom event. New transformation state was not calculated.");hn(nn(n),e,d),Al(n,M,C,E),lC(n,e)}}}var dz=function(n,e){var t=n.isInitialized,r=n.setup,a=n.wrapperComponent,l=r.doubleClick,c=l.disabled,f=l.excluded,h=e.target,d=a?.contains(h),p=t&&h&&d&&!c;if(!p)return!1;var y=vm(h,f);return!y},mz=(function(){function n(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(r){t.props=r,ao(t,t.transformState.scale),t.setup=fw(r)},this.initializeWindowEvents=function(){var r,a,l=qg(),c=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,f=c?.defaultView;(a=t.wrapperComponent)===null||a===void 0||a.addEventListener("wheel",t.onWheelPanning,l),f?.addEventListener("mousedown",t.onPanningStart,l),f?.addEventListener("mousemove",t.onPanning,l),f?.addEventListener("mouseup",t.onPanningStop,l),c?.addEventListener("mouseleave",t.clearPanning,l),f?.addEventListener("keyup",t.setKeyUnPressed,l),f?.addEventListener("keydown",t.setKeyPressed,l)},this.cleanupWindowEvents=function(){var r,a,l=qg(),c=(r=t.wrapperComponent)===null||r===void 0?void 0:r.ownerDocument,f=c?.defaultView;f?.removeEventListener("mousedown",t.onPanningStart,l),f?.removeEventListener("mousemove",t.onPanning,l),f?.removeEventListener("mouseup",t.onPanningStop,l),c?.removeEventListener("mouseleave",t.clearPanning,l),f?.removeEventListener("keyup",t.setKeyUnPressed,l),f?.removeEventListener("keydown",t.setKeyPressed,l),document.removeEventListener("mouseleave",t.clearPanning,l),$i(t),(a=t.observer)===null||a===void 0||a.disconnect()},this.handleInitializeWrapperEvents=function(r){var a=qg();r.addEventListener("wheel",t.onWheelZoom,a),r.addEventListener("dblclick",t.onDoubleClick,a),r.addEventListener("touchstart",t.onTouchPanningStart,a),r.addEventListener("touchmove",t.onTouchPanning,a),r.addEventListener("touchend",t.onTouchPanningStop,a)},this.handleInitialize=function(r,a){var l=!1,c=t.setup.centerOnInit,f=function(h,d){for(var p=0,y=h;p<y.length;p++){var _=y[p];if(_.target===d)return!0}return!1};t.applyTransformation(),t.onInitCallbacks.forEach(function(h){h(nn(t))}),t.observer=new ResizeObserver(function(h){if(f(h,r)||f(h,a))if(c&&!l){var d=a.offsetWidth,p=a.offsetHeight;(d>0||p>0)&&(l=!0,t.setCenter())}else $i(t),ao(t,t.transformState.scale),tx(t,0)}),t.observer.observe(r),t.observer.observe(a)},this.onWheelZoom=function(r){var a=t.setup.disabled;if(!a){var l=XU(t,r);if(l){var c=t.isPressingKeys(t.setup.wheel.activationKeys);c&&(iz(t,r),az(t,r),sz(t,r))}}},this.onWheelPanning=function(r){var a=t.setup,l=a.disabled,c=a.wheel,f=a.panning;if(!(!t.wrapperComponent||!t.contentComponent||l||!c.wheelDisabled||f.disabled||!f.wheelPanning||r.ctrlKey)){r.preventDefault(),r.stopPropagation();var h=t.transformState,d=h.positionX,p=h.positionY,y=d-r.deltaX,_=p-r.deltaY,w=f.lockAxisX?d:y,C=f.lockAxisY?p:_,E=t.setup.alignmentAnimation,b=E.sizeX,j=E.sizeY,R=El(t,b),M=El(t,j);w===d&&C===p||Q4(t,w,C,R,M)}},this.onPanningStart=function(r){var a=t.setup.disabled,l=t.props.onPanningStart;if(!a){var c=aw(t,r);if(c){var f=t.isPressingKeys(t.setup.panning.activationKeys);f&&(r.button===0&&!t.setup.panning.allowLeftClickPan||r.button===1&&!t.setup.panning.allowMiddleClickPan||r.button===2&&!t.setup.panning.allowRightClickPan||(r.preventDefault(),r.stopPropagation(),$i(t),ow(t,r),hn(nn(t),r,l)))}}},this.onPanning=function(r){var a=t.setup.disabled,l=t.props.onPanning;if(!a){var c=sw(t);if(c){var f=t.isPressingKeys(t.setup.panning.activationKeys);f&&(r.preventDefault(),r.stopPropagation(),cw(t,r.clientX,r.clientY),hn(nn(t),r,l))}}},this.onPanningStop=function(r){var a=t.props.onPanningStop;t.isPanning&&(PU(t),hn(nn(t),r,a))},this.onPinchStart=function(r){var a=t.setup.disabled,l=t.props,c=l.onPinchingStart,f=l.onZoomStart;if(!a){var h=JU(t,r);h&&(lz(t,r),$i(t),hn(nn(t),r,c),hn(nn(t),r,f))}},this.onPinch=function(r){var a=t.setup.disabled,l=t.props,c=l.onPinching,f=l.onZoom;if(!a){var h=ZU(t);h&&(r.preventDefault(),r.stopPropagation(),oz(t,r),hn(nn(t),r,c),hn(nn(t),r,f))}},this.onPinchStop=function(r){var a=t.props,l=a.onPinchingStop,c=a.onZoomStop;t.pinchStartScale&&(cz(t),hn(nn(t),r,l),hn(nn(t),r,c))},this.onTouchPanningStart=function(r){var a=t.setup.disabled,l=t.props.onPanningStart;if(!a){var c=aw(t,r);if(c){var f=t.lastTouch&&+new Date-t.lastTouch<200&&r.touches.length===1;if(!f){t.lastTouch=+new Date,$i(t);var h=r.touches,d=h.length===1,p=h.length===2;d&&($i(t),ow(t,r),hn(nn(t),r,l)),p&&t.onPinchStart(r)}}}},this.onTouchPanning=function(r){var a=t.setup.disabled,l=t.props.onPanning;if(t.isPanning&&r.touches.length===1){if(a)return;var c=sw(t);if(!c)return;r.preventDefault(),r.stopPropagation();var f=r.touches[0];cw(t,f.clientX,f.clientY),hn(nn(t),r,l)}else r.touches.length>1&&t.onPinch(r)},this.onTouchPanningStop=function(r){t.onPanningStop(r),t.onPinchStop(r)},this.onDoubleClick=function(r){var a=t.setup.disabled;if(!a){var l=dz(t,r);l&&hz(t,r)}},this.clearPanning=function(r){t.isPanning&&t.onPanningStop(r)},this.setKeyPressed=function(r){t.pressedKeys[r.key]=!0},this.setKeyUnPressed=function(r){t.pressedKeys[r.key]=!1},this.isPressingKeys=function(r){return r.length?!!r.find(function(a){return t.pressedKeys[a]}):!0},this.setTransformState=function(r,a,l){var c=t.props.onTransformed;if(!Number.isNaN(r)&&!Number.isNaN(a)&&!Number.isNaN(l)){r!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=r),t.transformState.positionX=a,t.transformState.positionY=l,t.applyTransformation();var f=nn(t);t.onChangeCallbacks.forEach(function(h){return h(f)}),hn(f,{scale:r,positionX:a,positionY:l},c)}else console.error("Detected NaN set state values")},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var r=rC(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(r.scale,r.positionX,r.positionY)}},this.handleTransformStyles=function(r,a,l){return t.props.customTransform?t.props.customTransform(r,a,l):GU(r,a,l)},this.applyTransformation=function(){if(!(!t.mounted||!t.contentComponent)){var r=t.transformState,a=r.scale,l=r.positionX,c=r.positionY,f=t.handleTransformStyles(l,c,a);t.contentComponent.style.transform=f}},this.getContext=function(){return nn(t)},this.onChange=function(r){return t.onChangeCallbacks.has(r)||t.onChangeCallbacks.add(r),function(){t.onChangeCallbacks.delete(r)}},this.onInit=function(r){return t.onInitCallbacks.has(r)||t.onInitCallbacks.add(r),function(){t.onInitCallbacks.delete(r)}},this.init=function(r,a){t.cleanupWindowEvents(),t.wrapperComponent=r,t.contentComponent=a,ao(t,t.transformState.scale),t.handleInitializeWrapperEvents(r),t.handleInitialize(r,a),t.initializeWindowEvents(),t.isInitialized=!0;var l=nn(t);hn(l,void 0,t.props.onInit)},this.props=e,this.setup=fw(this.props),this.transformState=Z4(this.props)}return n})(),rx=cl.createContext(null),pz=function(n,e){return typeof n=="function"?n(e):n},gz=cl.forwardRef(function(n,e){var t=Z.useRef(new mz(n)).current,r=pz(n.children,S1(t));return Z.useImperativeHandle(e,function(){return S1(t)},[t]),Z.useEffect(function(){t.update(n)},[t,n]),cl.createElement(rx.Provider,{value:t},r)});cl.forwardRef(function(n,e){var t=Z.useRef(null),r=Z.useContext(rx);return Z.useEffect(function(){return r.onChange(function(a){if(t.current){var l=0,c=0;t.current.style.transform=r.handleTransformStyles(l,c,1/a.instance.transformState.scale)}})},[r]),cl.createElement("div",ol({},n,{ref:YU([t,e])}))});function vz(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t==="top"&&r.firstChild?r.insertBefore(a,r.firstChild):r.appendChild(a),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(document.createTextNode(n))}}var xz=`.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
`,hw={wrapper:"transform-component-module_wrapper__SPB86",content:"transform-component-module_content__FBWxo"};vz(xz);var yz=function(n){var e=n.children,t=n.wrapperClass,r=t===void 0?"":t,a=n.contentClass,l=a===void 0?"":a,c=n.wrapperStyle,f=n.contentStyle,h=n.wrapperProps,d=h===void 0?{}:h,p=n.contentProps,y=p===void 0?{}:p,_=Z.useContext(rx),w=_.init,C=_.cleanupWindowEvents,E=Z.useRef(null),b=Z.useRef(null);return Z.useEffect(function(){var j=E.current,R=b.current;return j!==null&&R!==null&&w&&w?.(j,R),function(){C?.()}},[]),cl.createElement("div",ol({},d,{ref:E,className:"".concat(b1.wrapperClass," ").concat(hw.wrapper," ").concat(r),style:c}),cl.createElement("div",ol({},y,{ref:b,className:"".concat(b1.contentClass," ").concat(hw.content," ").concat(l),style:f}),e))};const _z="",dw=10,Ez=["","","","","","","",""],Tz=[{buyer:"",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:4,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" 3",qty:1,price:0,isBought:!1}]},{buyer:"",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" +",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1}]},{buyer:"",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" 3",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1}]},{buyer:"",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" +",qty:1,price:0,isBought:!1},{name:" 3",qty:1,price:0,isBought:!1}]},{buyer:"",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" 3",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1}]},{buyer:"S",items:[{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" 3",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:10,price:0,isBought:!1},{name:" ",qty:1,price:0,isBought:!1},{name:" ",qty:10,price:0,isBought:!1},{name:" ",qty:10,price:0,isBought:!1},{name:" ",qty:4,price:0,isBought:!1}]},{buyer:"",items:[{name:" 3",qty:1,price:0,isBought:!1}]}],wz=["https://pbs.twimg.com/media/G8MiWocaEAAYWbC?format=jpg&name=large","https://pbs.twimg.com/media/G8MiYLNbIAA_YJg?format=jpg&name=large","https://pbs.twimg.com/media/G8MiZktakAAvzHC?format=jpg&name=large","https://pbs.twimg.com/media/G8Mis25acAAqfys?format=jpg&name=large","https://pbs.twimg.com/media/G8MivlbakAA4A73?format=jpg&name=large","https://pbs.twimg.com/media/G8MixoiaAAAyEGE?format=jpg&name=large","https://pbs.twimg.com/media/G8Mi4L9b0AAPNmS?format=jpg&name=large","https://pbs.twimg.com/media/G8Mi6X_bwAAkrMd?format=jpg&name=large","https://pbs.twimg.com/media/G8MjC5vbgAE_hJg?format=jpg&name=large","https://pbs.twimg.com/media/G8MjIZ0bwAAEAhT?format=jpg&name=large"],bz=[{name:"JS  (JUMP SHOP)",mainUrl:"https://jumpfesta.com/maker/",preOrder:{period:"2025/12/17 ~ 12/21",url:"https://jumpshop-online.com/collections/jf2026"},postOrder:{period:"",url:""},tags:[""],products:["Jump"],notes:"Jump Shop Online "}];function Sz({currentUser:n}){const[e,t]=Z.useState("vendors"),[r,a]=Z.useState(!1),[l,c]=Z.useState(null),[f,h]=Z.useState(null),d=n?.name===_z,p=n?.isMember,y=()=>{localStorage.removeItem("app_user_id"),window.location.reload()},_=async b=>{if(n)try{await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{name:b}),alert(""),c(null)}catch(j){console.error("",j),alert("")}},w=async b=>{n&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{avatar:b}),alert(""),c(null))},C=async b=>{n&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{password:b}),alert(""),c(null))},E=async()=>{if(n)if(n.isMember){if(n.memberValidUntil)confirm(`
`)&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{memberValidUntil:null,memberCancelledAt:null}),alert(""));else if(confirm(`
 30 `)){const b=new Date;b.setDate(b.getDate()+30),await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{isMember:!0,memberValidUntil:b.toISOString(),memberCancelledAt:new Date().toISOString()}),alert(`
 ${b.toLocaleDateString()}`)}}else confirm(` PLUS ULTRA 
`)&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{isMember:!0,memberSince:new Date().toISOString(),memberValidUntil:null,memberCancelledAt:null}),alert(""))};return g.jsxs("div",{className:"min-h-screen bg-slate-50 font-sans pb-20 selection:bg-yellow-400 selection:text-black",children:[g.jsx("header",{className:"sticky top-0 z-30 bg-slate-900 border-b-4 border-yellow-400 px-4 py-3 shadow-md",children:g.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs(jd,{to:"/home",className:"flex items-center gap-2 bg-yellow-400 px-4 py-1.5 rounded transform -skew-x-12 border-2 border-yellow-600 hover:scale-105 transition-transform group",children:[g.jsx(T8,{size:20,className:"text-slate-900 transform skew-x-12 group-hover:-translate-x-1 transition-transform",strokeWidth:3}),g.jsx("span",{className:"text-slate-900 font-black text-sm transform skew-x-12 hidden sm:inline",children:""})]}),g.jsx("h1",{className:"text-2xl font-black italic tracking-tight text-white hidden md:block",children:"JF26 "})]}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[g.jsxs("div",{className:"text-right hidden sm:block",children:[g.jsx("p",{className:"text-xs text-slate-400",children:"HERO NAME"}),g.jsx("p",{className:"font-bold text-white tracking-wide",children:n?.name})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>a(!r),className:`w-10 h-10 rounded-full bg-slate-800 border-2 ${p?"border-purple-500":"border-yellow-400"} shadow-lg overflow-hidden hover:scale-105 transition-all relative`,children:[g.jsx("img",{src:n?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n?.name}`,alt:"avatar",className:"w-full h-full object-cover"}),p&&g.jsx("div",{className:"absolute -top-1 -right-1 bg-purple-600 rounded-full p-0.5 border border-white",children:g.jsx(gd,{size:8,className:"text-white fill-white"})})]}),r&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border-2 border-slate-900 py-1 z-50 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"px-3 py-2 border-b-2 border-slate-100 bg-slate-50",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsxs("span",{className:"text-xs font-black text-slate-500 flex items-center gap-1",children:[g.jsx(gd,{size:12,className:p?"text-purple-600 fill-purple-600":"text-slate-300"}),"PLUS "]}),p&&g.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 rounded font-bold",children:"SUBSCRIBED"})]}),g.jsx("button",{onClick:E,className:`w-full text-xs font-bold py-1.5 rounded border-2 transition-all ${p&&n.memberValidUntil?"bg-green-100 text-green-700 border-green-300 hover:bg-green-200":p?"bg-white border-slate-300 text-slate-500 hover:bg-red-50 hover:text-red-500 hover:border-red-300":"bg-purple-600 border-purple-800 text-white hover:bg-purple-700"}`,children:p?n.memberValidUntil?" ()":" (30)":" (NT$90/)"})]}),g.jsxs("button",{onClick:()=>{a(!1),c("changeName")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(Pc,{size:16})," "]}),g.jsxs("button",{onClick:()=>{a(!1),c("changeAvatar")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(Av,{size:16})," "]}),g.jsxs("button",{onClick:()=>{a(!1),c("changePwd")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(nA,{size:16})," "]}),g.jsx("div",{className:"border-t-2 border-slate-100 my-1"}),g.jsxs("button",{onClick:y,className:"w-full px-4 py-2 text-left text-sm hover:bg-red-50 text-red-600 flex items-center gap-2 font-black",children:[g.jsx(rA,{size:16})," "]})]})]})]})]})}),g.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[g.jsxs("div",{className:"text-center mb-8 relative",children:[g.jsxs("div",{className:"inline-block relative",children:[g.jsx("h2",{className:"text-5xl font-black text-slate-900 italic transform -skew-x-6 z-10 relative",children:"JUMP FESTA 2026"}),g.jsx("div",{className:"absolute -bottom-2 -right-4 w-[110%] h-6 bg-yellow-400 -z-0 transform -skew-x-6"})]}),g.jsxs("p",{className:"text-slate-500 font-bold mt-4 flex items-center justify-center gap-2",children:[g.jsx(vT,{size:18,className:"text-slate-900"})," ..."]}),g.jsxs("div",{className:"flex justify-center gap-3 text-sm font-black mt-6 flex-wrap",children:[g.jsxs("a",{href:"https://www.jumpfesta.com/maker/",target:"_blank",rel:"noreferrer",className:"px-4 py-1.5 bg-white border-2 border-slate-900 shadow-[4px_4px_0px_0px_#0f172a] hover:translate-y-0.5 hover:shadow-[2px_2px_0px_0px_#0f172a] transition-all flex items-center gap-1 rounded",children:["JF26  ",g.jsx(ya,{size:14})]}),g.jsxs("a",{href:"https://jumpcs.shueisha.co.jp/shop/pages/jumpfesta.aspx",target:"_blank",rel:"noreferrer",className:"px-4 py-1.5 bg-white border-2 border-slate-900 shadow-[4px_4px_0px_0px_#0f172a] hover:translate-y-0.5 hover:shadow-[2px_2px_0px_0px_#0f172a] transition-all flex items-center gap-1 rounded",children:["JCS ",g.jsx(ya,{size:14})]}),g.jsxs("a",{href:"https://docs.google.com/spreadsheets/d/1zfT-MMN-DwIRamibiAQUyp4lJLGBoxS3Rpeb1aVJLK8/edit?usp=sharing",target:"_blank",rel:"noreferrer",className:"px-4 py-1.5 bg-white border-2 border-slate-900 shadow-[4px_4px_0px_0px_#0f172a] hover:translate-y-0.5 hover:shadow-[2px_2px_0px_0px_#0f172a] transition-all flex items-center gap-1 rounded",children:["JF26  ",g.jsx(ya,{size:14})]}),g.jsxs("a",{href:"https://forms.gle/VsHvAvraVQp4dHaK8",target:"_blank",rel:"noreferrer",className:"px-4 py-1.5 bg-yellow-400 border-2 border-slate-900 shadow-[4px_4px_0px_0px_#0f172a] hover:translate-y-0.5 hover:shadow-[2px_2px_0px_0px_#0f172a] transition-all flex items-center gap-1 rounded",children:["JF26  ",g.jsx(ya,{size:14})]})]})]}),g.jsx("div",{className:"flex justify-center mb-8",children:g.jsxs("div",{className:"bg-slate-200 p-1.5 rounded-xl flex gap-2 border-2 border-slate-300",children:[g.jsx(Gg,{id:"vendors",label:"",icon:vT,active:e==="vendors",onClick:t}),g.jsx(Gg,{id:"js_pre",label:"JS  (Online)",icon:Iv,active:e==="js_pre",onClick:t}),g.jsx(Gg,{id:"jcs_lottery",label:"JCS ",icon:lA,active:e==="jcs_lottery",onClick:t})]})}),g.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e==="vendors"&&g.jsx(Az,{currentUser:n,isAdmin:d,modalType:l,setModalType:c}),e==="js_pre"&&g.jsx(Cz,{currentUser:n,isAdmin:d,onImageClick:h}),e==="jcs_lottery"&&g.jsx(Nz,{currentUser:n,isAdmin:d})]})]}),g.jsx(Hr,{isOpen:l==="changeName",onClose:()=>c(null),title:"",children:g.jsx(X4,{currentUser:n,onSubmit:_,onCancel:()=>c(null)})}),g.jsx(Hr,{isOpen:l==="changePwd",onClose:()=>c(null),title:"",children:g.jsx(G4,{onSubmit:C})}),g.jsx(Hr,{isOpen:l==="changeAvatar",onClose:()=>c(null),title:"",children:g.jsx(Y4,{currentUser:n,onSubmit:w})}),f&&g.jsx("div",{className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex items-center justify-center p-0 animate-in fade-in duration-200",children:g.jsx(gz,{initialScale:1,minScale:.5,maxScale:4,centerOnInit:!0,children:({zoomIn:b,zoomOut:j,resetTransform:R})=>g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"absolute top-4 right-4 z-[110] flex items-center gap-2 bg-slate-900/80 p-2 rounded-full backdrop-blur border border-slate-700 shadow-xl",children:[g.jsx("button",{onClick:()=>b(),className:"p-2 text-white hover:text-yellow-400 hover:bg-white/10 rounded-full transition-colors",title:"",children:g.jsx(e9,{size:20})}),g.jsx("button",{onClick:()=>j(),className:"p-2 text-white hover:text-yellow-400 hover:bg-white/10 rounded-full transition-colors",title:"",children:g.jsx(n9,{size:20})}),g.jsx("button",{onClick:()=>R(),className:"p-2 text-white hover:text-yellow-400 hover:bg-white/10 rounded-full transition-colors",title:"",children:g.jsx(wM,{size:20})}),g.jsx("div",{className:"w-px h-6 bg-slate-600 mx-1"}),g.jsx("button",{onClick:()=>h(null),className:"p-2 text-white hover:text-red-400 hover:bg-white/10 rounded-full transition-colors",title:"",children:g.jsx(fi,{size:20})})]}),g.jsx(yz,{wrapperClass:"!w-screen !h-screen",contentClass:"!w-screen !h-screen flex items-center justify-center",children:g.jsx("img",{src:f,alt:"Full Preview",className:"max-w-full max-h-full object-contain"})})]})})})]})}function Gg({id:n,label:e,icon:t,active:r,onClick:a}){return g.jsxs("button",{onClick:()=>a(n),className:`
                px-4 py-2 rounded-lg text-sm font-black flex items-center gap-2 transition-all duration-200
                ${r?"bg-slate-900 text-yellow-400 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.3)]":"text-slate-500 hover:bg-white hover:text-slate-900"}
            `,children:[g.jsx(t,{size:16,strokeWidth:3})," ",e]})}function Az({currentUser:n,isAdmin:e,modalType:t,setModalType:r}){const[a,l]=Z.useState([]),[c,f]=Z.useState(""),[h,d]=Z.useState(null),[p,y]=Z.useState(null),[,_]=Z.useState(0);Z.useEffect(()=>{const G=Ka(si(rt,"artifacts","default-app-id","public","data","jf26_vendors"),te=>{const re=te.docs.map(N=>({id:N.id,...N.data()}));l(re.sort((N,O)=>(N.order||0)-(O.order||0)))});return()=>G()},[]);const w=a.filter(G=>(G.name||"").toLowerCase().includes(c.toLowerCase())||(Array.isArray(G.products)?G.products.some(te=>te.toLowerCase().includes(c.toLowerCase())):(G.products||G.ips||"").toLowerCase().includes(c.toLowerCase()))),C=async()=>{if(confirm(""))try{const G=$E(rt);bz.forEach((te,re)=>{const N=vt(si(rt,"artifacts","default-app-id","public","data","jf26_vendors"));G.set(N,{...te,order:re,updatedAt:new Date().toISOString()})}),await G.commit()}catch{alert("")}},E=async G=>{if(confirm(""))try{await Zu(vt(rt,"artifacts","default-app-id","public","data","jf26_vendors",G))}catch(te){console.error("",te),alert("")}},b=async(G,te)=>{const re=G+te;if(re<0||re>=a.length)return;const N=a[G],O=a[re],I=N.order||Date.now(),D=O.order||Date.now()+1;try{const L=$E(rt),B=vt(rt,"artifacts","default-app-id","public","data","jf26_vendors",N.id),V=vt(rt,"artifacts","default-app-id","public","data","jf26_vendors",O.id);L.update(B,{order:D}),L.update(V,{order:I}),await L.commit()}catch(L){console.error("",L)}},j=G=>{if(!G.updatedAt||!n)return!1;const te=`jf26_read_${n.id}_${G.id}`,re=localStorage.getItem(te);return re?new Date(G.updatedAt)>new Date(re):!0},R=G=>{if(!n)return;const te=`jf26_read_${n.id}_${G}`;localStorage.setItem(te,new Date().toISOString()),_(re=>re+1)},M=G=>{switch(G){case"":return"bg-yellow-400 text-slate-900 border-slate-900";case"":return"bg-blue-500 text-white border-slate-900";case"":return"bg-red-600 text-white border-slate-900";default:return"bg-white text-slate-800 border-slate-900"}};return g.jsxs("div",{children:[e&&a.length===0&&g.jsx("div",{className:"flex justify-end mb-4",children:g.jsxs("button",{onClick:C,className:"px-4 py-1.5 bg-blue-100 text-blue-600 border border-blue-300 rounded hover:bg-blue-200 flex items-center gap-1 font-bold",children:[g.jsx(q8,{size:12})," "]})}),g.jsxs("div",{className:"mb-10 flex flex-col md:flex-row items-center gap-4",children:[g.jsxs("div",{className:"flex-1 w-full h-12 rounded-xl border-4 border-slate-900 bg-white shadow-[4px_4px_0px_0px_#0f172a] transition-all focus-within:ring-4 focus-within:ring-yellow-400/50 overflow-hidden flex items-center",children:[g.jsx("div",{className:"pl-4 pr-2 flex items-center justify-center text-slate-900",children:g.jsx(aA,{size:24,strokeWidth:3})}),g.jsx("input",{type:"text",placeholder:"  IP...",className:"w-full h-full bg-transparent border-none outline-none text-slate-900 font-bold placeholder:text-slate-400 placeholder:font-medium text-lg",value:c,onChange:G=>f(G.target.value)})]}),e&&g.jsxs("button",{onClick:()=>{d(null),r("vendor")},className:"w-full md:w-auto px-6 h-12 bg-slate-900 text-yellow-400 rounded-xl border-4 border-slate-900 font-black shadow-[4px_4px_0px_0px_#FACC15] hover:-translate-y-1 hover:shadow-[6px_6px_0px_0px_#FACC15] flex items-center justify-center gap-2 text-lg active:scale-[0.98] transition-all whitespace-nowrap",children:[g.jsx(Gf,{size:24,strokeWidth:3})," "]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:w.map((G,te)=>{const re=Array.isArray(G.products)?G.products:[],N=re.length>dw,O=N?re.slice(0,dw):re,I=j(G);return g.jsxs("div",{className:"bg-white rounded-xl border-4 border-slate-900 p-5 shadow-[8px_8px_0px_0px_#FACC15] hover:-translate-y-1 hover:shadow-[10px_10px_0px_0px_#FACC15] transition-all duration-200 flex flex-col relative group",children:[g.jsx("div",{className:"absolute top-3 right-3 w-3 h-3 rounded-full bg-slate-200 border-2 border-slate-900 z-10"}),I&&g.jsx("div",{className:"absolute -top-4 -left-3 bg-red-600 text-white text-xs font-black px-3 py-1 shadow-[2px_2px_0px_0px_#000] transform -rotate-6 z-20 border-2 border-slate-900",children:"NEW!"}),g.jsxs("div",{className:"flex justify-between items-start mb-4 pr-4 border-b-2 border-slate-100 pb-2",children:[g.jsx("h3",{className:"font-black text-2xl text-slate-900 leading-tight italic",children:G.name}),e&&g.jsxs("div",{className:"flex flex-col gap-1 ml-2 shrink-0",children:[g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>{d(G),r("vendor")},className:"p-1.5 bg-white text-slate-900 rounded border-2 border-slate-900 hover:bg-slate-100 shadow-[2px_2px_0px_0px_#000]",title:"",children:g.jsx(to,{size:14,strokeWidth:2.5})}),g.jsx("button",{onClick:()=>E(G.id),className:"p-1.5 bg-red-500 text-white rounded border-2 border-slate-900 hover:bg-red-600 shadow-[2px_2px_0px_0px_#000]",title:"",children:g.jsx(W0,{size:14,strokeWidth:2.5})})]}),g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:()=>b(te,-1),disabled:te===0,className:"p-1.5 bg-slate-200 text-slate-900 rounded border-2 border-slate-900 hover:bg-slate-300 disabled:opacity-50",title:"",children:g.jsx(KS,{size:14,strokeWidth:2.5})}),g.jsx("button",{onClick:()=>b(te,1),disabled:te===a.length-1,className:"p-1.5 bg-slate-200 text-slate-900 rounded border-2 border-slate-900 hover:bg-slate-300 disabled:opacity-50",title:"",children:g.jsx(Sv,{size:14,strokeWidth:2.5})})]})]})]}),G.tags&&G.tags.length>0&&g.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:G.tags.map(D=>g.jsx("span",{className:`text-[11px] font-black px-2 py-0.5 border-2 shadow-[2px_2px_0px_0px_rgba(0,0,0,0.1)] ${M(D)}`,children:D},D))}),g.jsxs("div",{className:"space-y-4 flex-1",children:[g.jsxs("div",{children:[g.jsxs("p",{className:"text-xs font-black text-slate-400 mb-2 flex items-center gap-1 uppercase tracking-wider",children:[g.jsx(Pc,{size:12}),"  (IPs)"]}),g.jsxs("div",{className:"flex flex-wrap gap-2",children:[O.map((D,L)=>g.jsx("span",{className:"bg-yellow-50 text-slate-900 text-xs font-bold px-2 py-1 border-2 border-slate-200 transition-transform hover:scale-105 hover:border-slate-900 hover:bg-yellow-200",children:D},L)),N&&g.jsxs("button",{onClick:()=>{y(G),R(G.id)},className:"bg-slate-800 text-white text-xs font-bold px-2 py-1 border-2 border-slate-900 hover:bg-slate-700 transition-colors cursor-pointer flex items-center gap-1",children:[g.jsx(iM,{size:12})," MORE..."]})]})]}),g.jsxs("div",{className:"space-y-2 bg-slate-50 p-3 rounded border-2 border-slate-200 relative",children:[G.preOrder?.period&&g.jsxs("div",{className:"text-sm",children:[g.jsx("span",{className:"text-[10px] font-black bg-yellow-400 text-slate-900 px-1 border border-slate-900 mr-2",children:""}),g.jsx("span",{className:"font-bold text-slate-700",children:G.preOrder.period})]}),G.postOrder?.period&&g.jsxs("div",{className:"text-sm",children:[g.jsx("span",{className:"text-[10px] font-black bg-blue-500 text-white px-1 border border-slate-900 mr-2",children:""}),g.jsx("span",{className:"font-bold text-slate-700",children:G.postOrder.period})]}),G.tags?.includes("")&&g.jsxs("div",{className:"text-sm flex items-center gap-2 text-red-600 font-black",children:[g.jsx(cM,{size:14}),"  JUMP FESTA "]})]}),G.notes&&g.jsxs("div",{className:"flex items-start gap-2 bg-red-50 p-2 rounded border-2 border-red-100",children:[g.jsx(L8,{size:14,className:"text-red-500 mt-0.5 shrink-0"}),g.jsx("p",{className:"text-xs font-bold text-red-600 leading-relaxed",children:G.notes})]})]}),g.jsxs("div",{className:"mt-6 space-y-3 pt-4 border-t-2 border-slate-100",children:[g.jsxs("div",{className:"flex gap-2",children:[G.preOrder?.url&&g.jsxs("a",{href:G.preOrder.url,onClick:()=>R(G.id),target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-yellow-400 text-slate-900 text-center font-black rounded border-2 border-slate-900 hover:bg-yellow-300 transition-colors flex items-center justify-center gap-1 text-xs shadow-[3px_3px_0px_0px_#0f172a] active:translate-y-0.5 active:shadow-none",children:[g.jsx(Iv,{size:14,strokeWidth:3})," "]}),G.postOrder?.url&&g.jsxs("a",{href:G.postOrder.url,onClick:()=>R(G.id),target:"_blank",rel:"noreferrer",className:"flex-1 py-2 bg-blue-500 text-white text-center font-black rounded border-2 border-slate-900 hover:bg-blue-400 transition-colors flex items-center justify-center gap-1 text-xs shadow-[3px_3px_0px_0px_#0f172a] active:translate-y-0.5 active:shadow-none",children:[g.jsx(Ov,{size:14,strokeWidth:3})," "]})]}),G.mainUrl&&g.jsxs("a",{href:G.mainUrl,onClick:()=>R(G.id),target:"_blank",rel:"noreferrer",className:"block w-full py-2 bg-slate-100 text-slate-700 text-center font-black rounded border-2 border-slate-900 hover:bg-slate-200 transition-colors flex items-center justify-center gap-2 text-sm",children:[g.jsx(ya,{size:16})," /"]})]})]},G.id)})}),g.jsx(Hr,{isOpen:t==="vendor",onClose:()=>{r(null),d(null)},title:h?"EDIT VENDOR":"NEW VENDOR",children:g.jsx(Iz,{initialData:h,onSubmit:async G=>{try{h?(await mn(vt(rt,"artifacts","default-app-id","public","data","jf26_vendors",h.id),{...G,updatedAt:new Date().toISOString()}),alert("")):(await mc(si(rt,"artifacts","default-app-id","public","data","jf26_vendors"),{...G,order:Date.now(),updatedAt:new Date().toISOString(),createdAt:new Date().toISOString()}),alert("")),r(null)}catch(te){console.error("",te),alert("")}},onCancel:()=>r(null)})}),p&&g.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-slate-900/80 backdrop-blur-sm animate-in fade-in duration-200",children:g.jsxs("div",{className:"bg-white w-full max-w-md rounded-xl shadow-2xl border-4 border-slate-900 overflow-hidden",children:[g.jsxs("div",{className:"bg-slate-900 px-4 py-3 border-b-4 border-yellow-400 flex justify-between items-center",children:[g.jsxs("h3",{className:"font-black text-lg text-white flex items-center gap-2 truncate italic",children:[g.jsx(Pc,{size:20,className:"text-yellow-400"})," ",p.name]}),g.jsx("button",{onClick:()=>y(null),className:"text-slate-400 hover:text-white transition-colors",children:g.jsx(fi,{size:24})})]}),g.jsx("div",{className:"p-6 max-h-[60vh] overflow-y-auto bg-slate-50",children:g.jsx("div",{className:"flex flex-wrap gap-2",children:(Array.isArray(p.products)?p.products:[]).map((G,te)=>g.jsx("span",{className:"bg-white text-slate-900 text-sm font-bold px-3 py-2 border-2 border-slate-900 shadow-[2px_2px_0px_0px_#ccc]",children:G},te))})})]})})]})}function Cz({currentUser:n,isAdmin:e,onImageClick:t}){const[r,a]=Z.useState([]),[l,c]=Z.useState({exchangeRate:.24,totalShippingJPY:0,status:""}),[f,h]=Z.useState(!0),[d,p]=Z.useState(!1),y=()=>{let R=[],M=1;return Tz.forEach(G=>{G.items.forEach(te=>{const re=te.name.indexOf(" "),N=re>-1?te.name.substring(0,re):"",O=re>-1?te.name.substring(re+1):te.name;R.push({id:M++,buyer:G.buyer,ip:N,name:O,quantity:te.qty,price:te.price||0,isBought:te.isBought||!1})})}),R};Z.useEffect(()=>{(async()=>{h(!0);try{const M=vt(rt,"artifacts","default-app-id","public","data","jf26_calc_data","main"),G=await Ka(M,te=>{if(te.exists()){const re=te.data();a(re.orders||[]),c(re.settings||{exchangeRate:.24,totalShippingJPY:0,status:""})}else a(y());h(!1)});return()=>G()}catch(M){console.error("Error fetching data:",M),a(y()),h(!1)}})()},[]);const _=async()=>{try{await vv(vt(rt,"artifacts","default-app-id","public","data","jf26_calc_data","main"),{orders:r,settings:l,updatedAt:new Date().toISOString(),updatedBy:n?.name||"Unknown"}),p(!1),alert("")}catch(R){console.error("Save error:",R),alert("")}},w=(R,M,G)=>{e&&(a(te=>te.map(re=>re.id===R?{...re,[M]:G}:re)),p(!0))},C=(R,M,G)=>{e&&confirm(`${R} ${M} ${G} `)&&(a(te=>te.map(re=>re.ip===R&&re.name===M?{...re,price:Number(G)}:re)),p(!0))},E=Z.useMemo(()=>r.reduce((R,M)=>M.isBought?R+M.quantity:R,0),[r]),b=Z.useMemo(()=>E>0?l.totalShippingJPY/E:0,[E,l.totalShippingJPY]),j=Z.useMemo(()=>{const R={};return r.forEach(M=>{if(R[M.buyer]||(R[M.buyer]={items:[],totalItemPriceJPY:0,totalShippingShareJPY:0,count:0}),M.isBought){const G=M.price*M.quantity,te=b*M.quantity;R[M.buyer].items.push(M),R[M.buyer].totalItemPriceJPY+=G,R[M.buyer].totalShippingShareJPY+=te,R[M.buyer].count+=M.quantity}}),R},[r,b]);return f?g.jsx("div",{className:"p-10 text-center font-bold text-slate-500",children:"..."}):g.jsxs("div",{className:"space-y-8 pb-20",children:[g.jsx("div",{className:"bg-slate-900 text-yellow-400 p-6 rounded-xl border-4 border-yellow-400 shadow-[8px_8px_0px_0px_#0f172a] relative overflow-hidden",children:g.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-3xl font-black italic mb-2 flex items-center gap-2",children:["JS ONLINE ",d&&g.jsx("span",{className:"text-sm bg-red-500 text-white px-2 py-1 rounded-full not-italic",children:""})]}),g.jsxs("div",{className:"space-y-1 font-bold text-white text-sm",children:[g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(ZS,{size:16,className:"text-yellow-400"})," 12/17 11:00  12/21 16:00"]}),g.jsxs("a",{href:"https://jumpshop-online.com/collections/jf2026",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 underline hover:text-yellow-300",children:[g.jsx(ya,{size:16})," "]})]})]}),g.jsx("div",{className:"bg-white p-4 rounded-lg border-4 border-slate-700 text-slate-900 w-full md:w-auto shadow-lg",children:g.jsxs("div",{className:"flex flex-col gap-3",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("span",{className:"font-black text-xs uppercase bg-slate-200 px-1 rounded",children:"STATUS"}),e?g.jsx("select",{value:l.status,onChange:R=>{c({...l,status:R.target.value}),p(!0)},className:"font-bold border-b-2 border-slate-300 focus:border-yellow-400 outline-none bg-transparent",children:Ez.map(R=>g.jsx("option",{value:R,children:R},R))}):g.jsx("span",{className:"font-black text-purple-600",children:l.status})]}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 block",children:" (JPYTWD)"}),g.jsxs("div",{className:"flex items-center font-black",children:[g.jsx(vd,{size:14,className:"text-slate-400"}),e?g.jsx("input",{type:"number",step:"0.001",value:l.exchangeRate,onChange:R=>{c({...l,exchangeRate:parseFloat(R.target.value)||0}),p(!0)},className:"w-20 border-b-2 border-slate-300 focus:border-yellow-400 outline-none text-right"}):g.jsx("span",{children:l.exchangeRate})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-black text-slate-500 block",children:" (JPY)"}),g.jsxs("div",{className:"flex items-center font-black",children:[g.jsx(Ov,{size:14,className:"text-slate-400"}),e?g.jsx("input",{type:"number",value:l.totalShippingJPY,onChange:R=>{c({...l,totalShippingJPY:parseFloat(R.target.value)||0}),p(!0)},className:"w-20 border-b-2 border-slate-300 focus:border-yellow-400 outline-none text-right"}):g.jsx("span",{children:l.totalShippingJPY})]})]})]}),e&&g.jsxs("button",{onClick:_,className:"w-full bg-slate-900 text-yellow-400 font-black py-1.5 rounded hover:bg-slate-800 flex items-center justify-center gap-2 text-sm mt-1",children:[g.jsx(xo,{size:14})," "]})]})})]})}),g.jsxs("div",{className:"bg-white p-4 rounded-xl border-2 border-slate-200",children:[g.jsxs("h4",{className:"font-black text-sm text-slate-500 mb-3 flex items-center gap-2",children:[g.jsx(Av,{size:16}),"  ()"]}),g.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:wz.map((R,M)=>g.jsxs("div",{onClick:()=>t(R),className:"w-20 h-20 shrink-0 bg-white rounded border border-slate-300 overflow-hidden hover:scale-105 transition-transform cursor-pointer relative group",children:[g.jsx("img",{src:R,alt:`Item ${M}`,className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-black/10 opacity-0 group-hover:opacity-100 transition-opacity"})]},M))})]}),g.jsxs("div",{className:"bg-white border-4 border-slate-900 rounded-xl overflow-hidden shadow-[8px_8px_0px_0px_#FACC15]",children:[g.jsxs("div",{className:"bg-slate-100 p-4 border-b-4 border-slate-900 flex justify-between items-center",children:[g.jsxs("h4",{className:"font-black text-xl text-slate-900 flex items-center gap-2",children:[g.jsx(QS,{size:20})," "]}),g.jsxs("div",{className:"text-xs font-bold text-slate-500 flex flex-col md:flex-row gap-2 md:gap-4 items-end md:items-center",children:[g.jsxs("span",{children:[": ",g.jsx("span",{className:"text-slate-900 text-lg",children:E})]}),g.jsxs("span",{children:[": ",g.jsxs("span",{className:"text-slate-900 text-lg",children:["",b.toFixed(1)]})]})]})]}),g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full text-left border-collapse",children:[g.jsx("thead",{children:g.jsxs("tr",{className:"bg-slate-800 text-yellow-400 text-xs uppercase tracking-wider font-black",children:[g.jsx("th",{className:"p-3 w-20",children:""}),g.jsx("th",{className:"p-3",children:" (IP / )"}),g.jsx("th",{className:"p-3 text-center w-16",children:""}),g.jsx("th",{className:"p-3 text-right w-28",children:"(JPY)"}),g.jsx("th",{className:"p-3 text-center w-20",children:"?"}),e&&g.jsx("th",{className:"p-3 text-center w-24",children:""})]})}),g.jsx("tbody",{className:"divide-y divide-slate-200 font-bold text-sm",children:r.map(R=>g.jsxs("tr",{className:`${R.isBought?"bg-white":"bg-red-50 opacity-60"} hover:bg-yellow-50 transition-colors`,children:[g.jsx("td",{className:"p-3",children:g.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center border-2 border-slate-900 text-xs",children:R.buyer.charAt(0)})}),g.jsxs("td",{className:"p-3",children:[g.jsx("span",{className:"inline-block bg-slate-200 text-slate-700 text-[10px] px-1.5 py-0.5 rounded mr-2 border border-slate-300",children:R.ip}),g.jsx("span",{className:R.isBought?"text-slate-900":"text-slate-400 line-through decoration-2",children:R.name})]}),g.jsx("td",{className:"p-3 text-center text-lg",children:R.quantity}),g.jsx("td",{className:"p-3 text-right",children:e?g.jsx("input",{type:"number",value:R.price,onChange:M=>w(R.id,"price",M.target.value),className:"w-20 text-right border-b border-slate-300 focus:border-yellow-500 outline-none bg-transparent",placeholder:"0"}):g.jsxs("span",{className:"font-mono",children:["",R.price]})}),g.jsx("td",{className:"p-3 text-center",children:g.jsx("input",{type:"checkbox",checked:R.isBought,disabled:!e,onChange:M=>w(R.id,"isBought",M.target.checked),className:"w-5 h-5 rounded border-2 border-slate-400 text-yellow-400 focus:ring-yellow-400 disabled:opacity-50"})}),e&&g.jsx("td",{className:"p-3 text-center",children:g.jsx("button",{onClick:()=>C(R.ip,R.name,R.price),className:"p-1 bg-slate-100 hover:bg-slate-200 rounded border border-slate-300 text-xs",title:"",children:g.jsx(_M,{size:14})})})]},R.id))})]})}),e&&d&&g.jsx("div",{className:"p-4 bg-yellow-50 border-t-2 border-slate-200 flex justify-center",children:g.jsx("button",{onClick:_,className:"bg-red-500 text-white font-black px-8 py-2 rounded shadow-lg hover:bg-red-600 animate-pulse",children:" - "})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(j).map(([R,M])=>{const G=M.totalItemPriceJPY+M.totalShippingShareJPY,te=Math.ceil(G*l.exchangeRate);return g.jsxs("div",{className:"bg-white rounded-xl border-4 border-slate-900 p-5 shadow-[4px_4px_0px_0px_#6b21a8] relative overflow-hidden group hover:-translate-y-1 transition-transform",children:[g.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-10 group-hover:opacity-20 transition-opacity",children:g.jsx(vd,{size:100})}),g.jsxs("div",{className:"flex justify-between items-center mb-4 border-b-2 border-slate-100 pb-2 relative z-10",children:[g.jsx("h3",{className:"text-2xl font-black italic text-slate-900",children:R}),g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:"text-xs font-bold text-slate-400",children:"TOTAL"}),g.jsxs("span",{className:"text-3xl font-black text-purple-600",children:["NT$ ",te]})]})]}),g.jsxs("div",{className:"space-y-2 text-sm font-bold text-slate-600 relative z-10",children:[g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{children:[" (",M.count,")"]}),g.jsxs("span",{children:["",M.totalItemPriceJPY.toLocaleString()]})]}),g.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[g.jsxs("span",{children:[" (",b.toFixed(0),")"]}),g.jsxs("span",{children:["",M.totalShippingShareJPY.toFixed(0)]})]}),g.jsxs("div",{className:"flex justify-between border-t border-slate-200 pt-1 text-slate-800",children:[g.jsx("span",{children:" (JPY)"}),g.jsxs("span",{children:["",Math.ceil(G).toLocaleString()]})]})]}),g.jsx("div",{className:"mt-4 pt-4 border-t-2 border-dashed border-slate-300",children:g.jsxs("details",{className:"group/detail",children:[g.jsxs("summary",{className:"text-xs font-black text-slate-500 cursor-pointer hover:text-slate-900 list-none flex justify-between items-center",children:[g.jsx("span",{children:""}),g.jsx(Sv,{size:12,className:"group-open/detail:rotate-180 transition-transform"})]}),g.jsx("div",{className:"mt-2 space-y-1 max-h-40 overflow-y-auto pr-1",children:M.items.map((re,N)=>g.jsxs("div",{className:"flex justify-between text-xs font-medium text-slate-600 bg-slate-50 p-1.5 rounded",children:[g.jsxs("span",{className:"truncate w-2/3",children:[re.ip," ",re.name," x",re.quantity]}),g.jsxs("span",{children:["",re.price*re.quantity]})]},N))})]})})]},R)})})]})}function Nz({currentUser:n,isAdmin:e}){const[t,r]=Z.useState(Array.from({length:10},(f,h)=>({id:`order_${h+1}`,index:h+1}))),[a,l]=Z.useState(null);Z.useEffect(()=>{const f=Ka(si(rt,"artifacts","default-app-id","public","data","jf26_jcs_orders"),h=>{const d={};h.docs.forEach(p=>{d[p.id]=p.data()}),r(p=>p.map(y=>({...y,...d[y.id]||{items:[]}})))});return()=>f()},[]);const c=f=>{switch(f){case"WON":return"bg-green-100 text-green-700 border-green-200";case"LOST":return"bg-slate-100 text-slate-400 border-slate-200 grayscale opacity-70";default:return"bg-white text-slate-900 border-slate-200"}};return g.jsxs("div",{children:[g.jsx("div",{className:"bg-slate-900 text-yellow-400 p-6 rounded-xl border-4 border-yellow-400 shadow-[8px_8px_0px_0px_#0f172a] relative overflow-hidden mb-10",children:g.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-3xl font-black italic mb-2",children:"JUMP CHARACTERS STORE "}),g.jsxs("div",{className:"space-y-1 font-bold text-white",children:[g.jsxs("p",{className:"flex items-center gap-2",children:[g.jsx(ZS,{size:18,className:"text-yellow-400"})," 12/17 11:00 ~ 12/21 16:00"]}),g.jsxs("a",{href:"https://jumpcs.shueisha.co.jp/shop/default.aspx",target:"_blank",rel:"noreferrer",className:"flex items-center gap-2 underline hover:text-yellow-300",children:[g.jsx(ya,{size:18})," "]})]})]}),g.jsx("div",{className:"bg-yellow-400 text-slate-900 px-4 py-2 rounded font-black border-2 border-yellow-600 transform rotate-2",children:"(23)"})]})}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(f=>{const h=f.items&&f.items.length>0,d=h?f.items.reduce((p,y)=>p+Number(y.price)*Number(y.qty),0):0;return g.jsxs("div",{className:"bg-white rounded-xl border-4 border-slate-900 overflow-hidden shadow-[4px_4px_0px_0px_#6b21a8] hover:translate-y-[-2px] hover:shadow-[6px_6px_0px_0px_#6b21a8] transition-all",children:[g.jsxs("div",{className:"bg-slate-900 text-white px-4 py-3 flex justify-between items-center",children:[g.jsxs("h4",{className:"font-black italic text-lg flex items-center gap-2",children:[g.jsx(lA,{className:"text-purple-400",size:20})," ORDER #",f.index]}),e&&g.jsxs("button",{onClick:()=>l(f),className:"text-xs bg-slate-700 hover:bg-slate-600 px-2 py-1 rounded border border-slate-500 flex items-center gap-1",children:[g.jsx(to,{size:12})," "]})]}),g.jsx("div",{className:"p-4 min-h-[150px]",children:h?g.jsxs("div",{className:"space-y-3",children:[f.items.map((p,y)=>g.jsxs("div",{className:`flex items-center justify-between p-2 rounded border-2 ${c(p.status)}`,children:[g.jsxs("div",{className:"flex-1",children:[g.jsx("div",{className:"font-bold text-sm",children:p.name}),g.jsxs("div",{className:"text-xs opacity-80",children:["",p.price," x ",p.qty]})]}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsxs("div",{className:"font-mono font-black",children:["",p.price*p.qty]}),p.status==="WON"&&g.jsx(lm,{className:"text-green-600",size:18}),p.status==="LOST"&&g.jsx(B8,{className:"text-slate-400",size:18}),(!p.status||p.status==="PENDING")&&g.jsx(eA,{size:18,className:"text-slate-400"})]})]},y)),g.jsxs("div",{className:"border-t-2 border-slate-100 mt-2 pt-2 flex justify-between items-center font-black text-slate-900",children:[g.jsx("span",{children:"TOTAL"}),g.jsxs("span",{className:"text-lg",children:["",d.toLocaleString()]})]})]}):g.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 font-bold gap-2 py-8",children:[g.jsx(Rv,{size:32}),g.jsx("span",{children:""})]})})]},f.id)})}),g.jsx(Hr,{isOpen:!!a,onClose:()=>l(null),title:` #${a?.index}`,children:a&&g.jsx(Rz,{initialData:a,onSubmit:async f=>{try{await vv(vt(rt,"artifacts","default-app-id","public","data","jf26_jcs_orders",a.id),f),l(null)}catch(h){console.error(h),alert("")}},onCancel:()=>l(null)})})]})}function Rz({initialData:n,onSubmit:e,onCancel:t}){const[r,a]=Z.useState(n.items||[]),l=()=>{a([...r,{name:"",qty:1,price:0,status:"PENDING"}])},c=(h,d,p)=>{const y=[...r];y[h][d]=p,a(y)},f=h=>{a(r.filter((d,p)=>p!==h))};return g.jsxs("form",{onSubmit:h=>{h.preventDefault(),e({items:r})},className:"space-y-4",children:[g.jsx("div",{className:"max-h-[50vh] overflow-y-auto space-y-4 p-1",children:r.map((h,d)=>g.jsxs("div",{className:"bg-slate-50 p-3 rounded border-2 border-slate-200 relative",children:[g.jsx("button",{type:"button",onClick:()=>f(d),className:"absolute top-1 right-1 text-slate-400 hover:text-red-500",children:g.jsx(fi,{size:16})}),g.jsxs("div",{className:"space-y-2 pr-6",children:[g.jsx("input",{className:"w-full text-sm font-bold border border-slate-300 rounded p-1",placeholder:"",value:h.name,onChange:p=>c(d,"name",p.target.value),required:!0}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("input",{type:"number",className:"w-20 text-sm border border-slate-300 rounded p-1",placeholder:"",value:h.qty,onChange:p=>c(d,"qty",p.target.value)}),g.jsx("input",{type:"number",className:"flex-1 text-sm border border-slate-300 rounded p-1",placeholder:"()",value:h.price,onChange:p=>c(d,"price",p.target.value)})]}),g.jsx("div",{className:"flex gap-2 text-xs font-bold",children:["PENDING","WON","LOST"].map(p=>g.jsx("button",{type:"button",onClick:()=>c(d,"status",p),className:`flex-1 py-1 rounded border ${h.status===p?p==="WON"?"bg-green-500 text-white border-green-600":p==="LOST"?"bg-slate-500 text-white border-slate-600":"bg-yellow-400 text-black border-yellow-500":"bg-white text-slate-500 border-slate-200"}`,children:p==="WON"?"":p==="LOST"?"":""},p))})]})]},d))}),g.jsxs("button",{type:"button",onClick:l,className:"w-full py-2 bg-slate-100 text-slate-600 font-bold rounded border-2 border-dashed border-slate-300 hover:bg-slate-200 hover:border-slate-400 flex items-center justify-center gap-2",children:[g.jsx(Gf,{size:16})," "]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t-2 border-slate-100",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded border font-bold",children:""}),g.jsx("button",{type:"submit",className:"px-6 py-2 rounded bg-slate-900 text-white font-bold",children:""})]})]})}function Iz({initialData:n,onSubmit:e,onCancel:t}){const[r,a]=Z.useState({name:n?.name||"",mainUrl:n?.mainUrl||"",preOrder:{period:n?.preOrder?.period||"",url:n?.preOrder?.url||""},postOrder:{period:n?.postOrder?.period||"",url:n?.postOrder?.url||""},tags:n?.tags||[],products:n?.products||[],notes:n?.notes||""}),l=d=>{a(p=>{const y=p.tags.includes(d)?p.tags.filter(_=>_!==d):[...p.tags,d];return{...p,tags:y}})},c=d=>{const y=d.target.value.split(/[,]/).map(_=>_.trim()).filter(_=>_);a({...r,products:y})},f="w-full border-2 border-slate-300 rounded p-2 text-sm font-bold focus:border-slate-900 focus:ring-0 focus:shadow-[4px_4px_0px_0px_#FACC15] transition-all",h="block text-xs font-black text-slate-700 mb-1 uppercase tracking-wide";return g.jsxs("form",{onSubmit:d=>{d.preventDefault(),e(r)},className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:h,children:""}),g.jsx("input",{className:f,value:r.name,onChange:d=>a({...r,name:d.target.value}),required:!0})]}),g.jsxs("div",{children:[g.jsx("label",{className:h,children:" (Main URL)"}),g.jsx("input",{className:f,value:r.mainUrl,onChange:d=>a({...r,mainUrl:d.target.value}),placeholder:"https://..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:h,children:""}),g.jsx("div",{className:"flex gap-3",children:["","",""].map(d=>g.jsxs("label",{className:`flex-1 cursor-pointer border-2 rounded px-2 py-2 text-center text-xs font-black transition-all ${r.tags.includes(d)?"bg-slate-900 text-yellow-400 border-slate-900 shadow-[2px_2px_0px_0px_#FACC15] transform -translate-y-0.5":"bg-white text-slate-400 border-slate-200 hover:border-slate-400"}`,children:[g.jsx("input",{type:"checkbox",className:"hidden",checked:r.tags.includes(d),onChange:()=>l(d)}),r.tags.includes(d)&&g.jsx(lm,{size:10,className:"inline mr-1"}),d]},d))})]}),g.jsxs("div",{className:"bg-yellow-50 p-3 rounded border-2 border-yellow-200 space-y-2",children:[g.jsx("p",{className:h+" text-yellow-700 border-b border-yellow-200 pb-1",children:""}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:""}),g.jsx("input",{className:f,value:r.preOrder.period,onChange:d=>a({...r,preOrder:{...r.preOrder,period:d.target.value}})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:""}),g.jsx("input",{className:f,value:r.preOrder.url,onChange:d=>a({...r,preOrder:{...r.preOrder,url:d.target.value}})})]})]}),g.jsxs("div",{className:"bg-blue-50 p-3 rounded border-2 border-blue-200 space-y-2",children:[g.jsx("p",{className:h+" text-blue-700 border-b border-blue-200 pb-1",children:""}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:""}),g.jsx("input",{className:f,value:r.postOrder.period,onChange:d=>a({...r,postOrder:{...r.postOrder,period:d.target.value}})})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-[10px] font-bold text-slate-500",children:""}),g.jsx("input",{className:f,value:r.postOrder.url,onChange:d=>a({...r,postOrder:{...r.postOrder,url:d.target.value}})})]})]}),g.jsxs("div",{children:[g.jsx("label",{className:h,children:" IP ()"}),g.jsx("textarea",{className:f+" h-20",defaultValue:r.products.join(", "),onChange:c,placeholder:"..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:h,children:""}),g.jsx("input",{className:f,value:r.notes,onChange:d=>a({...r,notes:d.target.value})})]}),g.jsxs("div",{className:"flex justify-end gap-2 pt-4 border-t-2 border-slate-200 mt-2",children:[g.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 rounded border-2 border-slate-300 font-black text-slate-500 hover:bg-slate-100 hover:text-slate-900",children:""}),g.jsx("button",{type:"submit",className:"px-6 py-2 rounded bg-slate-900 text-yellow-400 font-black border-2 border-slate-900 hover:bg-slate-800 shadow-[4px_4px_0px_0px_#FACC15] active:translate-y-0.5 active:shadow-none transition-all",children:" (SAVE)"})]})]})}function Oz(){const[n,e]=Z.useState(!1),t="4sNrzUoSLQY",r=`https://www.youtube.com/embed/${t}?autoplay=1&mute=1&loop=1&playlist=${t}&controls=1`;return g.jsx("div",{className:`fixed bottom-4 left-4 z-[9999] transition-all duration-300 ${n?"w-12 h-12":"w-80"}`,children:g.jsxs("div",{className:"bg-slate-900 border-4 border-yellow-400 rounded-xl shadow-[4px_4px_0px_0px_#000] overflow-hidden flex flex-col h-full",children:[g.jsx("div",{style:{display:n?"none":"block",height:"180px"},children:g.jsx("iframe",{width:"100%",height:"100%",src:r,title:"YouTube music player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})}),n?g.jsx("button",{onClick:()=>e(!1),className:"w-full h-full flex items-center justify-center text-yellow-400 hover:bg-slate-800 bg-slate-900",children:g.jsx(gT,{size:20,className:"animate-pulse"})}):g.jsxs("div",{className:"p-3 bg-slate-900",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsxs("span",{className:"text-[10px] font-black text-yellow-400 flex items-center gap-1",children:[g.jsx(gT,{size:12})," BGM PLAYER - "]}),g.jsx("button",{onClick:()=>e(!0),className:"text-slate-400 hover:text-white",children:g.jsx(Nv,{size:14})})]}),g.jsx("div",{className:"text-[10px] text-slate-400 text-center",children:" AdBlock"})]})]})})}const Ws="",Wu=["","","","","","","",""],Dz=["","","","","","+","+"],kz=90;function Mz({appUser:n,usersData:e,handleLogout:t}){const[r,a]=Z.useState([]),[l,c]=Z.useState([]),[f,h]=Z.useState([]),[d,p]=Z.useState(null),[y,_]=Z.useState(null),[w,C]=Z.useState(null),[E,b]=Z.useState(null),[j,R]=Z.useState("wishing"),[M,G]=Z.useState(!1),[te,re]=Z.useState(""),[N,O]=Z.useState(""),[I,D]=Z.useState("<div> <strong>PLUS ULTRA!!</strong> </div>"),[L,B]=Z.useState(!1),[V,$e]=Z.useState(""),Ue=15,[de,be]=Z.useState(1),[qe,Ze]=Z.useState(0),Je=l.find(se=>se.id===y)||null;Z.useEffect(()=>{const se=Ka(si(rt,"artifacts","default-app-id","public","data","wishes"),ft=>a(ft.docs.map(tn=>({id:tn.id,...tn.data()})))),Me=Ka(si(rt,"artifacts","default-app-id","public","data","groups"),ft=>c(ft.docs.map(tn=>({id:tn.id,...tn.data()})))),He=Ka(si(rt,"artifacts","default-app-id","public","data","orders"),ft=>h(ft.docs.map(tn=>({id:tn.id,...tn.data()})))),Ie=Ka(vt(rt,"artifacts","default-app-id","public","data","system","bulletin"),ft=>{ft.exists()&&D(ft.data().content)});return()=>{se(),Me(),He(),Ie()}},[]),Z.useEffect(()=>{if(l.length===0)return;(async()=>{const Me=new Date,He=10080*60*1e3;l.forEach(async Ie=>{if(Ie.status===""&&Ie.closedAt&&Me-new Date(Ie.closedAt)>He)try{await Zu(vt(rt,"artifacts","default-app-id","public","data","groups",Ie.id))}catch(ft){console.error("",ft)}})})()},[l]),Z.useEffect(()=>{if(e.length===0)return;const se=new Date;e.forEach(async Me=>{if(Me.isMember&&Me.memberValidUntil&&new Date(Me.memberValidUntil)<se)try{await mn(vt(rt,"artifacts","default-app-id","public","data","users",Me.id),{isMember:!1,memberValidUntil:null,memberCancelledAt:null})}catch(He){console.error("",He)}})},[e]),Z.useEffect(()=>{be(1)},[j,te,N]);const ee=(se,Me)=>{const He=se.updatedAt||se.createdAt;if(!He)return!1;const Ie=`read_${n.id}_${Me}_${se.id}`,ft=localStorage.getItem(Ie);return ft?new Date(He)>new Date(ft):!0},F=(se,Me)=>{const He=`read_${n.id}_${Me}_${se.id}`;localStorage.setItem(He,new Date().toISOString()),Ze(Ie=>Ie+1)},J=async se=>{n&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{password:se}),alert(""),p(null))},W=async se=>{if(n)try{await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{name:se}),alert(""),p(null)}catch(Me){console.error("",Me),alert("")}},K=async se=>{n&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{avatar:se}),alert(""),p(null))},pe=async()=>{if(n)if(n.isMember){if(n.memberValidUntil)confirm(`
`)&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{memberValidUntil:null,memberCancelledAt:null}),alert(""));else if(confirm(`
 30 `)){const se=new Date;se.setDate(se.getDate()+30),await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{isMember:!0,memberValidUntil:se.toISOString(),memberCancelledAt:new Date().toISOString()}),alert(`
 ${se.toLocaleDateString()}`)}}else confirm(` PLUS ULTRA 
`)&&(await mn(vt(rt,"artifacts","default-app-id","public","data","users",n.id),{isMember:!0,memberSince:new Date().toISOString(),memberValidUntil:null,memberCancelledAt:null}),alert(""))},Re=async se=>{try{w?await mn(vt(rt,"artifacts","default-app-id","public","data","wishes",w.id),{...se,updatedAt:new Date().toISOString()}):await mc(si(rt,"artifacts","default-app-id","public","data","wishes"),{...se,authorName:n.name,authorId:n.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),plusOnes:[]}),p(null),C(null)}catch(Me){console.error(Me),alert("")}},Be=async se=>{if(confirm(`${se.title}`))try{await Zu(vt(rt,"artifacts","default-app-id","public","data","wishes",se.id))}catch(Me){console.error(Me)}},Oe=async se=>{if(confirm(`${se.title}
`))try{await Zu(vt(rt,"artifacts","default-app-id","public","data","groups",se.id))}catch(Me){console.error("",Me),alert("")}},ke=async se=>{if(!n)return;F(se,"wish");const Me=se.plusOnes||[],Ie=Me.includes(n.name)?Me.filter(ft=>ft!==n.name):[...Me,n.name];await mn(vt(rt,"artifacts","default-app-id","public","data","wishes",se.id),{plusOnes:Ie})},gt=async se=>{await mc(si(rt,"artifacts","default-app-id","public","data","groups"),{...se,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),status:"",createdBy:n.name,exchangeRate:.21,shippingFee:0,secondPayment:{},paymentStatus:""}),p(null)},lt=async se=>{const Me={title:`[] ${se.ipName}`,type:"",infoUrl:se.sourceUrl,status:"",createdBy:n.name,createdById:n.id,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),exchangeRate:.21,shippingFee:0,deadline:"",items:se.items.map(He=>({id:He.id,name:He.name,price:He.price,limit:He.quantity,image:"",spec:""})),note:se.note,requestType:se.type,secondPayment:{},paymentStatus:""};try{const He=await mc(si(rt,"artifacts","default-app-id","public","data","groups"),Me),Ie=se.items.map(ft=>({itemId:ft.id,name:ft.name,price:ft.price,quantity:ft.quantity,image:""}));await mc(si(rt,"artifacts","default-app-id","public","data","orders"),{groupId:He.id,userId:n.id,userName:n.name,items:Ie,updatedAt:new Date().toISOString()}),p(null),alert("")}catch(He){console.error("",He),alert("")}},en=async se=>{if(E)try{await mn(vt(rt,"artifacts","default-app-id","public","data","groups",E.id),{...se,updatedAt:new Date().toISOString(),status:E.status,createdAt:E.createdAt,exchangeRate:E.exchangeRate,shippingFee:E.shippingFee}),p(null),b(null),alert("")}catch(Me){console.error("",Me),alert("")}},ut=async se=>{if(Je)try{await mn(vt(rt,"artifacts","default-app-id","public","data","groups",Je.id),{secondPayment:se}),alert("")}catch(Me){console.error("",Me),alert("")}},Xn=async(se,Me)=>{const He=f.find(ft=>ft.groupId===Me&&ft.userId===n.id);if(se.length===0){if(He)try{await Zu(vt(rt,"artifacts","default-app-id","public","data","orders",He.id)),alert("")}catch(ft){console.error("",ft),alert("")}p("viewOrders");return}const Ie={groupId:Me,userId:n.id,userName:n.name,items:se,updatedAt:new Date().toISOString()};He?await mn(vt(rt,"artifacts","default-app-id","public","data","orders",He.id),Ie):await mc(si(rt,"artifacts","default-app-id","public","data","orders"),Ie),p("viewOrders")},Ct=async se=>{confirm(`${se.title}`)&&await mn(vt(rt,"artifacts","default-app-id","public","data","groups",se.id),{status:"",trackingStatus:Wu[0]})},ze=async(se,Me)=>{const He={trackingStatus:Me};Me===""&&(He.status="",He.closedAt=new Date().toISOString()),Me===""&&(He.status=""),await mn(vt(rt,"artifacts","default-app-id","public","data","groups",se.id),He)},bn=async(se,Me)=>{await mn(vt(rt,"artifacts","default-app-id","public","data","groups",se.id),{paymentStatus:Me})},Nt=async()=>{try{await vv(vt(rt,"artifacts","default-app-id","public","data","system","bulletin"),{content:V},{merge:!0}),D(V),B(!1),alert("Plus Ultra")}catch(se){console.error("",se),alert("")}},Pt=Z.useMemo(()=>{if(!f||!l||f.length===0||!n)return 0;const se={};return f.forEach(Me=>{se[Me.groupId]||(se[Me.groupId]=0),Me.items.forEach(He=>{se[Me.groupId]+=Number(He.quantity)||0})}),f.reduce((Me,He)=>{if(He.userId!==n.id)return Me;const Ie=l.find(ft=>ft.id===He.groupId);if(!Ie)return Me;if(["",""].includes(Ie.status)){const ft=Number(Ie.exchangeRate||0),tn=Number(Ie.shippingFee||0),br=se[Ie.id]||1,Sr=tn/br,Mi=(He.items||[]).reduce((Qn,dr)=>Qn+(Number(dr.quantity)||0),0),cn=(He.items||[]).reduce((Qn,dr)=>Qn+(Number(dr.price)||0)*(Number(dr.quantity)||0),0),Kn=Sr*Mi,kr=cn+Kn,hr=Math.round(kr*ft);let ra=0;if(Ie.secondPayment){const dr=Ie.secondPayment.weights||{},Cl=parseFloat(Ie.secondPayment.boxWeight||0),Pi=parseFloat(Ie.secondPayment.minChargeDiff||0),Li=Cl*250,Oa=br>0?Li/br:0,Pr=new Set(f.filter(q=>q.groupId===Ie.id).map(q=>q.userId)).size,k=Pr>0?Pi/Pr:0;He.items.forEach(q=>{const H=parseFloat(dr[q.itemId]||0)*250+Oa;ra+=H*q.quantity}),ra+=k}const Mr=Ie.paymentStatus||"";if(Mr==="")return Me;if(Mr==="")return Me+hr;if(Mr==="")return Me;if(Mr==="")return Me+Math.round(ra);if(Mr==="")return Me;if(Mr==="+")return Me+hr+Math.round(ra);if(Mr==="+")return Me}return Me},0)},[f,l,n]),{memberFeeSplit:Wn,isMember:wr}=Z.useMemo(()=>{if(!n||!e.length)return{memberFeeSplit:0,isMember:!1};const se=e.filter(He=>He.isMember).length;return{memberFeeSplit:se>0?Math.ceil(kz/se):0,isMember:n.isMember}},[n,e]),$r=(se,Me="deadline")=>{let He=l.filter(Ie=>se.includes(Ie.status));return(te||N)&&(He=He.filter(Ie=>{if(!Ie.deadline||Ie.deadline==="")return!1;const ft=new Date(Ie.deadline).getTime(),tn=te?new Date(te).getTime():0,br=N?new Date(N).getTime()+864e5:1/0;return ft>=tn&&ft<br})),He.sort((Ie,ft)=>{const tn=Ie.releaseDate||"9999-12-31",br=ft.releaseDate||"9999-12-31";return tn.localeCompare(br)})},Yt=$r([""],"deadline"),Dr=$r([""],"releaseDate"),Di=$r([""],"releaseDate"),ki=$r([""],"releaseDate"),ds=j==="active"?Yt:j==="completed"?Dr:j==="shipping"?Di:j==="closed"?ki:[],mi=Math.ceil(ds.length/Ue),na=ds.slice((de-1)*Ue,de*Ue),Ia=()=>mi<=1?null:g.jsxs("div",{className:"flex justify-center items-center gap-2 mt-8 animate-in fade-in slide-in-from-bottom-4",children:[g.jsx("button",{onClick:()=>be(se=>Math.max(1,se-1)),disabled:de===1,className:"px-3 py-1 rounded font-black border-2 border-slate-900 bg-white text-slate-900 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"PREV"}),Array.from({length:mi},(se,Me)=>Me+1).map(se=>g.jsx("button",{onClick:()=>be(se),className:`w-8 h-8 rounded flex items-center justify-center font-black border-2 border-slate-900 transition-all ${de===se?"bg-slate-900 text-yellow-400 transform -translate-y-1 shadow-[2px_2px_0px_0px_#FACC15]":"bg-white text-slate-500 hover:bg-slate-50"}`,children:se},se)),g.jsx("button",{onClick:()=>be(se=>Math.min(mi,se+1)),disabled:de===mi,className:"px-3 py-1 rounded font-black border-2 border-slate-900 bg-white text-slate-900 hover:bg-slate-100 disabled:opacity-30 disabled:cursor-not-allowed transition-all",children:"NEXT"})]});return g.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800 font-sans pb-20 selection:bg-yellow-400 selection:text-black",children:[g.jsx("header",{className:"sticky top-0 z-30 bg-slate-900 border-b-4 border-yellow-400 px-4 py-3 shadow-md",children:g.jsxs("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx("div",{className:"bg-yellow-400 p-2 rounded transform -skew-x-12 border-2 border-white",children:g.jsx(IM,{size:24,className:"text-slate-900 transform skew-x-12"})}),g.jsx("h1",{className:"text-2xl font-black italic tracking-tight text-white hidden sm:block",children:""})]}),g.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[g.jsxs("div",{className:"flex flex-col items-end mr-1 pr-2 sm:mr-2 sm:pr-4 border-r border-slate-700 relative group",children:[g.jsxs("span",{className:"text-[10px] sm:text-xs text-slate-400 mb-0.5 flex items-center gap-1 cursor-help",children:[" ",g.jsx(Cv,{size:12,className:"text-slate-500"})]}),g.jsxs("div",{className:"text-yellow-400 font-black leading-none drop-shadow-sm text-right",children:[g.jsx("span",{className:"text-xs mr-1 text-yellow-200",children:"NT$"}),g.jsx("span",{className:"text-lg sm:text-xl font-mono",children:wr?`${Wn} + ${Pt.toLocaleString()}`:Pt.toLocaleString()})]}),g.jsxs("div",{className:"absolute top-12 right-0 w-max bg-slate-800 text-white text-xs p-2 rounded border border-yellow-400 shadow-xl opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none z-50",children:[g.jsx("p",{className:"font-bold mb-1 text-yellow-400",children:""}),g.jsx("p",{children:"  ()"}),g.jsx("p",{children:" "})]})]}),g.jsxs("div",{className:"text-right hidden sm:block",children:[g.jsx("p",{className:"text-xs text-slate-400",children:"HERO NAME"}),g.jsx("p",{className:"font-bold text-white tracking-wide",children:n.name})]}),g.jsxs("div",{className:"relative",children:[g.jsxs("button",{onClick:()=>G(!M),className:`w-10 h-10 rounded-full bg-slate-800 border-2 ${wr?"border-purple-500":"border-yellow-400"} shadow-lg overflow-hidden hover:scale-105 transition-all relative`,children:[g.jsx("img",{src:n.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n.name}`,alt:"avatar",className:"w-full h-full object-cover"}),wr&&g.jsx("div",{className:"absolute -top-1 -right-1 bg-purple-600 rounded-full p-0.5 border border-white",children:g.jsx(gd,{size:8,className:"text-white fill-white"})})]}),M&&g.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-xl border-2 border-slate-900 py-1 z-50 animate-in fade-in slide-in-from-top-2",children:[g.jsxs("div",{className:"px-3 py-2 border-b-2 border-slate-100 bg-slate-50",children:[g.jsxs("div",{className:"flex justify-between items-center mb-1",children:[g.jsxs("span",{className:"text-xs font-black text-slate-500 flex items-center gap-1",children:[g.jsx(gd,{size:12,className:wr?"text-purple-600 fill-purple-600":"text-slate-300"}),"PLUS "]}),wr&&g.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-1.5 rounded font-bold",children:"SUBSCRIBED"})]}),g.jsx("button",{onClick:pe,className:`w-full text-xs font-bold py-1.5 rounded border-2 transition-all ${wr&&n.memberValidUntil?"bg-green-100 text-green-700 border-green-300 hover:bg-green-200":wr?"bg-white border-slate-300 text-slate-500 hover:bg-red-50 hover:text-red-500 hover:border-red-300":"bg-purple-600 border-purple-800 text-white hover:bg-purple-700"}`,children:wr?n.memberValidUntil?" ()":" (30)":" (NT$90/)"}),(n.memberSince||n.memberCancelledAt)&&(n.id===n.id||n.name===Ws)&&g.jsxs("div",{className:"mt-2 text-[10px] text-slate-400 border-t border-slate-200 pt-1 space-y-0.5",children:[n.memberSince&&g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(eA,{size:8})," : ",new Date(n.memberSince).toLocaleDateString()]}),n.memberValidUntil&&g.jsxs("div",{className:"text-red-500 font-bold flex items-center gap-1",children:[g.jsx(JS,{size:8})," : ",new Date(n.memberValidUntil).toLocaleDateString()]})]})]}),g.jsxs("button",{onClick:()=>{G(!1),p("changeName")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(Pc,{size:16})," "]}),g.jsxs("button",{onClick:()=>{G(!1),p("changeAvatar")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(Av,{size:16})," "]}),g.jsxs("button",{onClick:()=>{G(!1),p("changePwd")},className:"w-full px-4 py-2 text-left text-sm hover:bg-yellow-50 flex items-center gap-2 text-slate-700 font-bold",children:[g.jsx(nA,{size:16})," "]}),g.jsx("div",{className:"border-t-2 border-slate-100 my-1"}),g.jsxs("button",{onClick:t,className:"w-full px-4 py-2 text-left text-sm hover:bg-red-50 text-red-600 flex items-center gap-2 font-black",children:[g.jsx(rA,{size:16})," "]})]})]})]})]})}),g.jsx("section",{className:"max-w-5xl mx-auto mt-6 px-4",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[g.jsxs("div",{className:"md:col-span-3 bg-white rounded-lg p-0 shadow-[4px_4px_0px_0px_rgba(15,23,42,1)] border-2 border-slate-900 relative overflow-hidden flex flex-col",children:[g.jsxs("div",{className:"bg-yellow-400 border-b-2 border-slate-900 p-3 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-2 text-slate-900 font-black text-lg italic transform -skew-x-6",children:[g.jsx(fM,{size:24,className:"fill-slate-900"}),g.jsx("h2",{children:"ACADEMY NEWS"})]}),n?.name===Ws&&!L&&g.jsxs("button",{onClick:()=>{$e(I),B(!0)},className:"text-xs bg-slate-900 hover:bg-slate-700 text-white px-3 py-1.5 rounded font-bold uppercase tracking-wider transition-colors",children:[g.jsx(to,{size:12,className:"inline mr-1"})," Edit"]})]}),g.jsx("div",{className:"p-6 flex-1",children:L?g.jsxs("div",{className:"animate-in fade-in duration-300",children:[g.jsx(sU,{initialContent:V,onChange:$e}),g.jsxs("div",{className:"flex justify-end gap-2 mt-3",children:[g.jsxs("button",{onClick:()=>B(!1),className:"px-4 py-2 rounded border-2 border-slate-300 text-slate-600 font-bold hover:bg-slate-100",children:[g.jsx(fi,{size:16,className:"inline mr-1"})," CANCEL"]}),g.jsxs("button",{onClick:Nt,className:"px-4 py-2 rounded bg-red-600 border-2 border-red-800 text-white font-black hover:bg-red-700 shadow-sm",children:[g.jsx(xo,{size:16,className:"inline mr-1"})," PUBLISH"]})]})]}):g.jsx("div",{className:"prose prose-slate prose-sm max-w-none text-slate-700 font-medium",dangerouslySetInnerHTML:{__html:I}})})]}),g.jsx("div",{className:"md:col-span-1",children:g.jsx(jd,{to:"/jf26",className:"block w-full h-full relative group transition-all duration-300 hover:-translate-y-1 focus:outline-none",children:g.jsxs("div",{className:"h-full bg-white p-2 rounded-xl border-4 border-slate-900 shadow-[4px_4px_0px_0px_#FACC15] transition-all overflow-hidden relative flex flex-col",children:[g.jsx("div",{className:"bg-slate-900 text-yellow-400 font-black text-center text-sm py-1 mb-1 italic",children:"JF26 "}),g.jsxs("div",{className:"flex-1 overflow-hidden rounded-lg border-2 border-slate-100 relative",children:[g.jsx("img",{src:"https://www.jumpfesta.com/assets/images/top_jumpfesta_pc@2x.webp",alt:"JF26",className:"w-full h-full object-cover"}),g.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"})]}),g.jsx("div",{className:"absolute top-2 right-2 bg-red-600 text-white text-[10px] font-bold px-2 py-0.5 rounded-full animate-pulse border border-white shadow-sm transform rotate-12",children:"HOT!"})]})})})]})}),g.jsx("nav",{className:"max-w-5xl mx-auto mt-8 px-4",children:g.jsx("div",{className:"bg-white p-2 rounded-lg shadow-sm border-2 border-slate-200 inline-flex gap-2 flex-wrap sm:flex-nowrap",children:[{id:"wishing",label:"",icon:mT},{id:"active",label:"",icon:yd},{id:"completed",label:"",icon:lm},{id:"shipping",label:"",icon:iA},{id:"closed",label:"",icon:y8}].map(se=>g.jsxs("button",{onClick:()=>R(se.id),className:`px-4 sm:px-6 py-2 rounded font-black text-sm flex items-center gap-2 transition-all flex-1 sm:flex-none justify-center border-2 ${j===se.id?"bg-slate-900 border-slate-900 text-yellow-400 shadow-md transform -translate-y-1":"bg-transparent border-transparent text-slate-500 hover:bg-slate-100 hover:text-slate-900"}`,children:[g.jsx(se.icon,{size:18}),se.label]},se.id))})}),g.jsxs("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[j==="wishing"&&g.jsxs("div",{children:[g.jsx("div",{className:"flex justify-end mb-6",children:g.jsxs("button",{onClick:()=>{C(null),p("wish")},className:"px-6 py-2 bg-red-600 text-white border-2 border-red-800 rounded font-black hover:bg-red-700 flex items-center gap-2 shadow-[2px_2px_0px_0px_rgba(153,27,27,1)] active:translate-y-0.5 active:shadow-none transition-all italic",children:[g.jsx(Gf,{size:20})," MAKE A WISH"]})}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(se=>{const Me=ee(se,"wish");return g.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-sm border-2 border-slate-200 hover:border-slate-900 hover:shadow-[4px_4px_0px_0px_rgba(15,23,42,1)] transition-all flex flex-col h-full relative group",onClick:()=>F(se,"wish"),children:[Me&&g.jsx("div",{className:"absolute -top-3 -left-3 bg-red-600 text-white text-xs font-black px-2 py-1 shadow-md transform -rotate-12 z-50 border-2 border-white pointer-events-none",children:"NEW!"}),g.jsx("div",{className:"mb-3 w-full aspect-video bg-slate-100 rounded border border-slate-200 overflow-hidden",children:g.jsx(iw,{images:se.images})}),g.jsxs("div",{className:"flex-1",children:[g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsx("h3",{className:"font-bold text-lg text-slate-900 line-clamp-2",children:se.title}),(n?.id===se.authorId||n?.name===Ws)&&g.jsxs("div",{className:"flex gap-1",children:[g.jsx("button",{onClick:He=>{He.stopPropagation(),C(se),p("wish")},className:"text-slate-400 hover:text-blue-600 p-1",title:"",children:g.jsx(to,{size:16})}),g.jsx("button",{onClick:He=>{He.stopPropagation(),Be(se)},className:"text-slate-400 hover:text-red-600 p-1",title:"",children:g.jsx(W0,{size:16})})]})]}),g.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g.jsxs("span",{className:"bg-yellow-100 text-yellow-800 border border-yellow-200 text-xs px-2 py-1 rounded font-bold",children:["BY: ",se.authorName]}),se.url&&g.jsxs("a",{href:se.url,target:"_blank",rel:"noreferrer",onClick:He=>He.stopPropagation(),className:"text-blue-600 font-bold text-xs hover:underline truncate max-w-[120px] flex items-center gap-1",children:[g.jsx(ya,{size:10})," Link"]})]}),g.jsx("p",{className:"text-slate-600 text-sm mb-4 line-clamp-3 bg-slate-50 p-2 rounded border border-slate-100",children:se.note||""})]}),g.jsxs("div",{className:"pt-4 border-t-2 border-slate-100 flex justify-between items-end mt-auto",children:[g.jsx("div",{className:"text-xs font-bold text-slate-400",children:se.plusOnes?.length>0&&g.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[g.jsx(mT,{size:10,className:"fill-red-600"})," ",se.plusOnes.length," "]})}),g.jsx("button",{onClick:He=>{He.stopPropagation(),ke(se)},className:`flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-black border-2 transition-all ${se.plusOnes?.includes(n?.name)?"bg-red-100 border-red-500 text-red-600":"bg-white border-slate-200 text-slate-400 hover:border-slate-400"}`,children:"+1"})]})]},se.id)})}),r.length===0&&g.jsxs("div",{className:"col-span-full py-12 flex flex-col items-center justify-center text-slate-300",children:[g.jsx(kM,{size:48,className:"mb-3 opacity-50"}),g.jsx("p",{className:"font-bold",children:"... "})]})]}),(j==="active"||j==="completed"||j==="closed"||j==="shipping")&&g.jsxs("div",{children:[g.jsxs("div",{className:"mb-6 bg-slate-200 p-3 rounded-lg flex flex-col sm:flex-row items-center gap-4 border-2 border-slate-300",children:[g.jsxs("div",{className:"flex items-center gap-2 font-bold text-slate-700 text-sm",children:[g.jsx(aA,{size:18,className:"text-slate-500"})," ",j==="active"?":":":"]}),g.jsxs("div",{className:"flex items-center gap-2 flex-1 w-full",children:[g.jsx("input",{type:"date",className:"border-2 border-slate-300 rounded px-2 py-1 text-sm focus:border-yellow-400 focus:outline-none flex-1",value:te,onChange:se=>re(se.target.value)}),g.jsx("span",{className:"text-slate-400 font-bold",children:"~"}),g.jsx("input",{type:"date",className:"border-2 border-slate-300 rounded px-2 py-1 text-sm focus:border-yellow-400 focus:outline-none flex-1",value:N,onChange:se=>O(se.target.value)})]}),(te||N)&&g.jsx("button",{onClick:()=>{re(""),O("")},className:"text-xs bg-slate-400 text-white px-3 py-1.5 rounded font-bold hover:bg-slate-500",children:""})]}),j==="active"&&g.jsx("div",{className:"flex justify-end mb-6 gap-2",children:n?.name===Ws?g.jsxs("button",{onClick:()=>{b(null),p("createGroup")},className:"px-6 py-2 bg-slate-900 text-white rounded border-2 border-slate-900 font-black hover:bg-slate-700 flex items-center gap-2 shadow-[4px_4px_0px_0px_#FACC15] active:translate-y-0.5 active:shadow-none transition-all italic",children:[g.jsx(to,{size:18})," "]}):g.jsxs("button",{onClick:()=>p("createPersonalRequest"),className:"px-6 py-2 bg-purple-600 text-white rounded border-2 border-purple-800 font-black hover:bg-purple-700 flex items-center gap-2 shadow-[4px_4px_0px_0px_rgba(76,29,149,1)] active:translate-y-0.5 active:shadow-none transition-all italic",children:[g.jsx(yd,{size:18})," "]})}),j==="closed"&&g.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded border-2 border-red-100 mb-6 text-center text-sm font-bold flex items-center justify-center gap-2 animate-pulse",children:[g.jsx(W0,{size:16}),"   7 "]}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[na.map(se=>{const Me=!!f.find(Ie=>Ie.groupId===se.id&&Ie.userId===n?.id),He=j==="active"?ee(se,"group"):!1;return g.jsxs("div",{className:`bg-white rounded-lg p-5 shadow-sm border-2 border-slate-900 flex flex-col relative overflow-visible ${j==="closed"?"opacity-75 grayscale-[0.5]":""}`,onClick:()=>j==="active"&&F(se,"group"),children:[He&&g.jsx("div",{className:"absolute -top-3 -left-3 bg-red-600 text-white text-xs font-black px-2 py-1 shadow-md transform -rotate-12 z-50 border-2 border-white pointer-events-none",children:"NEW!"}),g.jsxs("div",{className:"flex justify-between items-start mb-2",children:[g.jsxs("div",{className:"flex flex-col gap-1",children:[se.type===""?g.jsx("span",{className:"self-start px-2 py-0.5 text-[10px] font-black text-white bg-green-600 rounded border border-green-800",children:"  IN STOCK"}):se.type===""?g.jsx("span",{className:"self-start px-2 py-0.5 text-[10px] font-black text-white bg-purple-600 rounded border border-purple-800",children:"  REQUEST"}):g.jsx("span",{className:"self-start px-2 py-0.5 text-[10px] font-black text-slate-900 bg-yellow-400 rounded border border-slate-900",children:"  PRE-ORDER"}),g.jsx("h3",{className:"font-black text-xl text-slate-900 italic",children:se.title})]}),n?.name===Ws&&g.jsxs("div",{className:"flex gap-1 ml-auto",children:[g.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),b(se),p("createGroup")},className:"text-slate-400 hover:text-blue-600 p-1",title:"",children:g.jsx(to,{size:18})}),g.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),Oe(se)},className:"text-slate-400 hover:text-red-600 p-1",title:"",children:g.jsx(W0,{size:18})})]})]}),g.jsx("div",{className:"mb-4 w-full aspect-video bg-slate-100 rounded border border-slate-200 overflow-hidden",children:g.jsx(iw,{images:se.images||[]})}),g.jsxs("div",{className:"space-y-2 text-sm text-slate-600 mb-6 flex-1",children:[g.jsxs("p",{className:"flex justify-between border-b border-slate-100 pb-1 font-bold",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-red-600",children:se.deadline})]}),se.releaseDate&&g.jsxs("p",{className:"flex justify-between border-b border-slate-100 pb-1 font-bold",children:[g.jsx("span",{children:""}),g.jsx("span",{className:"text-blue-600",children:se.releaseDate})]}),g.jsxs("p",{className:"flex justify-between border-b border-slate-100 pb-1",children:[g.jsx("span",{children:""}),g.jsxs("span",{children:[se.items?.length||0," "]})]}),se.infoUrl&&g.jsxs("p",{className:"flex justify-between border-b border-slate-100 pb-1",children:[g.jsx("span",{children:""}),g.jsxs("a",{href:se.infoUrl,target:"_blank",rel:"noreferrer",onClick:Ie=>Ie.stopPropagation(),className:"text-blue-600 font-bold hover:underline flex items-center gap-1",children:[g.jsx(ya,{size:12})," Link"]})]}),Me&&j==="active"&&g.jsx("div",{className:"mt-2 bg-green-100 text-green-700 border border-green-300 px-2 py-1 rounded text-center text-xs font-black transform -rotate-1",children:" (ORDERED)"})]}),se.status!==""&&g.jsxs("div",{className:"mt-4 mb-4",children:[g.jsx("div",{className:"flex justify-between text-[10px] text-slate-400 mb-1 px-1 font-bold",children:Wu.map(Ie=>g.jsx("span",{className:`${(se.trackingStatus||"")===Ie?"text-blue-600":""}`,children:Ie},Ie))}),g.jsx("div",{className:"h-3 bg-slate-200 rounded-full overflow-hidden flex border border-slate-300",children:Wu.map((Ie,ft)=>{const tn=Wu.indexOf(se.trackingStatus||"");return g.jsx("div",{className:`flex-1 border-r border-white last:border-0 transition-all duration-500 ${ft<=tn?"bg-blue-600":"bg-transparent"}`},Ie)})})]}),g.jsxs("div",{className:"flex gap-2 mt-auto",children:[j==="active"&&!(n?.name===Ws&&se.type==="")&&g.jsx("button",{className:`flex-1 px-4 py-2 rounded font-black text-white border-2 transition-all italic ${Me?"bg-green-600 border-green-800 hover:bg-green-700":"bg-red-600 border-red-800 hover:bg-red-700"}`,onClick:Ie=>{Ie.stopPropagation(),_(se.id),p("joinGroup")},children:Me?"":""}),g.jsx("button",{className:`px-3 py-2 rounded font-bold border-2 ${j!=="active"?"flex-1 bg-slate-100 border-slate-300 text-slate-700 hover:bg-slate-200":"bg-white border-slate-300 text-slate-600 hover:border-slate-500"}`,onClick:Ie=>{Ie.stopPropagation(),_(se.id),p("viewOrders")},children:""}),(j==="shipping"||j==="closed")&&g.jsx("button",{className:"px-3 py-2 rounded font-bold border-2 bg-yellow-400 border-slate-900 text-slate-900 hover:bg-yellow-500",onClick:Ie=>{Ie.stopPropagation(),_(se.id),p("secondPayment")},children:""}),n?.name===Ws&&j==="active"&&g.jsx("button",{onClick:Ie=>{Ie.stopPropagation(),Ct(se)},className:"px-3 py-2 rounded font-black bg-slate-900 text-white hover:bg-slate-700 border-2 border-slate-900",children:""})]}),(j==="completed"||j==="shipping"||j==="closed")&&n?.name===Ws&&g.jsxs("div",{className:"mt-3 pt-3 border-t-2 border-slate-100 space-y-2",onClick:Ie=>Ie.stopPropagation(),children:[g.jsx("select",{className:"w-full bg-slate-50 border-2 border-slate-200 text-sm rounded px-2 py-1 font-bold text-slate-700",value:se.trackingStatus||"",onChange:Ie=>ze(se,Ie.target.value),children:Wu.map(Ie=>g.jsx("option",{value:Ie,children:Ie},Ie))}),g.jsxs("div",{className:"flex items-center gap-2 bg-yellow-50 p-1 rounded border border-yellow-200",children:[g.jsx(vd,{size:14,className:"text-yellow-600"}),g.jsx("span",{className:"text-xs font-bold text-slate-500",children:""}),g.jsx("select",{className:"flex-1 bg-transparent text-xs font-black text-slate-900 focus:outline-none",value:se.paymentStatus||"",onChange:Ie=>bn(se,Ie.target.value),children:Dz.map(Ie=>g.jsx("option",{value:Ie,children:Ie},Ie))})]})]})]},se.id)}),na.length===0&&g.jsxs("div",{className:"col-span-full py-12 flex flex-col items-center justify-center text-slate-300",children:[g.jsx(sA,{size:48,className:"mb-3 opacity-50"}),g.jsx("p",{className:"font-bold",children:""})]})]}),g.jsx(Ia,{})]})]}),g.jsx(Hr,{isOpen:d==="wish",onClose:()=>{p(null),C(null)},title:w?"":"",children:g.jsx(a9,{onSubmit:Re,onCancel:()=>{p(null),C(null)},initialData:w})}),g.jsx(Hr,{isOpen:d==="createGroup",onClose:()=>{p(null),b(null)},title:E?"":"",children:g.jsx(l9,{onSubmit:E?en:gt,onCancel:()=>{p(null),b(null)},initialData:E,submitLabel:E?"":""})}),g.jsx(Hr,{isOpen:d==="createPersonalRequest",onClose:()=>p(null),title:"",children:g.jsx(o9,{onSubmit:lt,onCancel:()=>p(null)})}),g.jsx(Hr,{isOpen:d==="secondPayment",onClose:()=>p(null),title:"",children:Je&&g.jsx(iU,{group:Je,orders:f.filter(se=>se.groupId===Je?.id),currentUser:n,onUpdate:ut})}),g.jsx(Hr,{isOpen:d==="changeName",onClose:()=>p(null),title:"",children:g.jsx(X4,{currentUser:n,onSubmit:W,onCancel:()=>p(null)})}),g.jsx(Hr,{isOpen:d==="changePwd",onClose:()=>p(null),title:"",children:g.jsx(G4,{onSubmit:J})}),g.jsx(Hr,{isOpen:d==="changeAvatar",onClose:()=>p(null),title:"",children:g.jsx(Y4,{currentUser:n,onSubmit:K})}),g.jsx(Hr,{isOpen:d==="joinGroup",onClose:()=>p(null),title:`${Je?.title}`,children:Je&&g.jsx(c9,{group:Je,currentOrder:f.find(se=>se.groupId===Je?.id&&se.userId===n?.id),onSubmit:se=>Xn(se,Je.id)})}),g.jsx(Hr,{isOpen:d==="viewOrders",onClose:()=>p(null),title:`${Je?.title}`,children:Je&&g.jsx(nU,{group:Je,orders:f.filter(se=>se.groupId===Je?.id),currentUser:n,onEdit:Je?.status===""?()=>p("joinGroup"):null})})]})}function Pz(){const[n,e]=Z.useState(null),[t,r]=Z.useState(null),[a,l]=Z.useState(!0),[c,f]=Z.useState([]),h=Z.useCallback(()=>{r(null),localStorage.removeItem("app_user_id"),l(!1)},[]);Z.useEffect(()=>((async()=>{try{zg.currentUser||await WD(zg)}catch(y){console.error("Firebase ",y)}})(),ek(zg,y=>{e(y)})),[]),Z.useEffect(()=>{if(!n)return;const p=Ka(si(rt,"artifacts","default-app-id","public","data","users"),w=>{const C=w.docs.map(E=>({id:E.id,...E.data()}));f(C)}),y=localStorage.getItem("app_user_id");let _=()=>{};return y?_=Ka(vt(rt,"artifacts","default-app-id","public","data","users",y),w=>{w.exists()?(r({id:w.id,...w.data()}),l(!1)):h()},()=>h()):l(!1),()=>{p(),_()}},[n,h]);const d=(p,y)=>{const _=typeof p=="object"&&p!==null?p.id:p,w=c.find(C=>C.id===_);w&&String(w.password).trim()===String(y).trim()?(localStorage.setItem("app_user_id",w.id),r(w),l(!1)):alert("")};return a?g.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-slate-900 text-yellow-400",children:[g.jsx("div",{className:"flex items-center gap-2 mb-4 animate-bounce",children:g.jsx(AM,{size:80,className:"text-yellow-400 drop-shadow-[0_0_15px_rgba(250,204,21,0.5)]"})}),g.jsx("p",{className:"text-3xl font-black italic tracking-widest animate-pulse",children:"PLUS ULTRA..."})]}):g.jsx(cR,{children:g.jsxs("div",{className:"relative min-h-screen",children:[t&&g.jsx(Oz,{}),g.jsxs(V3,{children:[g.jsx(P0,{path:"/",element:t?g.jsx(xg,{to:"/home",replace:!0}):g.jsx(r9,{users:c,onLogin:d})}),g.jsx(P0,{path:"/home",element:t?g.jsx(Mz,{appUser:t,usersData:c,handleLogout:h}):g.jsx(xg,{to:"/",replace:!0})}),g.jsx(P0,{path:"/jf26",element:t?g.jsx(Sz,{currentUser:t}):g.jsx(xg,{to:"/",replace:!0})})]})]})})}WN.createRoot(document.getElementById("root")).render(g.jsx(cl.StrictMode,{children:g.jsx(Pz,{})}));
